// Native Javascript for Bootstrap 3 | Tooltip
// by dnp_theme

var Tooltip=function(t,i){this.link="object"==typeof t?t:document.querySelector(t),this.title=this.link.getAttribute("title")||this.link.getAttribute("data-original-title"),this.tooltip=null,this.options={},this.options.animation=i.animation&&"fade"!==i.animation?i.animation:"fade",this.options.placement=i.placement?i.placement:"top",this.options.delay=parseInt(i.delay)||100,this.duration=150,this.options.duration=document.documentElement.classList.contains("ie")?0:i.duration||this.duration,this.options.container=i.container||document.body,this.title&&this.init(),this.timer=0};Tooltip.prototype={init:function(){this.actions(),this.rect=null,this.link.addEventListener("mouseenter",this.open,!1),this.link.addEventListener("mouseleave",this.close,!1),this.link.setAttribute("data-original-title",this.title),this.link.removeAttribute("title")},actions:function(){var t=this;this.open=function(){clearTimeout(t.link.getAttribute("data-timer")),t.timer=setTimeout(function(){null===t.tooltip&&(t.createToolTip(),t.styleTooltip(),t.updateTooltip())},t.options.duration),t.link.setAttribute("data-timer",t.timer)},this.close=function(){clearTimeout(t.link.getAttribute("data-timer")),t.timer=setTimeout(function(){t.tooltip&&null!==t.tooltip&&(t.tooltip.classList.remove("in"),setTimeout(function(){t.removeToolTip()},t.options.duration))},t.options.delay+t.options.duration),t.link.setAttribute("data-timer",t.timer)},this.removeToolTip=function(){this.tooltip&&this.options.container.removeChild(this.tooltip),this.tooltip=null},this.createToolTip=function(){this.tooltip=document.createElement("div"),this.tooltip.setAttribute("role","tooltip");var t=document.createElement("div");t.setAttribute("class","tooltip-arrow");var i=document.createElement("div");i.setAttribute("class","tooltip-inner"),this.tooltip.appendChild(t),this.tooltip.appendChild(i),i.innerHTML=this.title,this.options.container.appendChild(this.tooltip)},this.styleTooltip=function(t){this.rect=this.getRect();var i=t||this.options.placement;this.tooltip.setAttribute("class","tooltip "+i+" "+this.options.animation);var e={w:this.link.offsetWidth,h:this.link.offsetHeight},o=this.tooltipDimensions(this.tooltip),n={w:o.w,h:o.h},l=this.getScroll().y,s=this.getScroll().x;null!==this.tooltip&&(/top/.test(i)?(this.tooltip.style.top=this.rect.top+l-n.h+"px",this.tooltip.style.left=this.rect.left+s-n.w/2+e.w/2+"px"):/bottom/.test(i)?(this.tooltip.style.top=this.rect.top+l+e.h+"px",this.tooltip.style.left=this.rect.left+s-n.w/2+e.w/2+"px"):/left/.test(i)?(this.tooltip.style.top=this.rect.top+l-n.h/2+e.h/2+"px",this.tooltip.style.left=this.rect.left+s-n.w+"px"):/right/.test(i)&&(this.tooltip.style.top=this.rect.top+l-n.h/2+e.h/2+"px",this.tooltip.style.left=this.rect.left+s+e.w+"px"))},this.updateTooltip=function(){var i=null;i=this.isElementInViewport(this.tooltip)?this.options.placement:this.updatePlacement(),this.styleTooltip(i),setTimeout(function(){t.tooltip.classList.add("in")},t.options.delay)},this.updatePlacement=function(){var t=this.options.placement;return/top/.test(t)?"bottom":/bottom/.test(t)?"top":/left/.test(t)?"right":/right/.test(t)?"left":void 0},this.getRect=function(){return this.link.getBoundingClientRect()},this.getScroll=function(){return{y:window.pageYOffset||document.documentElement.scrollTop,x:window.pageXOffset||document.documentElement.scrollLeft}},this.tooltipDimensions=function(t){return{w:t.offsetWidth,h:t.offsetHeight}},this.isElementInViewport=function(t){var i=t.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)}}};var Tooltips=document.querySelectorAll("[data-toggle=tooltip]");[].forEach.call(Tooltips,function(t){var i={};return i.animation=t.getAttribute("data-animation"),i.placement=t.getAttribute("data-placement"),i.duration=t.getAttribute("data-duration"),i.delay=t.getAttribute("data-delay"),new Tooltip(t,i)});