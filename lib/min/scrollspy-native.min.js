// Native Javascript for Bootstrap 3 | ScrollSpy
// by dnp_theme
!function(t){"undefined"!=typeof module&&"object"==typeof exports?module.exports="undefined"!=typeof window?t():t:window.ScrollSpy=t()}(function(){var t=function(t,e,s){s=s||{},this.element="object"==typeof t?t:document.querySelector(t),this.options={},this.options.target=s.target?"object"==typeof s.target?s.target:document.querySelector(s.target):null,this.items=this.options.target&&this.options.target.getElementsByTagName("A"),this.item=e,this.parent=this.item.parentNode,this.parentParent=this.parent.parentNode.parentNode,this.tg=this.item.href&&document.getElementById(this.item.getAttribute("href").replace("#","")),this.active=!1,this.topEdge=0,this.bottomEdge=0,this.scrollTarget=this.element.offsetHeight<this.element.scrollHeight?this.element:window,this.options.target&&this.init()};t.prototype={init:function(){this.item.getAttribute("href")&&this.item.getAttribute("href").indexOf("#")>-1&&(this.checkEdges(),this.refresh(),this.scrollEvent(),/ie8/.test(document.documentElement.className)||this.resizeEvent())},topLimit:function(){return this.scrollTarget===window?this.tg.getBoundingClientRect().top+this.scrollOffset():this.tg.offsetTop},bottomLimit:function(){return this.topLimit()+this.tg.offsetHeight},checkEdges:function(){this.topEdge=this.topLimit(),this.bottomEdge=this.bottomLimit()},scrollOffset:function(){return this.scrollTarget===window?window.pageYOffset||document.documentElement.scrollTop:this.element.scrollTop},activate:function(){this.parent&&"LI"===this.parent.tagName&&!/active/.test(this.parent.className)&&(this.addClass(this.parent,"active"),this.parentParent&&"LI"===this.parentParent.tagName&&/dropdown/.test(this.parentParent.className)&&!/active/.test(this.parentParent.className)&&this.addClass(this.parentParent,"active"),this.active=!0)},deactivate:function(){this.parent&&"LI"===this.parent.tagName&&/active/.test(this.parent.className)&&(this.removeClass(this.parent,"active"),this.parentParent&&"LI"===this.parentParent.tagName&&/dropdown/.test(this.parentParent.className)&&/active/.test(this.parentParent.className)&&this.removeClass(this.parentParent,"active"),this.active=!1)},toggle:function(){this.active===!1&&this.bottomEdge>this.scrollOffset()&&this.scrollOffset()>=this.topEdge?this.activate():this.active===!0&&this.bottomEdge<=this.scrollOffset()&&this.scrollOffset()<this.topEdge&&this.deactivate()},refresh:function(){this.deactivate(),this.checkEdges(),this.toggle()},scrollEvent:function(){function t(){e.refresh()}var e=this;this.scrollTarget.addEventListener("scroll",t,!1)},resizeEvent:function(){function t(){e.refresh()}var e=this;window.addEventListener("resize",t,!1)},scrollHeight:function(){return this.scrollTarget===window?Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight):this.element.scrollHeight},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}};var e=document.querySelectorAll('[data-spy="scroll"]'),s=0,i=e.length;for(s;i>s;s++){var n=e[s],o={};if(o.target=n.getAttribute("data-target")||null,null!==o.target){var r="object"===o.target?o.target:document.querySelector(o.target),a=r.querySelectorAll("a"),c=0,h=a.length;for(c;h>c;c++){var l=a[c];l.href&&"#"!==l.getAttribute("href")&&new t(n,l,o)}}}return t});