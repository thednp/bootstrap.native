"use strict";const e=require("./base-component-_c7CmBvl.js"),$=require("./dataBsToggle-Dj-Ng54N.js"),g=require("./collapsingClass-CLblascz.js"),h=require("./showClass-D_Ms1FgG.js"),p=require("./getTargetElement-BZ3GCU7c.js"),v=require("./isDisabled-BI_fUUV9.js"),l="collapse",u="Collapse",w=`.${l}`,E=`[${$.dataBsToggle}="${l}"]`,b={parent:null},c=a=>e.to(a,u),Z=a=>new m(a),f=e.mo(`show.bs.${l}`),G=e.mo(`shown.bs.${l}`),d=e.mo(`hide.bs.${l}`),T=e.mo(`hidden.bs.${l}`),q=a=>{const{element:t,parent:s,triggers:o}=a;e.Z(t,f),f.defaultPrevented||(e.ho.set(t,e.ee,17),s&&e.ho.set(s,e.ee,17),e.Gn(t,g.collapsingClass),e.Zn(t,l),e.Eo(t,{height:`${t.scrollHeight}px`}),e.so(t,()=>{e.ho.clear(t),s&&e.ho.clear(s),o.forEach(n=>e.Qn(n,e.Oe,"true")),e.Zn(t,g.collapsingClass),e.Gn(t,l),e.Gn(t,h.showClass),e.Eo(t,{height:""}),e.Z(t,G)}))},C=a=>{const{element:t,parent:s,triggers:o}=a;e.Z(t,d),d.defaultPrevented||(e.ho.set(t,e.ee,17),s&&e.ho.set(s,e.ee,17),e.Eo(t,{height:`${t.scrollHeight}px`}),e.Zn(t,l),e.Zn(t,h.showClass),e.Gn(t,g.collapsingClass),e.bo(t),e.Eo(t,{height:"0px"}),e.so(t,()=>{e.ho.clear(t),s&&e.ho.clear(s),o.forEach(n=>e.Qn(n,e.Oe,"false")),e.Zn(t,g.collapsingClass),e.Gn(t,l),e.Eo(t,{height:""}),e.Z(t,T)}))},x=a=>{const{target:t}=a,s=t&&e.Ne(t,E),o=s&&p.getTargetElement(s),n=o&&c(o);s&&v.isDisabled(s)||n&&(n.toggle(),s?.tagName==="A"&&a.preventDefault())};class m extends e.BaseComponent{static selector=w;static init=Z;static getInstance=c;constructor(t,s){super(t,s);const{element:o,options:n}=this,i=e.d(o);this.triggers=[...e.de(E,i)].filter(r=>p.getTargetElement(r)===o),this.parent=e.b(n.parent)?n.parent:e.N(n.parent)?p.getTargetElement(o)||e.Wo(n.parent,i):null,this._toggleEventListeners(!0)}get name(){return u}get defaults(){return b}hide(){const{triggers:t,element:s}=this;e.ho.get(s)||(C(this),t.length&&t.forEach(o=>e.Gn(o,`${l}d`)))}show(){const{element:t,parent:s,triggers:o}=this;let n,i;s&&(n=[...e.de(`.${l}.${h.showClass}`,s)].find(r=>c(r)),i=n&&c(n)),(!s||!e.ho.get(s))&&!e.ho.get(t)&&(i&&n!==t&&(C(i),i.triggers.forEach(r=>{e.Gn(r,`${l}d`)})),q(this),o.length&&o.forEach(r=>e.Zn(r,`${l}d`)))}toggle(){e._n(this.element,h.showClass)?this.hide():this.show()}_toggleEventListeners=t=>{const s=t?e.E:e.r,{triggers:o}=this;o.length&&o.forEach(n=>{s(n,e.vt,x)})};dispose(){this._toggleEventListeners(),super.dispose()}}module.exports=m;
//# sourceMappingURL=collapse.cjs.map
