"use strict";const t=require("./base-component-_c7CmBvl.js"),f=require("./activeClass-CxJYQAGN.js"),E=require("./getTargetElement-BZ3GCU7c.js"),N=require("./isDisabled-BI_fUUV9.js"),x="carousel",w="Carousel",C=`[data-bs-ride="${x}"]`,h=`${x}-item`,A="data-bs-slide-to",m="data-bs-slide",p="paused",X=t.xn()?t.Qt:t.Ot;console.log({isMobile:t.xn(),touchEvent:X});const Z={pause:"hover",keyboard:!1,touch:!0,interval:5e3},g=n=>t.to(n,w),_=n=>new O(n);let $=0,T=0,H=0;const P=t.mo(`slide.bs.${x}`),y=t.mo(`slid.bs.${x}`),G=n=>{const{index:i,direction:e,element:s,slides:c,options:a}=n;if(n.isAnimating){const r=D(n),o=e==="left"?"next":"prev",d=e==="left"?"start":"end";t.Gn(c[i],f.activeClass),t.Zn(c[i],`${h}-${o}`),t.Zn(c[i],`${h}-${d}`),t.Zn(c[r],f.activeClass),t.Zn(c[r],`${h}-${d}`),t.Z(s,y),t.ho.clear(s,m),n.cycle&&!t.d(s).hidden&&a.interval&&!n.isPaused&&n.cycle()}};function B(){const n=g(this);n&&!n.isPaused&&!t.ho.get(this,p)&&t.Gn(this,p)}function K(){const n=g(this);n&&n.isPaused&&!t.ho.get(this,p)&&n.cycle()}function q(n){n.preventDefault();const i=t.Ne(this,C)||E.getTargetElement(this),e=i&&g(i);if(N.isDisabled(this)||!e||e.isAnimating)return;const s=+(t.K(this,A)||0);this&&!t._n(this,f.activeClass)&&!Number.isNaN(s)&&e.to(s)}function R(n){n.preventDefault();const i=t.Ne(this,C)||E.getTargetElement(this),e=i&&g(i);if(N.isDisabled(this)||!e||e.isAnimating)return;const s=t.K(this,m);s==="next"?e.next():s==="prev"&&e.prev()}const k=({code:n,target:i})=>{const e=t.d(i),[s]=[...t.de(C,e)].filter(d=>t.Do(d)),c=g(s);if(!c||c.isAnimating||/textarea|input|select/i.test(i.nodeName))return;const a=t.Ho(s),r=a?t.rn:t.cn,o=a?t.cn:t.rn;n===o?c.prev():n===r&&c.next()};function S(n){const{target:i}=n,e=g(this);e&&e.isTouch&&!e.controls.includes(i)&&!e.controls.includes(i?.parentElement)&&(!e.indicator||!e.indicator.contains(i))&&n.preventDefault()}function M(n){const{target:i}=n,e=g(this);if(!e||e.isAnimating||e.isTouch)return;const{controls:s,indicator:c}=e;![...s,c].every(a=>a&&(a===i||a.contains(i)))&&this.contains(i)&&($=n.pageX,e.isTouch=!0,L(e,!0))}const W=n=>{T=n.pageX},j=n=>{const{target:i}=n,e=t.d(i),s=[...t.de(C,e)].map(o=>g(o)).find(o=>o.isTouch);if(!s)return;const{element:c,index:a}=s,r=t.Ho(c);H=n.pageX,s.isTouch=!1,L(s),!e.getSelection()?.toString().length&&c.contains(i)&&Math.abs($-H)>120&&(T<$?s.to(a+(r?-1:1)):T>$&&s.to(a+(r?1:-1))),$=0,T=0,H=0},I=(n,i)=>{const{indicators:e}=n;[...e].forEach(s=>t.Zn(s,f.activeClass)),n.indicators[i]&&t.Gn(e[i],f.activeClass)},L=(n,i)=>{const{element:e}=n,s=i?t.E:t.r;s(t.d(e),t.zt,W,t.vo),s(t.d(e),t.It,j,t.vo)},D=n=>{const{slides:i,element:e}=n,s=t.Wo(`.${h}.${f.activeClass}`,e);return s?[...i].indexOf(s):-1};class O extends t.BaseComponent{static selector=C;static init=_;static getInstance=g;constructor(i,e){super(i,e);const{element:s}=this;this.direction=t.Ho(s)?"right":"left",this.isTouch=!1,this.slides=t.jo(h,s);const{slides:c}=this;if(c.length<2)return;const a=D(this),r=[...c].find(u=>t.Ee(u,`.${h}-next`));this.index=a;const o=t.d(s);this.controls=[...t.de(`[${m}]`,s),...t.de(`[${m}][${E.dataBsTarget}="#${s.id}"]`,o)].filter((u,v,l)=>v===l.indexOf(u)),this.indicator=t.Wo(`.${x}-indicators`,s),this.indicators=[...this.indicator?t.de(`[${A}]`,this.indicator):[],...t.de(`[${A}][${E.dataBsTarget}="#${s.id}"]`,o)].filter((u,v,l)=>v===l.indexOf(u));const{options:d}=this;this.options.interval=d.interval===!0?Z.interval:d.interval,r?this.index=[...c].indexOf(r):a<0&&(this.index=0,t.Gn(c[0],f.activeClass),this.indicators.length&&I(this,0)),this.indicators.length&&I(this,this.index),this._toggleEventListeners(!0),d.interval&&this.cycle()}get name(){return w}get defaults(){return Z}get isPaused(){return t._n(this.element,p)}get isAnimating(){return t.Wo(`.${h}-next,.${h}-prev`,this.element)!==null}cycle(){const{element:i,options:e,isPaused:s,index:c}=this;t.ho.clear(i,x),s&&(t.ho.clear(i,p),t.Zn(i,p)),t.ho.set(i,()=>{this.element&&!this.isPaused&&!this.isTouch&&t.Do(i)&&this.to(c+1)},e.interval,x)}pause(){const{element:i,options:e}=this;this.isPaused||!e.interval||(t.Gn(i,p),t.ho.set(i,()=>{},1,p))}next(){this.isAnimating||this.to(this.index+1)}prev(){this.isAnimating||this.to(this.index-1)}to(i){const{element:e,slides:s,options:c}=this,a=D(this),r=t.Ho(e);let o=i;if(this.isAnimating||a===o||t.ho.get(e,m))return;a<o||a===0&&o===s.length-1?this.direction=r?"right":"left":(a>o||a===s.length-1&&o===0)&&(this.direction=r?"left":"right");const{direction:d}=this;o<0?o=s.length-1:o>=s.length&&(o=0);const u=d==="left"?"next":"prev",v=d==="left"?"start":"end",l={relatedTarget:s[o],from:a,to:o,direction:d};t.T(P,l),t.T(y,l),t.Z(e,P),!P.defaultPrevented&&(this.index=o,I(this,o),t.ue(s[o])&&t._n(e,"slide")?t.ho.set(e,()=>{t.Gn(s[o],`${h}-${u}`),t.bo(s[o]),t.Gn(s[o],`${h}-${v}`),t.Gn(s[a],`${h}-${v}`),t.so(s[o],()=>this.slides&&this.slides.length&&G(this))},0,m):(t.Gn(s[o],f.activeClass),t.Zn(s[a],f.activeClass),t.ho.set(e,()=>{t.ho.clear(e,m),e&&c.interval&&!this.isPaused&&this.cycle(),t.Z(e,y)},0,m)))}_toggleEventListeners=i=>{const{element:e,options:s,slides:c,controls:a,indicators:r}=this,{touch:o,pause:d,interval:u,keyboard:v}=s,l=i?t.E:t.r;d&&u&&(l(e,t.wt,B),l(e,t.At,K)),o&&c.length>2&&(l(e,t.Ot,M,t.vo),l(e,t.Qt,S,{passive:!1}),l(e,t.je,S,{passive:!1})),a.length&&a.forEach(b=>{l(b,t.vt,R)}),r.length&&r.forEach(b=>{l(b,t.vt,q)}),v&&l(t.d(e),t.ft,k)};dispose(){const{isAnimating:i}=this,e={...this,isAnimating:i};this._toggleEventListeners(),super.dispose(),e.isAnimating&&t.so(e.slides[e.index],()=>{G(e)})}}module.exports=O;
//# sourceMappingURL=carousel.cjs.map
