"use strict";const t=require("./base-component-4K-5H-MO.js"),vt=require("./index-CxumdV5N.js"),Tt=require("./dataBsToggle-Dj-Ng54N.js"),tt=require("./showClass-D_Ms1FgG.js"),W=require("./popupContainer-BF5JudHD.js"),it=require("./fadeClass-Co6nOzNJ.js"),F="popover",at="Popover",T="tooltip",ct=s=>{const e=s===T,o=e?`${s}-inner`:`${s}-body`,i=e?"":`<h3 class="${s}-header"></h3>`,l=`<div class="${s}-arrow"></div>`,r=`<div class="${o}"></div>`;return`<div class="${s}" role="${T}">${i+l+r}</div>`},ht={top:"top",bottom:"bottom",left:"start",right:"end"},et=s=>{requestAnimationFrame(()=>{const e=/\b(top|bottom|start|end)+/,{element:o,tooltip:i,container:l,offsetParent:r,options:d,arrow:c}=s;if(!i)return;const f=t.Bo(o),{x:w,y:h}=t.So(r);t.vo(i,{top:"",left:"",right:"",bottom:""});const{offsetWidth:u,offsetHeight:m}=i,{clientWidth:g,clientHeight:P,offsetWidth:O}=t.w(o);let{placement:n}=d;const{clientWidth:b,offsetWidth:k}=l,p=t.f(l,"position")==="fixed",D=Math.abs(p?b-k:g-O),H=f&&p?D:0,$=g-(f?0:D)-1,Y=s._observer.getEntry(o),{width:a,height:v,left:j,right:gt,top:I}=Y?.boundingClientRect||t.y(o,!0),{x:z,y:B}=t.No(o,r,{x:w,y:h});t.vo(c,{top:"",left:"",right:"",bottom:""});let x=0,_="",C=0,J="",L="",Q="",U="";const S=c.offsetWidth||0,E=c.offsetHeight||0,V=S/2;let q=I-m-E<0,A=I+m+v+E>=P,M=j-u-S<H,K=j+u+a+S>=$;const X=["left","right"],Z=["top","bottom"];q=X.includes(n)?I+v/2-m/2-E<0:q,A=X.includes(n)?I+m/2+v/2+E>=P:A,M=Z.includes(n)?j+a/2-u/2<H:M,K=Z.includes(n)?j+u/2+a/2>=$:K,n=X.includes(n)&&M&&K?"top":n,n=n==="top"&&q?"bottom":n,n=n==="bottom"&&A?"top":n,n=n==="left"&&M?"right":n,n=n==="right"&&K?"left":n,i.className.includes(n)||(i.className=i.className.replace(e,ht[n])),X.includes(n)?(n==="left"?C=z-u-S:C=z+a+S,q&&A?(x=0,_=0,L=B+v/2-E/2):q?(x=B,_="",L=v/2-S):A?(x=B-m+v,_="",L=m-v/2-S):(x=B-m/2+v/2,L=m/2-E/2)):Z.includes(n)&&(n==="top"?x=B-m-E:x=B+v+E,M?(C=0,Q=z+a/2-V):K?(C="auto",J=0,U=a/2+$-gt-V):(C=z-u/2+a/2,Q=u/2-V)),t.vo(i,{top:`${x}px`,bottom:_===""?"":`${_}px`,left:C==="auto"?C:`${C}px`,right:J!==""?`${J}px`:""}),t.b(c)&&(L!==""&&(c.style.top=`${L}px`),Q!==""?c.style.left=`${Q}px`:U!==""&&(c.style.right=`${U}px`));const bt=t.po(`updated.bs.${t.Eo(s.name)}`);t.G(o,bt)})},ot={template:ct(T),title:"",customClass:"",trigger:"hover focus",placement:"top",sanitizeFn:void 0,animation:!0,delay:200,container:document.body,content:"",dismissible:!1,btnClose:""},dt="data-original-title",N="Tooltip",y=(s,e,o)=>{if(t.N(e)&&e.length){let i=e.trim();t.Lo(o)&&(i=o(i));const r=new DOMParser().parseFromString(i,"text/html");s.append(...r.body.childNodes)}else t.b(e)?s.append(e):(t.Fo(e)||t.we(e)&&e.every(t.u))&&s.append(...e)},wt=s=>{const e=s.name===N,{id:o,element:i,options:l}=s,{title:r,placement:d,template:c,animation:f,customClass:w,sanitizeFn:h,dismissible:u,content:m,btnClose:g}=l,P=e?T:F,O={...ht};let n=[],b=[];t.Bo(i)&&(O.left="end",O.right="start");const k=`bs-${P}-${O[d]}`;let G;if(t.b(c))G=c;else{const a=t.ne("div");y(a,c,h),G=a.firstChild}if(!t.b(G))return;s.tooltip=G.cloneNode(!0);const{tooltip:p}=s;t.Wn(p,"id",o),t.Wn(p,"role",T);const D=e?`${T}-inner`:`${F}-body`,H=e?null:t.Ho(`.${F}-header`,p),$=t.Ho(`.${D}`,p);s.arrow=t.Ho(`.${P}-arrow`,p);const{arrow:Y}=s;if(t.b(r))n=[r.cloneNode(!0)];else{const a=t.ne("div");y(a,r,h),n=[...a.childNodes]}if(t.b(m))b=[m.cloneNode(!0)];else{const a=t.ne("div");y(a,m,h),b=[...a.childNodes]}if(u)if(r)if(t.b(g))n=[...n,g.cloneNode(!0)];else{const a=t.ne("div");y(a,g,h),n=[...n,a.firstChild]}else if(H&&H.remove(),t.b(g))b=[...b,g.cloneNode(!0)];else{const a=t.ne("div");y(a,g,h),b=[...b,a.firstChild]}e?r&&$&&y($,r,h):(r&&H&&y(H,n,h),m&&$&&y($,b,h),s.btn=t.Ho(".btn-close",p)||void 0),t.Kn(p,"position-absolute"),t.Kn(Y,"position-absolute"),t.Gn(p,P)||t.Kn(p,P),f&&!t.Gn(p,it.fadeClass)&&t.Kn(p,it.fadeClass),w&&!t.Gn(p,w)&&t.Kn(p,w),t.Gn(p,k)||t.Kn(p,k)},$t=s=>{const e=["HTML","BODY"],o=[];let{parentNode:i}=s;for(;i&&!e.includes(i.nodeName);)i=t.k(i),t.pe(i)||t.me(i)||o.push(i);return o.find((l,r)=>(t.f(l,"position")!=="relative"||t.f(l,"position")==="relative"&&l.offsetHeight!==l.scrollHeight)&&o.slice(r+1).every(d=>t.f(d,"position")==="static")?l:null)||t.d(s).body},Ct=`[${Tt.dataBsToggle}="${T}"],[data-tip="${T}"]`,pt="title";let st=s=>t.Xn(s,N);const Et=s=>new ut(s),yt=s=>{const{element:e,tooltip:o,container:i}=s;t.Qn(e,t.Me),W.removePopup(o,i)},R=s=>{const{tooltip:e,container:o}=s;return e&&W.hasPopup(e,o)},Pt=(s,e)=>{const{element:o}=s;s._toggleEventListeners(),t.ee(o,dt)&&s.name===N&&mt(s),e&&e()},ft=(s,e)=>{const o=e?t.E:t.r,{element:i}=s;o(t.d(i),t.Wt,s.handleTouch,t.go)},nt=s=>{const{element:e}=s,o=t.po(`shown.bs.${t.Eo(s.name)}`);ft(s,!0),t.G(e,o),t.bo.clear(e,"in")},lt=s=>{const{element:e}=s,o=t.po(`hidden.bs.${t.Eo(s.name)}`);ft(s),yt(s),t.G(e,o),t.bo.clear(e,"out")},rt=(s,e)=>{const o=e?t.E:t.r,{element:i,tooltip:l}=s,r=t.Se(i,`.${W.modalString}`),d=t.Se(i,`.${W.offcanvasString}`);e?[i,l].forEach(c=>s._observer.observe(c)):s._observer.disconnect(),r&&o(r,`hide.bs.${W.modalString}`,s.handleHide),d&&o(d,`hide.bs.${W.offcanvasString}`,s.handleHide)},mt=(s,e)=>{const o=[dt,pt],{element:i}=s;t.Wn(i,o[e?0:1],e||t.j(i,o[0])||""),t.Qn(i,o[e?1:0])};class ut extends t.BaseComponent{static selector=Ct;static init=Et;static getInstance=st;static styleTip=et;constructor(e,o){super(e,o);const{element:i}=this,l=this.name===N,r=l?T:F,d=l?N:at;st=h=>t.Xn(h,d),this.enabled=!0,this.id=`${r}-${t.ye(i,r)}`;const{options:c}=this;if(!c.title&&l||!l&&!c.content)return;t.C(ot,{titleAttr:""}),t.ee(i,pt)&&l&&typeof c.title=="string"&&mt(this,c.title);const f=$t(i),w=["sticky","fixed","relative"].some(h=>t.f(f,"position")===h)?f:t.ge(i);this.container=f,this.offsetParent=w,wt(this),this.tooltip&&(this._observer=new vt.v(()=>this.update()),this._toggleEventListeners(!0))}get name(){return N}get defaults(){return ot}handleFocus=()=>t.ro(this.element);handleShow=()=>this.show();show(){const{options:e,tooltip:o,element:i,container:l,id:r}=this,{animation:d}=e,c=t.bo.get(i,"out");t.bo.clear(i,"out"),o&&!c&&!R(this)&&t.bo.set(i,()=>{const f=t.po(`show.bs.${t.Eo(this.name)}`);t.G(i,f),f.defaultPrevented||(W.appendPopup(o,l),t.Wn(i,t.Me,`#${r}`),this.update(),rt(this,!0),t.Gn(o,tt.showClass)||t.Kn(o,tt.showClass),d?t.no(o,()=>nt(this)):nt(this))},17,"in")}handleHide=()=>this.hide();hide(){const{options:e,tooltip:o,element:i}=this,{animation:l,delay:r}=e;t.bo.clear(i,"in"),o&&R(this)&&t.bo.set(i,()=>{const d=t.po(`hide.bs.${t.Eo(this.name)}`);t.G(i,d),d.defaultPrevented||(this.update(),t.qn(o,tt.showClass),rt(this),l?t.no(o,()=>lt(this)):lt(this))},r+17,"out")}update=()=>{et(this)};toggle=()=>{const{tooltip:e}=this;e&&!R(this)?this.show():this.hide()};enable(){const{enabled:e}=this;e||(this._toggleEventListeners(!0),this.enabled=!e)}disable(){const{tooltip:e,enabled:o}=this;o&&(e&&R(this)&&this.hide(),this._toggleEventListeners(),this.enabled=!o)}toggleEnabled(){this.enabled?this.disable():this.enable()}handleTouch=({target:e})=>{const{tooltip:o,element:i}=this;o&&o.contains(e)||e===i||e&&i.contains(e)||this.hide()};_toggleEventListeners=e=>{const o=e?t.E:t.r,{element:i,options:l,btn:r}=this,{trigger:d}=l,f=!!(this.name!==N&&l.dismissible);d.includes("manual")||(this.enabled=!!e,d.split(" ").forEach(h=>{h===t.Et?(o(i,t.vt,this.handleShow),o(i,t.ht,this.handleShow),f||(o(i,t.yt,this.handleHide),o(t.d(i),t.Wt,this.handleTouch,t.go))):h===t.gt?o(i,h,f?this.handleShow:this.toggle):h===t.st&&(o(i,t.rt,this.handleShow),f||o(i,t.ct,this.handleHide),t.On()&&o(i,t.gt,this.handleFocus)),f&&r&&o(r,t.gt,this.handleHide)}))};dispose(){const{tooltip:e,options:o}=this,i={...this,name:this.name},l=()=>setTimeout(()=>Pt(i,()=>super.dispose()),17);o.animation&&R(i)?(this.options.delay=0,this.hide(),t.no(e,l)):l()}}exports.Tooltip=ut;exports.getTipTemplate=ct;exports.popoverComponent=at;exports.popoverString=F;exports.styleTip=et;exports.tooltipDefaults=ot;
//# sourceMappingURL=tooltip-fMXgseyT.js.map
