{"version":3,"file":"bootstrap-native.cjs","sources":["../node_modules/.pnpm/@thednp+shorty@2.0.11/node_modules/@thednp/shorty/dist/shorty.mjs","../node_modules/.pnpm/@thednp+event-listener@2.0.10/node_modules/@thednp/event-listener/dist/event-listener.mjs","../src/strings/fadeClass.ts","../src/strings/showClass.ts","../src/strings/dataBsDismiss.ts","../src/strings/alertString.ts","../src/strings/alertComponent.ts","../src/util/isDisabled.ts","../src/version.ts","../src/components/base-component.ts","../src/components/alert.ts","../src/strings/activeClass.ts","../src/strings/dataBsToggle.ts","../src/strings/buttonString.ts","../src/strings/buttonComponent.ts","../src/components/button.ts","../src/strings/dataBsTarget.ts","../src/strings/carouselString.ts","../src/strings/carouselComponent.ts","../src/strings/dataBsParent.ts","../src/strings/dataBsContainer.ts","../src/util/getTargetElement.ts","../src/components/carousel.ts","../src/strings/collapsingClass.ts","../src/strings/collapseString.ts","../src/strings/collapseComponent.ts","../src/components/collapse.ts","../node_modules/.pnpm/@thednp+position-observer@1.1.0/node_modules/@thednp/position-observer/dist/index.mjs","../src/strings/dropdownClasses.ts","../src/strings/dropdownComponent.ts","../src/strings/dropdownMenuClass.ts","../src/util/isEmptyAnchor.ts","../src/components/dropdown.ts","../src/strings/modalString.ts","../src/strings/modalComponent.ts","../src/strings/offcanvasComponent.ts","../src/strings/fixedTopClass.ts","../src/strings/fixedBottomClass.ts","../src/strings/stickyTopClass.ts","../src/strings/positionStickyClass.ts","../src/util/scrollbar.ts","../src/strings/offcanvasString.ts","../src/util/popupContainer.ts","../src/util/backdrop.ts","../src/util/isVisible.ts","../src/components/modal.ts","../src/components/offcanvas.ts","../src/strings/popoverString.ts","../src/strings/popoverComponent.ts","../src/strings/tooltipString.ts","../src/util/getTipTemplate.ts","../src/util/tipClassPositions.ts","../src/util/styleTip.ts","../src/util/tooltipDefaults.ts","../src/strings/dataOriginalTitle.ts","../src/strings/tooltipComponent.ts","../src/util/setHtml.ts","../src/util/createTip.ts","../src/util/getElementContainer.ts","../src/components/tooltip.ts","../src/components/popover.ts","../src/strings/scrollspyString.ts","../src/strings/scrollspyComponent.ts","../src/components/scrollspy.ts","../src/strings/tabString.ts","../src/strings/tabComponent.ts","../src/components/tab.ts","../src/strings/toastString.ts","../src/strings/toastComponent.ts","../src/components/toast.ts","../src/util/init.ts"],"sourcesContent":["const Ce = \"2.0.11\", Me = \"aria-checked\", De = \"aria-description\", Le = \"aria-describedby\", Oe = \"aria-expanded\", xe = \"aria-haspopup\", X = \"aria-hidden\", ze = \"aria-label\", Ie = \"aria-labelledby\", Pe = \"aria-modal\", Fe = \"aria-pressed\", Be = \"aria-selected\", Ve = \"aria-valuemin\", He = \"aria-valuemax\", Ue = \"aria-valuenow\", We = \"aria-valuetext\", Y = \"abort\", tt = \"beforeunload\", et = \"blur\", nt = \"change\", ot = \"contextmenu\", U = \"DOMContentLoaded\", st = \"DOMMouseScroll\", rt = \"error\", ct = \"focus\", at = \"focusin\", it = \"focusout\", ut = \"gesturechange\", lt = \"gestureend\", dt = \"gesturestart\", ft = \"keydown\", pt = \"keypress\", gt = \"keyup\", mt = \"load\", vt = \"click\", bt = \"dblclick\", Et = \"mousedown\", ht = \"mouseup\", yt = \"hover\", wt = \"mouseenter\", At = \"mouseleave\", St = \"mousein\", kt = \"mouseout\", Nt = \"mouseover\", Tt = \"mousemove\", Ct = \"mousewheel\", Mt = \"move\", Dt = \"orientationchange\", Lt = \"pointercancel\", Ot = \"pointerdown\", xt = \"pointerleave\", zt = \"pointermove\", It = \"pointerup\", Pt = \"readystatechange\", Ft = \"reset\", Bt = \"resize\", Vt = \"select\", Ht = \"selectend\", Ut = \"selectstart\", Wt = \"scroll\", Rt = \"submit\", Qt = \"touchstart\", jt = \"touchmove\", Kt = \"touchcancel\", qt = \"touchend\", Gt = \"unload\", Re = {\n  DOMContentLoaded: U,\n  DOMMouseScroll: st,\n  abort: Y,\n  beforeunload: tt,\n  blur: et,\n  change: nt,\n  click: vt,\n  contextmenu: ot,\n  dblclick: bt,\n  error: rt,\n  focus: ct,\n  focusin: at,\n  focusout: it,\n  gesturechange: ut,\n  gestureend: lt,\n  gesturestart: dt,\n  hover: yt,\n  keydown: ft,\n  keypress: pt,\n  keyup: gt,\n  load: mt,\n  mousedown: Et,\n  mousemove: Tt,\n  mousein: St,\n  mouseout: kt,\n  mouseenter: wt,\n  mouseleave: At,\n  mouseover: Nt,\n  mouseup: ht,\n  mousewheel: Ct,\n  move: Mt,\n  orientationchange: Dt,\n  pointercancel: Lt,\n  pointerdown: Ot,\n  pointerleave: xt,\n  pointermove: zt,\n  pointerup: It,\n  readystatechange: Pt,\n  reset: Ft,\n  resize: Bt,\n  scroll: Wt,\n  select: Vt,\n  selectend: Ht,\n  selectstart: Ut,\n  submit: Rt,\n  touchcancel: Kt,\n  touchend: qt,\n  touchmove: jt,\n  touchstart: Qt,\n  unload: Gt\n}, Qe = \"drag\", je = \"dragstart\", Ke = \"dragenter\", qe = \"dragleave\", Ge = \"dragover\", Ze = \"dragend\", _e = \"loadstart\", $e = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n}, Je = { down: \"mousedown\", up: \"mouseup\" }, Xe = \"onmouseleave\" in document ? [\"mouseenter\", \"mouseleave\"] : [\"mouseover\", \"mouseout\"], Ye = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n}, tn = { in: \"focusin\", out: \"focusout\" }, Zt = 'a[href], button, input, textarea, select, details, [tabindex]:not([tabindex=\"-1\"]', en = {\n  Backspace: \"Backspace\",\n  Tab: \"Tab\",\n  Enter: \"Enter\",\n  Shift: \"Shift\",\n  Control: \"Control\",\n  Alt: \"Alt\",\n  Pause: \"Pause\",\n  CapsLock: \"CapsLock\",\n  Escape: \"Escape\",\n  Scape: \"Space\",\n  ArrowLeft: \"ArrowLeft\",\n  ArrowUp: \"ArrowUp\",\n  ArrowRight: \"ArrowRight\",\n  ArrowDown: \"ArrowDown\",\n  Insert: \"Insert\",\n  Delete: \"Delete\",\n  Meta: \"Meta\",\n  ContextMenu: \"ContextMenu\",\n  ScrollLock: \"ScrollLock\"\n}, nn = \"Alt\", on = \"ArrowDown\", sn = \"ArrowUp\", rn = \"ArrowLeft\", cn = \"ArrowRight\", an = \"Backspace\", un = \"CapsLock\", ln = \"Control\", dn = \"Delete\", fn = \"Enter\", pn = \"NumpadEnter\", gn = \"Escape\", mn = \"Insert\", vn = \"Meta\", bn = \"Pause\", En = \"ScrollLock\", hn = \"Shift\", yn = \"Space\", wn = \"Tab\", _t = \"animationDuration\", $t = \"animationDelay\", W = \"animationName\", C = \"animationend\", Jt = \"transitionDuration\", Xt = \"transitionDelay\", M = \"transitionend\", R = \"transitionProperty\", An = \"addEventListener\", Sn = \"removeEventListener\", kn = {\n  linear: \"linear\",\n  easingSinusoidalIn: \"cubic-bezier(0.47,0,0.745,0.715)\",\n  easingSinusoidalOut: \"cubic-bezier(0.39,0.575,0.565,1)\",\n  easingSinusoidalInOut: \"cubic-bezier(0.445,0.05,0.55,0.95)\",\n  easingQuadraticIn: \"cubic-bezier(0.550,0.085,0.680,0.530)\",\n  easingQuadraticOut: \"cubic-bezier(0.250,0.460,0.450,0.940)\",\n  easingQuadraticInOut: \"cubic-bezier(0.455,0.030,0.515,0.955)\",\n  easingCubicIn: \"cubic-bezier(0.55,0.055,0.675,0.19)\",\n  easingCubicOut: \"cubic-bezier(0.215,0.61,0.355,1)\",\n  easingCubicInOut: \"cubic-bezier(0.645,0.045,0.355,1)\",\n  easingQuarticIn: \"cubic-bezier(0.895,0.03,0.685,0.22)\",\n  easingQuarticOut: \"cubic-bezier(0.165,0.84,0.44,1)\",\n  easingQuarticInOut: \"cubic-bezier(0.77,0,0.175,1)\",\n  easingQuinticIn: \"cubic-bezier(0.755,0.05,0.855,0.06)\",\n  easingQuinticOut: \"cubic-bezier(0.23,1,0.32,1)\",\n  easingQuinticInOut: \"cubic-bezier(0.86,0,0.07,1)\",\n  easingExponentialIn: \"cubic-bezier(0.95,0.05,0.795,0.035)\",\n  easingExponentialOut: \"cubic-bezier(0.19,1,0.22,1)\",\n  easingExponentialInOut: \"cubic-bezier(1,0,0,1)\",\n  easingCircularIn: \"cubic-bezier(0.6,0.04,0.98,0.335)\",\n  easingCircularOut: \"cubic-bezier(0.075,0.82,0.165,1)\",\n  easingCircularInOut: \"cubic-bezier(0.785,0.135,0.15,0.86)\",\n  easingBackIn: \"cubic-bezier(0.6,-0.28,0.735,0.045)\",\n  easingBackOut: \"cubic-bezier(0.175,0.885,0.32,1.275)\",\n  easingBackInOut: \"cubic-bezier(0.68,-0.55,0.265,1.55)\"\n}, Nn = \"offsetHeight\", Tn = \"offsetWidth\", Cn = \"scrollHeight\", Mn = \"scrollWidth\", Dn = \"tabindex\", Ln = navigator.userAgentData, { userAgent: Yt } = navigator, On = Yt, xn = () => {\n  const t = /iPhone|iPad|iPod|Android/i;\n  return navigator?.userAgentData?.brands.some(\n    (e) => t.test(e.brand)\n  ) || t.test(navigator?.userAgent) || !1;\n}, zn = () => {\n  const t = /(iPhone|iPod|iPad)/;\n  return navigator?.userAgentData?.brands.some(\n    (e) => t.test(e.brand)\n  ) || t.test(\n    navigator?.userAgent\n  ) || !1;\n}, In = () => navigator?.userAgent?.includes(\"Firefox\") || !1, te = () => typeof CSS > \"u\" || !CSS.supports ? !1 : CSS.supports(\"-webkit-backdrop-filter\", \"none\"), Pn = () => [\"webkitPerspective\", \"perspective\"].some((t) => t in document.head.style), ee = () => {\n}, Q = (t, e, n, o) => {\n  const s = o || !1;\n  t.addEventListener(\n    e,\n    n,\n    s\n  );\n}, j = (t, e, n, o) => {\n  const s = o || !1;\n  t.removeEventListener(\n    e,\n    n,\n    s\n  );\n}, ne = (t, e, n, o) => {\n  const s = (r) => {\n    (r.target === t || r.currentTarget === t) && (n.apply(t, [r]), j(t, e, s, o));\n  };\n  Q(t, e, s, o);\n}, Fn = () => {\n  let t = !1;\n  try {\n    const e = Object.defineProperty({}, \"passive\", {\n      get: () => (t = !0, t)\n    });\n    ne(document, U, ee, e);\n  } catch {\n  }\n  return t;\n}, Bn = () => [\"webkitTransform\", \"transform\"].some((t) => t in document.head.style), Vn = () => \"ontouchstart\" in window || \"msMaxTouchPoints\" in navigator, Hn = () => [\"webkitAnimation\", \"animation\"].some((t) => t in document.head.style), Un = () => [\"webkitTransition\", \"transition\"].some((t) => t in document.head.style), K = (t, e) => t.getAttribute(e), Wn = (t, e, n) => e.getAttributeNS(t, n), oe = (t, e) => t.hasAttribute(e), Rn = (t, e, n) => e.hasAttributeNS(t, n), Qn = (t, e, n) => t.setAttribute(e, n), jn = (t, e, n, o) => e.setAttributeNS(t, n, o), Kn = (t, e) => t.removeAttribute(e), qn = (t, e, n) => e.removeAttributeNS(t, n), Gn = (t, ...e) => {\n  t.classList.add(...e);\n}, Zn = (t, ...e) => {\n  t.classList.remove(...e);\n}, _n = (t, e) => t.classList.contains(e), { body: $n } = document, { documentElement: Jn } = document, { head: Xn } = document, Yn = (t) => Array.from(t), v = (t) => t != null && typeof t == \"object\" || !1, u = (t) => v(t) && typeof t.nodeType == \"number\" && [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].some(\n  (e) => t.nodeType === e\n) || !1, i = (t) => u(t) && t.nodeType === 1 || !1, E = /* @__PURE__ */ new Map(), L = {\n  data: E,\n  set: (t, e, n) => {\n    if (!i(t)) return;\n    E.has(e) || E.set(e, /* @__PURE__ */ new Map()), E.get(e).set(t, n);\n  },\n  getAllFor: (t) => E.get(t) || null,\n  get: (t, e) => {\n    if (!i(t) || !e) return null;\n    const n = L.getAllFor(e);\n    return t && n && n.get(t) || null;\n  },\n  remove: (t, e) => {\n    const n = L.getAllFor(e);\n    !n || !i(t) || (n.delete(t), n.size === 0 && E.delete(e));\n  }\n}, to = (t, e) => L.get(t, e), eo = (t) => t?.charAt(0).toUpperCase() + t?.slice(1), P = (t) => t?.trim().replace(\n  /(?:^\\w|[A-Z]|\\b\\w)/g,\n  (e, n) => n === 0 ? e.toLowerCase() : e.toUpperCase()\n).replace(/\\s+/g, \"\"), N = (t) => typeof t == \"string\" || !1, q = (t) => v(t) && t.constructor.name === \"Window\" || !1, G = (t) => u(t) && t.nodeType === 9 || !1, d = (t) => G(t) ? t : u(t) ? t.ownerDocument : q(t) ? t.document : globalThis.document, T = (t, ...e) => Object.assign(t, ...e), se = (t) => {\n  if (!t) return;\n  if (N(t))\n    return d().createElement(t);\n  const { tagName: e } = t, n = se(e);\n  if (!n) return;\n  const o = { ...t };\n  return delete o.tagName, T(n, o);\n}, re = (t, e) => {\n  if (!t || !e) return;\n  if (N(e))\n    return d().createElementNS(t, e);\n  const { tagName: n } = e, o = re(t, n);\n  if (!o) return;\n  const s = { ...e };\n  return delete s.tagName, T(o, s);\n}, Z = (t, e) => t.dispatchEvent(e), no = (t, e, n) => n.indexOf(t) === e, f = (t, e, n) => {\n  const o = getComputedStyle(t, n), s = e.replace(\"webkit\", \"Webkit\").replace(/([A-Z])/g, \"-$1\").toLowerCase();\n  return o.getPropertyValue(s);\n}, ce = (t) => {\n  const e = f(t, W), n = f(t, $t), o = n.includes(\"ms\") ? 1 : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : 0;\n  return Number.isNaN(s) ? 0 : s;\n}, ae = (t) => {\n  const e = f(t, W), n = f(t, _t), o = n.includes(\"ms\") ? 1 : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : 0;\n  return Number.isNaN(s) ? 0 : s;\n}, oo = (t, e) => {\n  let n = 0;\n  const o = new Event(C), s = ae(t), r = ce(t);\n  if (s) {\n    const a = (l) => {\n      l.target === t && (e.apply(t, [l]), t.removeEventListener(C, a), n = 1);\n    };\n    t.addEventListener(C, a), setTimeout(() => {\n      n || Z(t, o);\n    }, s + r + 17);\n  } else\n    e.apply(t, [o]);\n}, ie = (t) => {\n  const e = f(t, R), n = f(t, Xt), o = n.includes(\"ms\") ? 1 : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : 0;\n  return Number.isNaN(s) ? 0 : s;\n}, ue = (t) => {\n  const e = f(t, R), n = f(t, Jt), o = n.includes(\"ms\") ? 1 : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : 0;\n  return Number.isNaN(s) ? 0 : s;\n}, so = (t, e) => {\n  let n = 0;\n  const o = new Event(M), s = ue(t), r = ie(t);\n  if (s) {\n    const a = (l) => {\n      l.target === t && (e.apply(t, [l]), t.removeEventListener(M, a), n = 1);\n    };\n    t.addEventListener(M, a), setTimeout(() => {\n      n || Z(t, o);\n    }, s + r + 17);\n  } else\n    e.apply(t, [o]);\n}, ro = (t) => Float32Array.from(Array.from(t)), co = (t) => Float64Array.from(Array.from(t)), ao = (t, e) => t.focus(e), io = (t) => t?.trim().replace(/([a-z])([A-Z])/g, \"$1-$2\").replace(/\\s+/g, \"-\").toLowerCase(), F = (t) => [\"true\", !0].includes(t) ? !0 : [\"false\", !1].includes(t) ? !1 : [\"null\", \"\", null, void 0].includes(t) ? null : t !== \"\" && !Number.isNaN(+t) ? +t : t, S = (t) => Object.entries(t), uo = (t, e, n, o) => {\n  if (!i(t)) return e;\n  const s = { ...n }, r = { ...t.dataset }, a = { ...e }, l = {}, p = \"title\";\n  return S(r).forEach(([c, g]) => {\n    const A = o && typeof c == \"string\" && c.includes(o) ? P(c.replace(o, \"\")) : P(c);\n    l[A] = F(g);\n  }), S(s).forEach(([c, g]) => {\n    s[c] = F(g);\n  }), S(e).forEach(([c, g]) => {\n    c in s ? a[c] = s[c] : c in l ? a[c] = l[c] : a[c] = c === p ? K(t, p) : g;\n  }), a;\n}, lo = (t, e) => v(t) && (Object.hasOwn(t, e) || e in t), fo = (t) => Object.keys(t), po = (t) => Object.values(t), go = (t) => Object.fromEntries(t), mo = (t, e) => {\n  const n = new CustomEvent(t, {\n    cancelable: !0,\n    bubbles: !0\n  });\n  return v(e) && T(n, e), n;\n}, vo = { passive: !0 }, bo = (t) => t.offsetHeight, Eo = (t, e) => {\n  S(e).forEach(([n, o]) => {\n    if (o && N(n) && n.includes(\"--\"))\n      t.style.setProperty(n, o);\n    else {\n      const s = {};\n      s[n] = o, T(t.style, s);\n    }\n  });\n}, O = (t) => v(t) && t.constructor.name === \"Map\" || !1, le = (t) => typeof t == \"number\" || !1, m = /* @__PURE__ */ new Map(), ho = {\n  set: (t, e, n, o) => {\n    i(t) && (o && o.length ? (m.has(t) || m.set(t, /* @__PURE__ */ new Map()), m.get(t).set(o, setTimeout(e, n))) : m.set(t, setTimeout(e, n)));\n  },\n  get: (t, e) => {\n    if (!i(t)) return null;\n    const n = m.get(t);\n    return e && n && O(n) ? n.get(e) || null : le(n) ? n : null;\n  },\n  clear: (t, e) => {\n    if (!i(t)) return;\n    const n = m.get(t);\n    e && e.length && O(n) ? (clearTimeout(n.get(e)), n.delete(e), n.size === 0 && m.delete(t)) : (clearTimeout(n), m.delete(t));\n  }\n}, yo = (t) => t.toLowerCase(), wo = (t) => t.toUpperCase(), de = (t, e) => (u(e) ? e : d()).querySelectorAll(t), z = /* @__PURE__ */ new Map();\nfunction _(t) {\n  const { shiftKey: e, code: n } = t, o = d(this), s = [\n    ...de(Zt, this)\n  ].filter(\n    (l) => !oe(l, \"disabled\") && !K(l, X)\n  );\n  if (!s.length) return;\n  const r = s[0], a = s[s.length - 1];\n  n === \"Tab\" && (e && o.activeElement === r ? (a.focus(), t.preventDefault()) : !e && o.activeElement === a && (r.focus(), t.preventDefault()));\n}\nconst I = (t) => z.has(t) === !0, fe = (t) => {\n  I(t) || (Q(t, \"keydown\", _), z.set(t, !0));\n}, pe = (t) => {\n  I(t) && (j(t, \"keydown\", _), z.delete(t));\n}, Ao = (t) => {\n  I(t) ? pe(t) : fe(t);\n}, b = (t) => i(t) && \"offsetWidth\" in t || !1, y = (t, e) => {\n  const { width: n, height: o, top: s, right: r, bottom: a, left: l } = t.getBoundingClientRect();\n  let p = 1, c = 1;\n  if (e && b(t)) {\n    const { offsetWidth: g, offsetHeight: A } = t;\n    p = g > 0 ? Math.round(n) / g : 1, c = A > 0 ? Math.round(o) / A : 1;\n  }\n  return {\n    width: n / p,\n    height: o / c,\n    top: s / c,\n    right: r / p,\n    bottom: a / c,\n    left: l / p,\n    x: l / p,\n    y: s / c\n  };\n}, So = (t) => d(t).body, w = (t) => d(t).documentElement, ko = (t) => d(t).head, ge = (t) => u(t) ? (t.nodeName || \"\").toLowerCase() : \"#document\", No = (t) => {\n  const e = q(t), n = e ? t.scrollX : t.scrollLeft, o = e ? t.scrollY : t.scrollTop;\n  return { x: n, y: o };\n}, me = (t) => u(t) && t.constructor.name === \"ShadowRoot\" || !1, k = (t) => t.nodeName === \"HTML\" ? t : i(t) && t.assignedSlot || u(t) && t.parentNode || me(t) && t.host || w(t), ve = (t) => t ? G(t) ? t.defaultView : u(t) ? t?.ownerDocument?.defaultView : t : window, be = (t) => u(t) && [\"TABLE\", \"TD\", \"TH\"].includes(t.nodeName) || !1, Ee = (t, e) => t.matches(e), D = (t) => f(t, \"position\") === \"static\", he = (t) => f(t, \"position\") === \"fixed\", $ = (t) => [\":popover-open\", \":modal\"].some((e) => {\n  try {\n    return Ee(t, e);\n  } catch {\n    return !1;\n  }\n}), J = (t) => {\n  const e = te(), n = i(t) ? getComputedStyle(t) : t;\n  return n.transform !== \"none\" || n.perspective !== \"none\" || (n.containerType ? n.containerType !== \"normal\" : !1) || !e && (n.backdropFilter ? n.backdropFilter !== \"none\" : !1) || !e && (n.filter ? n.filter !== \"none\" : !1) || [\"transform\", \"perspective\", \"filter\"].some(\n    (o) => (n.willChange || \"\").includes(o)\n  ) || [\"paint\", \"layout\", \"strict\", \"content\"].some(\n    (o) => (n.contain || \"\").includes(o)\n  );\n}, ye = (t) => {\n  let e = k(t);\n  for (; i(e) && !x(e); ) {\n    if (J(e))\n      return e;\n    if ($(e))\n      return null;\n    e = k(e);\n  }\n  return null;\n}, x = (t) => [\"html\", \"body\", \"#document\"].includes(ge(t)), B = (t) => {\n  if (!b(t) || he(t))\n    return null;\n  let e = t.offsetParent;\n  return w(t) === e && (e = e.ownerDocument.body), e;\n}, To = (t) => {\n  const e = ve(t);\n  if (!u(t) || $(t))\n    return e;\n  if (!b(t)) {\n    let o = k(t);\n    for (; o && !x(o); ) {\n      if (i(o) && !D(o))\n        return o;\n      o = k(o);\n    }\n    return e;\n  }\n  let n = B(t);\n  for (; n && be(n) && D(n); )\n    n = B(n);\n  return n && x(n) && D(n) && !J(n) ? e : n || ye(t) || e;\n}, we = (t) => {\n  if (!b(t)) return !1;\n  const { width: e, height: n } = y(t), { offsetWidth: o, offsetHeight: s } = t;\n  return Math.round(e) !== o || Math.round(n) !== s;\n}, Co = (t, e, n) => {\n  const o = b(e), s = y(\n    t,\n    o && we(e)\n  ), r = { x: 0, y: 0 };\n  if (o) {\n    const a = y(e, !0);\n    r.x = a.x + e.clientLeft, r.y = a.y + e.clientTop;\n  }\n  return {\n    x: s.left + n.x - r.x,\n    y: s.top + n.y - r.y,\n    width: s.width,\n    height: s.height\n  };\n};\nlet V = 0, H = 0;\nconst h = /* @__PURE__ */ new Map(), Ae = (t, e) => {\n  let n = e ? V : H;\n  if (e) {\n    const o = Ae(t), s = h.get(o) || /* @__PURE__ */ new Map();\n    h.has(o) || h.set(o, s), O(s) && !s.has(e) ? (s.set(e, n), V += 1) : n = s.get(e);\n  } else {\n    const o = t.id || t;\n    h.has(o) ? n = h.get(o) : (h.set(o, n), H += 1);\n  }\n  return n;\n}, Se = (t) => Array.isArray(t) || !1, Mo = (t) => u(t) && t.nodeName === \"CANVAS\" || !1, ke = (t) => b(t) && !!t.shadowRoot || !1, Do = (t) => {\n  if (!u(t)) return !1;\n  const { top: e, bottom: n } = y(t), { clientHeight: o } = w(t);\n  return e <= o && n >= 0;\n}, Lo = (t) => {\n  if (!i(t)) return !1;\n  const { clientWidth: e, clientHeight: n } = w(t), { top: o, left: s, bottom: r, right: a } = y(t, !0);\n  return o >= 0 && s >= 0 && r <= n && a <= e;\n}, Oo = (t) => Se(t) && t.every(i) || !1, xo = (t) => typeof t == \"function\" || !1, zo = (t) => v(t) && t.constructor.name === \"HTMLCollection\" || !1, Io = (t) => b(t) && t.tagName === \"IMG\" || !1, Po = (t) => {\n  if (!N(t)) return !1;\n  try {\n    JSON.parse(t);\n  } catch {\n    return !1;\n  }\n  return !0;\n}, Fo = (t) => v(t) && t.constructor.name === \"WeakMap\" || !1, Bo = (t) => u(t) && [\"SVG\", \"Image\", \"Video\", \"Canvas\"].some(\n  (e) => t.constructor.name.includes(e)\n) || !1, Vo = (t) => v(t) && t.constructor.name === \"NodeList\" || !1, Ho = (t) => w(t).dir === \"rtl\", Uo = (t) => u(t) && t.constructor.name.includes(\"SVG\") || !1, Ne = (t, e) => !t || !e ? null : t.closest(e) || Ne(t.getRootNode().host, e) || null, Wo = (t, e) => i(t) ? t : (i(e) ? e : d()).querySelector(t), Te = (t, e) => (u(e) ? e : d()).getElementsByTagName(\n  t\n), Ro = (t) => [...Te(\"*\", t)].filter(ke), Qo = (t, e) => d(e).getElementById(t), jo = (t, e) => (e && u(e) ? e : d()).getElementsByClassName(\n  t\n);\nexport {\n  Yn as ArrayFrom,\n  U as DOMContentLoadedEvent,\n  st as DOMMouseScrollEvent,\n  L as Data,\n  ro as Float32ArrayFrom,\n  co as Float64ArrayFrom,\n  T as ObjectAssign,\n  S as ObjectEntries,\n  go as ObjectFromEntries,\n  lo as ObjectHasOwn,\n  fo as ObjectKeys,\n  po as ObjectValues,\n  ho as Timer,\n  Y as abortEvent,\n  Gn as addClass,\n  An as addEventListener,\n  fe as addFocusTrap,\n  $t as animationDelay,\n  _t as animationDuration,\n  C as animationEndEvent,\n  W as animationName,\n  Me as ariaChecked,\n  Le as ariaDescribedBy,\n  De as ariaDescription,\n  Oe as ariaExpanded,\n  xe as ariaHasPopup,\n  X as ariaHidden,\n  ze as ariaLabel,\n  Ie as ariaLabelledBy,\n  Pe as ariaModal,\n  Fe as ariaPressed,\n  Be as ariaSelected,\n  He as ariaValueMax,\n  Ve as ariaValueMin,\n  Ue as ariaValueNow,\n  We as ariaValueText,\n  tt as beforeunloadEvent,\n  kn as bezierEasings,\n  et as blurEvent,\n  P as camelCase,\n  eo as capitalize,\n  nt as changeEvent,\n  Ne as closest,\n  ot as contextmenuEvent,\n  mo as createCustomEvent,\n  se as createElement,\n  re as createElementNS,\n  Z as dispatchEvent,\n  no as distinct,\n  $n as documentBody,\n  Jn as documentElement,\n  Xn as documentHead,\n  Qe as dragEvent,\n  Ze as dragendEvent,\n  Ke as dragenterEvent,\n  qe as dragleaveEvent,\n  Ge as dragoverEvent,\n  je as dragstartEvent,\n  oo as emulateAnimationEnd,\n  so as emulateTransitionEnd,\n  rt as errorEvent,\n  ao as focus,\n  ct as focusEvent,\n  tn as focusEvents,\n  Zt as focusableSelector,\n  at as focusinEvent,\n  it as focusoutEvent,\n  ut as gesturechangeEvent,\n  lt as gestureendEvent,\n  dt as gesturestartEvent,\n  K as getAttribute,\n  Wn as getAttributeNS,\n  y as getBoundingClientRect,\n  Ro as getCustomElements,\n  d as getDocument,\n  So as getDocumentBody,\n  w as getDocumentElement,\n  ko as getDocumentHead,\n  ce as getElementAnimationDelay,\n  ae as getElementAnimationDuration,\n  Qo as getElementById,\n  f as getElementStyle,\n  ie as getElementTransitionDelay,\n  ue as getElementTransitionDuration,\n  jo as getElementsByClassName,\n  Te as getElementsByTagName,\n  to as getInstance,\n  ge as getNodeName,\n  No as getNodeScroll,\n  To as getOffsetParent,\n  k as getParentNode,\n  Co as getRectRelativeToOffsetParent,\n  Ae as getUID,\n  ve as getWindow,\n  _ as handleKeyboardNavigation,\n  oe as hasAttribute,\n  Rn as hasAttributeNS,\n  _n as hasClass,\n  I as hasFocusTrap,\n  zn as isApple,\n  Se as isArray,\n  Mo as isCanvas,\n  ke as isCustomElement,\n  G as isDocument,\n  i as isElement,\n  Do as isElementInScrollRange,\n  Lo as isElementInViewport,\n  Oo as isElementsArray,\n  In as isFirefox,\n  xo as isFunction,\n  zo as isHTMLCollection,\n  b as isHTMLElement,\n  Io as isHTMLImageElement,\n  Po as isJSON,\n  O as isMap,\n  Bo as isMedia,\n  xn as isMobile,\n  u as isNode,\n  Vo as isNodeList,\n  le as isNumber,\n  v as isObject,\n  Ho as isRTL,\n  Uo as isSVGElement,\n  we as isScaledElement,\n  me as isShadowRoot,\n  N as isString,\n  be as isTableElement,\n  Fo as isWeakMap,\n  te as isWebKit,\n  q as isWindow,\n  io as kebabCase,\n  nn as keyAlt,\n  on as keyArrowDown,\n  rn as keyArrowLeft,\n  cn as keyArrowRight,\n  sn as keyArrowUp,\n  an as keyBackspace,\n  un as keyCapsLock,\n  ln as keyControl,\n  dn as keyDelete,\n  fn as keyEnter,\n  gn as keyEscape,\n  mn as keyInsert,\n  vn as keyMeta,\n  pn as keyNumpadEnter,\n  bn as keyPause,\n  En as keyScrollLock,\n  hn as keyShift,\n  yn as keySpace,\n  wn as keyTab,\n  en as keyboardEventKeys,\n  ft as keydownEvent,\n  pt as keypressEvent,\n  gt as keyupEvent,\n  mt as loadEvent,\n  _e as loadstartEvent,\n  Ee as matches,\n  Je as mouseClickEvents,\n  Xe as mouseHoverEvents,\n  $e as mouseSwipeEvents,\n  vt as mouseclickEvent,\n  bt as mousedblclickEvent,\n  Et as mousedownEvent,\n  wt as mouseenterEvent,\n  yt as mousehoverEvent,\n  St as mouseinEvent,\n  At as mouseleaveEvent,\n  Tt as mousemoveEvent,\n  kt as mouseoutEvent,\n  Nt as mouseoverEvent,\n  ht as mouseupEvent,\n  Ct as mousewheelEvent,\n  Mt as moveEvent,\n  Re as nativeEvents,\n  ee as noop,\n  uo as normalizeOptions,\n  F as normalizeValue,\n  j as off,\n  Nn as offsetHeight,\n  Tn as offsetWidth,\n  Q as on,\n  ne as one,\n  Dt as orientationchangeEvent,\n  vo as passiveHandler,\n  Lt as pointercancelEvent,\n  Ot as pointerdownEvent,\n  xt as pointerleaveEvent,\n  zt as pointermoveEvent,\n  It as pointerupEvent,\n  Wo as querySelector,\n  de as querySelectorAll,\n  Pt as readystatechangeEvent,\n  bo as reflow,\n  Kn as removeAttribute,\n  qn as removeAttributeNS,\n  Zn as removeClass,\n  Sn as removeEventListener,\n  pe as removeFocusTrap,\n  Ft as resetEvent,\n  Bt as resizeEvent,\n  Wt as scrollEvent,\n  Cn as scrollHeight,\n  Mn as scrollWidth,\n  Vt as selectEvent,\n  Ht as selectendEvent,\n  Ut as selectstartEvent,\n  Qn as setAttribute,\n  jn as setAttributeNS,\n  Eo as setElementStyle,\n  Rt as submitEvent,\n  Pn as support3DTransform,\n  Hn as supportAnimation,\n  Fn as supportPassive,\n  Vn as supportTouch,\n  Bn as supportTransform,\n  Un as supportTransition,\n  Dn as tabindex,\n  yo as toLowerCase,\n  wo as toUpperCase,\n  Ao as toggleFocusTrap,\n  Ye as touchEvents,\n  Kt as touchcancelEvent,\n  qt as touchendEvent,\n  jt as touchmoveEvent,\n  Qt as touchstartEvent,\n  Xt as transitionDelay,\n  Jt as transitionDuration,\n  M as transitionEndEvent,\n  R as transitionProperty,\n  Gt as unloadEvent,\n  On as userAgent,\n  Ln as userAgentData,\n  Ce as version\n};\n//# sourceMappingURL=shorty.mjs.map\n","const g = \"2.0.10\", e = {}, f = (t) => {\n  const { type: n, currentTarget: c } = t;\n  e[n].forEach((a, s) => {\n    c === s && a.forEach((o, i) => {\n      i.apply(s, [t]), typeof o == \"object\" && o.once && r(s, n, i, o);\n    });\n  });\n}, E = (t, n, c, a) => {\n  e[n] || (e[n] = /* @__PURE__ */ new Map());\n  const s = e[n];\n  s.has(t) || s.set(t, /* @__PURE__ */ new Map());\n  const o = s.get(\n    t\n  ), { size: i } = o;\n  o.set(c, a), i || t.addEventListener(\n    n,\n    f,\n    a\n  );\n}, r = (t, n, c, a) => {\n  const s = e[n], o = s && s.get(t), i = o && o.get(c), d = i !== void 0 ? i : a;\n  o && o.has(c) && o.delete(c), s && (!o || !o.size) && s.delete(t), (!s || !s.size) && delete e[n], (!o || !o.size) && t.removeEventListener(\n    n,\n    f,\n    d\n  );\n}, M = E, p = r;\nexport {\n  E as addListener,\n  f as globalListener,\n  p as off,\n  M as on,\n  e as registry,\n  r as removeListener,\n  g as version\n};\n//# sourceMappingURL=event-listener.mjs.map\n","/**\n * Global namespace for most components `fade` class.\n */\nconst fadeClass = \"fade\";\nexport default fadeClass;\n","/**\n * Global namespace for most components `show` class.\n */\nconst showClass = \"show\";\nexport default showClass;\n","/**\n * Global namespace for most components `dismiss` option.\n */\nconst dataBsDismiss = \"data-bs-dismiss\";\nexport default dataBsDismiss;\n","/** @type {string} */\nconst alertString = \"alert\";\nexport default alertString;\n","/** @type {string} */\nconst alertComponent = \"Alert\";\nexport default alertComponent;\n","import { getAttribute, hasClass } from \"@thednp/shorty\";\n\n/**\n * Check if interactive element is disabled.\n * @param target either a `<button>` or an `<a>`\n * @returns whether the target is disabled\n */\nconst isDisabled = (target: Element) => {\n  return hasClass(target, \"disabled\") ||\n    getAttribute(target, \"disabled\") === \"true\";\n};\n\nexport default isDisabled;\n","import { version } from \"../package.json\";\n\nconst Version = version;\n\nexport default Version;\n","/* Native JavaScript for Bootstrap 5 | Base Component\n----------------------------------------------------- */\nimport {\n  Data,\n  isElement,\n  isString,\n  normalizeOptions,\n  ObjectKeys,\n  querySelector,\n} from \"@thednp/shorty\";\n\nimport type { BaseOptions } from \"~/interface/baseComponent\";\nimport Version from \"~/version\";\n\n/** Returns a new `BaseComponent` instance. */\nexport default class BaseComponent {\n  declare element: Element;\n  declare options?: BaseOptions;\n\n  /**\n   * @param target `Element` or selector string\n   * @param config component instance options\n   */\n  constructor(target: Element | string, config?: BaseOptions) {\n    let element: Element | null;\n\n    try {\n      if (isElement(target)) {\n        element = target as Element;\n      } else if (isString(target)) {\n        element = querySelector(target);\n        // istanbul ignore else @preserve\n        if (!element) throw Error(`\"${target}\" is not a valid selector.`);\n      } else {\n        throw Error(`your target is not an instance of HTMLElement.`);\n      }\n    } catch (e) {\n      throw Error(`${this.name} Error: ${(e as Error).message}`);\n    }\n\n    const prevInstance = Data.get<typeof this>(element, this.name);\n    /* istanbul ignore else @preserve */\n    if (prevInstance) {\n      // remove previously attached event listeners\n      // to avoid memory leaks\n      prevInstance._toggleEventListeners();\n    }\n\n    this.element = element;\n    this.options = this.defaults && ObjectKeys(this.defaults).length\n      ? normalizeOptions(element, this.defaults, config || {}, \"bs\")\n      : /* istanbul ignore next @preserve */ {};\n\n    Data.set(element, this.name, this);\n  }\n\n  // istanbul ignore next @preserve\n  get version() {\n    return Version;\n  }\n\n  // istanbul ignore next @preserve\n  get name() {\n    return \"BaseComponent\";\n  }\n\n  // istanbul ignore next @preserve\n  get defaults() {\n    return {};\n  }\n\n  /** just to have something to extend from */\n  // istanbul ignore next @preserve coverage wise this isn't important\n  _toggleEventListeners = () => {\n    // do something to please linters\n  };\n\n  /** Removes component from target element. */\n  dispose() {\n    Data.remove<typeof this>(this.element, this.name);\n    ObjectKeys(this).forEach((prop) => {\n      delete this[prop];\n    });\n  }\n}\n","/* Native JavaScript for Bootstrap 5 | Alert\n-------------------------------------------- */\nimport {\n  createCustomEvent,\n  dispatchEvent,\n  emulateTransitionEnd,\n  getInstance,\n  hasClass,\n  mouseclickEvent,\n  PointerEvent,\n  querySelector,\n  removeClass,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport fadeClass from \"~/strings/fadeClass\";\nimport showClass from \"~/strings/showClass\";\nimport dataBsDismiss from \"~/strings/dataBsDismiss\";\nimport alertString from \"~/strings/alertString\";\nimport alertComponent from \"~/strings/alertComponent\";\nimport isDisabled from \"~/util/isDisabled\";\nimport type { AlertEvent } from \"~/interface/alert\";\n\nimport BaseComponent from \"./base-component\";\n\n// ALERT PRIVATE GC\n// ================\nconst alertSelector = `.${alertString}`;\nconst alertDismissSelector = `[${dataBsDismiss}=\"${alertString}\"]`;\n\n/**\n * Static method which returns an existing `Alert` instance associated\n * to a target `Element`.\n */\nconst getAlertInstance = (element: Element) =>\n  getInstance<Alert>(element, alertComponent);\n\n/**\n * An `Alert` initialization callback.\n */\nconst alertInitCallback = (element: Element) => new Alert(element);\n\n// ALERT CUSTOM EVENTS\n// ===================\nconst closeAlertEvent = createCustomEvent<Record<string, never>, AlertEvent>(\n  `close.bs.${alertString}`,\n);\nconst closedAlertEvent = createCustomEvent<Record<string, never>, AlertEvent>(\n  `closed.bs.${alertString}`,\n);\n\n// ALERT EVENT HANDLER\n// ===================\n/**\n * Alert `transitionend` callback.\n *\n * @param that target Alert instance\n */\nconst alertTransitionEnd = (self: Alert) => {\n  const { element } = self;\n  dispatchEvent(element, closedAlertEvent);\n\n  self._toggleEventListeners();\n  self.dispose();\n  element.remove();\n};\n\n// ALERT DEFINITION\n// ================\n/** Creates a new Alert instance. */\nexport default class Alert extends BaseComponent {\n  static selector = alertSelector;\n  static init = alertInitCallback;\n  static getInstance = getAlertInstance;\n  dismiss: HTMLElement | null;\n\n  constructor(target: Element | string) {\n    super(target);\n\n    // the dismiss button\n    this.dismiss = querySelector<HTMLElement>(\n      alertDismissSelector,\n      this.element,\n    );\n\n    // add event listener\n    this._toggleEventListeners(true);\n  }\n\n  /** Returns component name string. */\n  get name() {\n    return alertComponent;\n  }\n\n  // ALERT PUBLIC METHODS\n  // ====================\n  /**\n   * Public method that hides the `.alert` element from the user,\n   * disposes the instance once animation is complete, then\n   * removes the element from the DOM.\n   */\n  close = (e: PointerEvent<HTMLElement>) => {\n    const { element, dismiss } = this;\n\n    // istanbul ignore if @preserve\n    if (!element || !hasClass(element, showClass)) return;\n    // istanbul ignore if @preserve\n    if (e && dismiss && isDisabled(dismiss)) return;\n    dispatchEvent(element, closeAlertEvent);\n\n    if (closeAlertEvent.defaultPrevented) return;\n\n    removeClass(element, showClass);\n\n    if (hasClass(element, fadeClass)) {\n      emulateTransitionEnd(element, () => alertTransitionEnd(this));\n    } else alertTransitionEnd(this);\n  };\n  /**\n   * Toggle on / off the `click` event listener.\n   *\n   * @param add when `true`, event listener is added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    const { dismiss, close } = this;\n    // istanbul ignore else @preserve\n    if (dismiss) {\n      action(dismiss, mouseclickEvent, close);\n    }\n  };\n\n  /** Remove the component from target element. */\n  dispose() {\n    this._toggleEventListeners();\n    super.dispose();\n  }\n}\n","/**\n * Global namespace for most components active class.\n */\nconst activeClass = \"active\";\nexport default activeClass;\n","/**\n * Global namespace for most components `toggle` option.\n */\nconst dataBsToggle = \"data-bs-toggle\";\nexport default dataBsToggle;\n","/** @type {string} */\nconst buttonString = \"button\";\nexport default buttonString;\n","/** @type {string} */\nconst buttonComponent = \"Button\";\nexport default buttonComponent;\n","/* Native JavaScript for Bootstrap 5 | Button\n---------------------------------------------*/\nimport {\n  addClass,\n  ariaPressed,\n  getInstance,\n  hasClass,\n  mouseclickEvent,\n  PointerEvent,\n  removeClass,\n  setAttribute,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport activeClass from \"~/strings/activeClass\";\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport buttonString from \"~/strings/buttonString\";\nimport buttonComponent from \"~/strings/buttonComponent\";\nimport BaseComponent from \"./base-component\";\nimport isDisabled from \"~/util/isDisabled\";\n\n// BUTTON PRIVATE GC\n// =================\nconst buttonSelector = `[${dataBsToggle}=\"${buttonString}\"]`;\n\n/**\n * Static method which returns an existing `Button` instance associated\n * to a target `Element`.\n */\nconst getButtonInstance = (element: Element) =>\n  getInstance<Button>(element, buttonComponent);\n\n/** A `Button` initialization callback. */\nconst buttonInitCallback = (element: Element) => new Button(element);\n\n// BUTTON DEFINITION\n// =================\n/** Creates a new `Button` instance. */\nexport default class Button extends BaseComponent {\n  static selector = buttonSelector;\n  static init = buttonInitCallback;\n  static getInstance = getButtonInstance;\n\n  declare isActive: boolean;\n  declare element: HTMLElement;\n\n  /**\n   * @param target usually a `.btn` element\n   */\n  constructor(target: Element | string) {\n    super(target);\n\n    // initialization element\n    const { element } = this;\n\n    // set initial state\n    this.isActive = hasClass(element, activeClass);\n    setAttribute(element, ariaPressed, String(!!this.isActive));\n\n    // add event listener\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return buttonComponent;\n  }\n\n  // BUTTON PUBLIC METHODS\n  // =====================\n  /**\n   * Toggles the state of the target button.\n   *\n   * @param e usually `click` Event object\n   */\n  toggle = (e?: PointerEvent<HTMLElement>) => {\n    if (e) e.preventDefault();\n\n    const { element, isActive } = this;\n    // istanbul ignore if @preserve\n    if (isDisabled(element)) return;\n    const action = isActive ? removeClass : addClass;\n    action(element, activeClass);\n    setAttribute(element, ariaPressed, isActive ? \"false\" : \"true\");\n    this.isActive = hasClass(element, activeClass);\n  };\n\n  // BUTTON PRIVATE METHOD\n  // =====================\n  /**\n   * Toggles on/off the `click` event listener.\n   *\n   * @param add when `true`, event listener is added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    action(this.element, mouseclickEvent, this.toggle);\n  };\n\n  /** Removes the `Button` component from the target element. */\n  dispose() {\n    this._toggleEventListeners();\n    super.dispose();\n  }\n}\n","/**\n * Global namespace for most components `target` option.\n */\nconst dataBsTarget = \"data-bs-target\";\nexport default dataBsTarget;\n","/** @type {string} */\nconst carouselString = \"carousel\";\nexport default carouselString;\n","/** @type {string} */\nconst carouselComponent = \"Carousel\";\nexport default carouselComponent;\n","/**\n * Global namespace for most components `parent` option.\n */\nconst dataBsParent = \"data-bs-parent\";\nexport default dataBsParent;\n","/**\n * Global namespace for most components `container` option.\n */\nconst dataBsContainer = \"data-bs-container\";\nexport default dataBsContainer;\n","import {\n  closest,\n  getAttribute,\n  getDocument,\n  querySelector,\n} from \"@thednp/shorty\";\n\nimport dataBsTarget from \"../strings/dataBsTarget\";\nimport dataBsParent from \"../strings/dataBsParent\";\nimport dataBsContainer from \"../strings/dataBsContainer\";\n\n/**\n * Returns the `Element` that THIS one targets\n * via `data-bs-target`, `href`, `data-bs-parent` or `data-bs-container`.\n *\n * @param element the target element\n * @returns the query result\n */\nconst getTargetElement = <T extends Element = HTMLElement>(element: T) => {\n  const targetAttr = [dataBsTarget, dataBsParent, dataBsContainer, \"href\"];\n  const doc = getDocument(element);\n\n  return targetAttr\n    .map((att) => {\n      const attValue = getAttribute(element, att);\n      if (attValue) {\n        return att === dataBsParent\n          ? closest<T>(element, attValue)\n          : querySelector<T>(attValue, doc);\n      }\n      return null;\n    })\n    .filter((x) => x)[0];\n};\n\nexport default getTargetElement;\n","/* Native JavaScript for Bootstrap 5 | Carousel\n----------------------------------------------- */\nimport {\n  addClass,\n  closest,\n  createCustomEvent,\n  dispatchEvent,\n  DragEvent,\n  dragstartEvent,\n  emulateTransitionEnd,\n  getAttribute,\n  getDocument,\n  getElementsByClassName,\n  getElementTransitionDuration,\n  getInstance,\n  hasClass,\n  isElementInScrollRange,\n  isMobile,\n  isRTL,\n  keyArrowLeft,\n  keyArrowRight,\n  keydownEvent,\n  matches,\n  mouseclickEvent,\n  mouseenterEvent,\n  mouseleaveEvent,\n  ObjectAssign,\n  passiveHandler,\n  pointerdownEvent,\n  PointerEvent,\n  pointermoveEvent,\n  pointerupEvent,\n  querySelector,\n  querySelectorAll,\n  reflow,\n  removeClass,\n  Timer,\n  TouchEvent,\n  touchstartEvent,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport activeClass from \"~/strings/activeClass\";\nimport dataBsTarget from \"~/strings/dataBsTarget\";\nimport carouselString from \"~/strings/carouselString\";\nimport carouselComponent from \"~/strings/carouselComponent\";\nimport getTargetElement from \"~/util/getTargetElement\";\nimport isDisabled from \"~/util/isDisabled\";\nimport BaseComponent from \"./base-component\";\nimport type { CarouselEvent, CarouselOptions } from \"~/interface/carousel\";\n\ntype CarouselEventProperties = {\n  relatedTarget: EventTarget & HTMLElement;\n  from: number;\n  to: number;\n  direction: \"left\" | \"right\";\n};\n\n// CAROUSEL PRIVATE GC\n// ===================\nconst carouselSelector = `[data-bs-ride=\"${carouselString}\"]`;\nconst carouselItem = `${carouselString}-item`;\nconst dataBsSlideTo = \"data-bs-slide-to\";\nconst dataBsSlide = \"data-bs-slide\";\nconst pausedClass = \"paused\";\nconst touchEvent = isMobile() ? touchstartEvent : pointerdownEvent;\nconsole.log({ isMobile: isMobile(), touchEvent })\n\nconst carouselDefaults: CarouselOptions = {\n  pause: \"hover\",\n  keyboard: false,\n  touch: true,\n  interval: 5000,\n};\n\n/**\n * Static method which returns an existing `Carousel` instance associated\n * to a target `Element`.\n */\nconst getCarouselInstance = (element: Element) =>\n  getInstance<Carousel>(element, carouselComponent);\n\n/**\n * A `Carousel` initialization callback.\n */\nconst carouselInitCallback = (element: Element) => new Carousel(element);\n\nlet startX = 0;\nlet currentX = 0;\nlet endX = 0;\n\n// CAROUSEL CUSTOM EVENTS\n// ======================\nconst carouselSlideEvent = createCustomEvent<\n  CarouselEventProperties,\n  CarouselEvent\n>(`slide.bs.${carouselString}`);\nconst carouselSlidEvent = createCustomEvent<\n  CarouselEventProperties,\n  CarouselEvent\n>(`slid.bs.${carouselString}`);\n\n// CAROUSEL EVENT HANDLERS\n// =======================\n/**\n * The `transitionend` event listener of the `Carousel`.\n *\n * @param self the `Carousel` instance\n */\nconst carouselTransitionEndHandler = (self: Carousel) => {\n  const { index, direction, element, slides, options } = self;\n\n  // istanbul ignore else @preserve\n  if (self.isAnimating) {\n    const activeItem = getActiveIndex(self);\n    const orientation = direction === \"left\" ? \"next\" : \"prev\";\n    const directionClass = direction === \"left\" ? \"start\" : \"end\";\n\n    addClass(slides[index], activeClass);\n    removeClass(slides[index], `${carouselItem}-${orientation}`);\n    removeClass(slides[index], `${carouselItem}-${directionClass}`);\n\n    removeClass(slides[activeItem], activeClass);\n    removeClass(slides[activeItem], `${carouselItem}-${directionClass}`);\n\n    dispatchEvent(element, carouselSlidEvent);\n    Timer.clear(element, dataBsSlide);\n\n    // must check if a previous instance is disposed\n    if (\n      self.cycle && !getDocument(element).hidden && options.interval &&\n      !self.isPaused\n    ) {\n      self.cycle();\n    }\n  }\n};\n\n/**\n * Handles the `mouseenter` events when *options.pause*\n * is set to `hover`.\n */\nfunction carouselPauseHandler(this: HTMLElement) {\n  const self = getCarouselInstance(this);\n  // istanbul ignore else @preserve\n  if (self && !self.isPaused && !Timer.get(this, pausedClass)) {\n    addClass(this, pausedClass);\n  }\n}\n\n/**\n * Handles the `mouseleave` events when *options.pause*\n * is set to `hover`.\n */\nfunction carouselResumeHandler(this: HTMLElement) {\n  const self = getCarouselInstance(this);\n  // istanbul ignore else @preserve\n  if (self && self.isPaused && !Timer.get(this, pausedClass)) {\n    self.cycle();\n  }\n}\n\n/**\n * Handles the `click` event for the `Carousel` indicators.\n *\n * @param e the `Event` object\n */\nfunction carouselIndicatorHandler(this: HTMLElement, e: MouseEvent) {\n  e.preventDefault();\n  const element = closest(this, carouselSelector) || getTargetElement(this);\n  const self = element && getCarouselInstance(element);\n\n  // istanbul ignore if @preserve\n  if (isDisabled(this)) return;\n  // istanbul ignore if @preserve\n  if (!self || self.isAnimating) return;\n\n  const newIndex = +(\n    getAttribute(this, dataBsSlideTo) ||\n    // istanbul ignore next @preserve\n    0\n  );\n\n  // istanbul ignore else @preserve\n  if (\n    this &&\n    !hasClass(this, activeClass) && // event target is not active\n    !Number.isNaN(newIndex)\n  ) {\n    // AND has the specific attribute\n    self.to(newIndex); // do the slide\n  }\n}\n\n/**\n * Handles the `click` event for the `Carousel` arrows.\n *\n * @param e the `Event` object\n */\nfunction carouselControlsHandler(this: HTMLElement, e: MouseEvent) {\n  e.preventDefault();\n  const element = closest(this, carouselSelector) || getTargetElement(this);\n  const self = element && getCarouselInstance(element);\n\n  // istanbul ignore if @preserve\n  if (isDisabled(this)) return;\n  // istanbul ignore if @preserve\n  if (!self || self.isAnimating) return;\n\n  const orientation = getAttribute(this, dataBsSlide);\n\n  // istanbul ignore else @preserve\n  if (orientation === \"next\") {\n    self.next();\n  } else if (orientation === \"prev\") {\n    self.prev();\n  }\n}\n\n/**\n * Handles the keyboard `keydown` event for the visible `Carousel` elements.\n *\n * @param e the `Event` object\n */\nconst carouselKeyHandler = (\n  { code, target }: KeyboardEvent & { target: Node },\n) => {\n  const doc = getDocument(target);\n  const [element] = [...querySelectorAll<HTMLElement>(carouselSelector, doc)]\n    .filter((x) => isElementInScrollRange(x));\n  const self = getCarouselInstance(element);\n\n  // istanbul ignore next @preserve\n  if (\n    !self || self.isAnimating || /textarea|input|select/i.test(target.nodeName)\n  ) return;\n\n  const RTL = isRTL(element);\n  const arrowKeyNext = !RTL ? keyArrowRight : keyArrowLeft;\n  const arrowKeyPrev = !RTL ? keyArrowLeft : keyArrowRight;\n\n  // istanbul ignore else @preserve\n  if (code === arrowKeyPrev) self.prev();\n  else if (code === arrowKeyNext) self.next();\n};\n\n// CAROUSEL TOUCH HANDLERS\n// =======================\n/**\n * Prevents the `touchstart` and `dragstart` events for the `Carousel` element.\n *\n * @param e the `Event` object\n */\nfunction carouselDragHandler<T extends HTMLElement>(\n  this: T,\n  e: Event & (DragEvent<T> | TouchEvent<T>),\n) {\n  const { target } = e;\n  const self = getCarouselInstance(this);\n\n  // Only prevent default if we're touching the carousel content\n  // but not the controls or indicators\n  // istanbul ignore next @preserve\n  if (\n    self &&\n    self.isTouch &&\n    !self.controls.includes(target as HTMLElement) &&\n    !self.controls.includes(target?.parentElement as HTMLElement) &&\n    (!self.indicator || !self.indicator.contains(target))\n  ) {\n    e.preventDefault();\n  }\n}\n\n// CAROUSEL POINTER HANDLERS\n// =========================\n/**\n * Handles the `pointerdown` event for the `Carousel` element.\n *\n * @param e the `Event` object\n */\nfunction carouselPointerDownHandler(\n  this: HTMLElement,\n  e: PointerEvent<HTMLElement>,\n) {\n  const { target } = e;\n  const self = getCarouselInstance(this);\n\n  // istanbul ignore else @preserve\n  if (!self || self.isAnimating || self.isTouch) return;\n\n  // filter pointer event on controls & indicators\n  const { controls, indicator } = self;\n  // istanbul ignore else @preserve\n  if (\n    ![...controls, indicator].every((el) =>\n      el && (el === target || el.contains(target))\n    ) && this.contains(target)\n  ) {\n    startX = e.pageX;\n\n    // istanbul ignore else @preserve\n    // if (this.contains(target)) {\n    self.isTouch = true;\n    toggleCarouselTouchHandlers(self, true);\n    // }\n  } else {\n    // e.stopImmediatePropagation();\n\n    // e.stopPropagation();\n    // e.preventDefault();\n  }\n}\n\n/**\n * Handles the `pointermove` event for the `Carousel` element.\n *\n * @param e\n */\nconst carouselPointerMoveHandler = (e: PointerEvent<HTMLElement>) => {\n  currentX = e.pageX;\n};\n\n/**\n * Handles the `pointerup` event for the `Carousel` element.\n *\n * @param e\n */\nconst carouselPointerUpHandler = (e: PointerEvent<HTMLElement>) => {\n  const { target } = e;\n  const doc = getDocument(target);\n  const self = [...querySelectorAll(carouselSelector, doc)]\n    .map((c) => getCarouselInstance(c) as Carousel)\n    .find((i) => i.isTouch) as Carousel;\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  const { element, index } = self;\n  const RTL = isRTL(element);\n  endX = e.pageX;\n\n  self.isTouch = false;\n  toggleCarouselTouchHandlers(self);\n\n  if (\n    !doc.getSelection()?.toString().length &&\n    element.contains(target) &&\n    Math.abs(startX - endX) > 120\n  ) {\n    // determine next index to slide to\n    // istanbul ignore else @preserve\n    if (currentX < startX) {\n      self.to(index + (RTL ? -1 : 1));\n    } else if (currentX > startX) {\n      self.to(index + (RTL ? 1 : -1));\n    }\n  }\n\n  // reset pointer position\n  startX = 0;\n  currentX = 0;\n  endX = 0;\n};\n\n// CAROUSEL PRIVATE METHODS\n// ========================\n/**\n * Sets active indicator for the `Carousel` instance.\n *\n * @param self the `Carousel` instance\n * @param index the index of the new active indicator\n */\nconst activateCarouselIndicator = (self: Carousel, index: number) => {\n  const { indicators } = self;\n  [...indicators].forEach((x) => removeClass(x, activeClass));\n\n  // istanbul ignore else @preserve\n  if (self.indicators[index]) addClass(indicators[index], activeClass);\n};\n\n/**\n * Toggles the pointer event listeners for a given `Carousel` instance.\n *\n * @param self the `Carousel` instance\n * @param add when `TRUE` event listeners are added\n */\nconst toggleCarouselTouchHandlers = (self: Carousel, add?: boolean) => {\n  const { element } = self;\n  const action = add ? addListener : removeListener;\n  action(\n    getDocument(element),\n    pointermoveEvent,\n    carouselPointerMoveHandler,\n    passiveHandler,\n  );\n  action(\n    getDocument(element),\n    pointerupEvent,\n    carouselPointerUpHandler,\n    passiveHandler,\n  );\n};\n\n/**\n * Returns the index of the current active item.\n *\n * @param self the `Carousel` instance\n * @returns the query result\n */\nconst getActiveIndex = (self: Carousel) => {\n  const { slides, element } = self;\n  const activeItem = querySelector<HTMLElement>(\n    `.${carouselItem}.${activeClass}`,\n    element,\n  );\n  return activeItem ? [...slides].indexOf(activeItem) : -1;\n};\n\n// CAROUSEL DEFINITION\n// ===================\n/** Creates a new `Carousel` instance. */\nexport default class Carousel extends BaseComponent {\n  static selector = carouselSelector;\n  static init = carouselInitCallback;\n  static getInstance = getCarouselInstance;\n  declare element: HTMLElement;\n  declare options: CarouselOptions;\n  declare direction: \"right\" | \"left\";\n  declare index: number;\n  declare isTouch: boolean;\n  declare slides: HTMLCollectionOf<HTMLElement>;\n  declare controls: HTMLElement[];\n  declare indicator: HTMLElement | null;\n  declare indicators: HTMLElement[];\n\n  /**\n   * @param target mostly a `.carousel` element\n   * @param config instance options\n   */\n  constructor(target: Element | string, config?: Partial<CarouselOptions>) {\n    super(target, config);\n\n    // initialization element\n    const { element } = this;\n\n    // additional properties\n    this.direction = isRTL(element) ? \"right\" : \"left\";\n    this.isTouch = false;\n\n    // carousel elements\n    // a LIVE collection is prefferable\n    this.slides = getElementsByClassName(carouselItem, element);\n    const { slides } = this;\n\n    // invalidate when not enough items\n    // no need to go further\n    if (slides.length < 2) return;\n\n    const activeIndex = getActiveIndex(this);\n    // recover item from disposed instance\n    const transitionItem = [...slides].find((s) =>\n      matches(s, `.${carouselItem}-next`)\n    );\n    this.index = activeIndex;\n\n    // external controls must be within same document context\n    const doc = getDocument(element);\n\n    this.controls = [\n      ...querySelectorAll<HTMLElement>(`[${dataBsSlide}]`, element),\n      ...querySelectorAll<HTMLElement>(\n        `[${dataBsSlide}][${dataBsTarget}=\"#${element.id}\"]`,\n        doc,\n      ),\n    ].filter((c, i, ar) => i === ar.indexOf(c));\n\n    this.indicator = querySelector<HTMLElement>(\n      `.${carouselString}-indicators`,\n      element,\n    );\n\n    // a LIVE collection is preffered\n    this.indicators = [\n      ...(this.indicator\n        ? querySelectorAll<HTMLElement>(`[${dataBsSlideTo}]`, this.indicator)\n        /* istanbul ignore next @preserve */ : []),\n      ...querySelectorAll<HTMLElement>(\n        `[${dataBsSlideTo}][${dataBsTarget}=\"#${element.id}\"]`,\n        doc,\n      ),\n    ].filter((c, i, ar) => i === ar.indexOf(c));\n\n    // set JavaScript and DATA API options\n    const { options } = this;\n\n    // don't use TRUE as interval, it's actually 0, use the default 5000ms better\n    this.options.interval = options.interval === true\n      ? carouselDefaults.interval\n      : options.interval;\n\n    // set first slide active if none\n    // istanbul ignore next @preserve - impossible to test\n    if (transitionItem) {\n      this.index = [...slides].indexOf(transitionItem);\n    } else if (activeIndex < 0) {\n      this.index = 0;\n      addClass(slides[0], activeClass);\n      if (this.indicators.length) activateCarouselIndicator(this, 0);\n    }\n\n    // istanbul ignore else @preserve\n    if (this.indicators.length) activateCarouselIndicator(this, this.index);\n\n    // attach event handlers\n    this._toggleEventListeners(true);\n\n    // start to cycle if interval is set\n    if (options.interval) this.cycle();\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return carouselComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return carouselDefaults;\n  }\n\n  /**\n   * Check if instance is paused.\n   */\n  get isPaused() {\n    return hasClass(this.element, pausedClass);\n  }\n\n  /**\n   * Check if instance is animating.\n   */\n  get isAnimating() {\n    return querySelector(\n      `.${carouselItem}-next,.${carouselItem}-prev`,\n      this.element,\n    ) !== null;\n  }\n\n  // CAROUSEL PUBLIC METHODS\n  // =======================\n  /** Slide automatically through items. */\n  cycle() {\n    const { element, options, isPaused, index } = this;\n\n    Timer.clear(element, carouselString);\n    if (isPaused) {\n      Timer.clear(element, pausedClass);\n      removeClass(element, pausedClass);\n    }\n\n    Timer.set(\n      element,\n      () => {\n        // it's very important to check self.element\n        // where instance might have been disposed\n        // istanbul ignore else @preserve\n        if (\n          this.element && !this.isPaused && !this.isTouch &&\n          isElementInScrollRange(element)\n        ) {\n          this.to(index + 1);\n        }\n      },\n      options.interval as number,\n      carouselString,\n    );\n  }\n\n  /** Pause the automatic cycle. */\n  pause() {\n    const { element, options } = this;\n    // istanbul ignore else @preserve\n    if (this.isPaused || !options.interval) return;\n\n    addClass(element, pausedClass);\n    Timer.set(\n      element,\n      () => {\n        /* ESLint is now happy */\n      },\n      1,\n      pausedClass,\n    );\n  }\n\n  /** Slide to the next item. */\n  next() {\n    // istanbul ignore else @preserve\n    if (!this.isAnimating) {\n      this.to(this.index + 1);\n    }\n  }\n\n  /** Slide to the previous item. */\n  prev() {\n    // istanbul ignore else @preserve\n    if (!this.isAnimating) {\n      this.to(this.index - 1);\n    }\n  }\n\n  /**\n   * Jump to the item with the `idx` index.\n   *\n   * @param idx the index of the item to jump to\n   */\n  to(idx: number) {\n    const { element, slides, options } = this;\n    const activeItem = getActiveIndex(this);\n    const RTL = isRTL(element);\n    let next = idx;\n\n    // when controled via methods, make sure to check again\n    // first return if we're on the same item #227\n    // `to()` must be SPAM protected by Timer\n    if (\n      this.isAnimating || activeItem === next ||\n      Timer.get(element, dataBsSlide)\n    ) return;\n\n    // determine transition direction\n    // istanbul ignore else @preserve\n    if (\n      activeItem < next || (activeItem === 0 && next === slides.length - 1)\n    ) {\n      this.direction = RTL ? \"right\" : \"left\"; // next\n    } else if (\n      activeItem > next || (activeItem === slides.length - 1 && next === 0)\n    ) {\n      this.direction = RTL ? \"left\" : \"right\"; // prev\n    }\n    const { direction } = this;\n\n    // find the right next index\n    if (next < 0) {\n      next = slides.length - 1;\n    } else if (next >= slides.length) {\n      next = 0;\n    }\n\n    // orientation, class name, eventProperties\n    const orientation = direction === \"left\" ? \"next\" : \"prev\";\n    const directionClass = direction === \"left\" ? \"start\" : \"end\";\n\n    const eventProperties = {\n      relatedTarget: slides[next],\n      from: activeItem,\n      to: next,\n      direction,\n    };\n\n    // update event properties\n    ObjectAssign(carouselSlideEvent, eventProperties);\n    ObjectAssign(carouselSlidEvent, eventProperties);\n\n    // discontinue when prevented\n    dispatchEvent(element, carouselSlideEvent);\n    if (carouselSlideEvent.defaultPrevented) return;\n\n    // update index\n    this.index = next;\n    activateCarouselIndicator(this, next);\n\n    if (\n      getElementTransitionDuration(slides[next]) &&\n      hasClass(element, \"slide\")\n    ) {\n      Timer.set(\n        element,\n        () => {\n          addClass(slides[next], `${carouselItem}-${orientation}`);\n          reflow(slides[next]);\n          addClass(slides[next], `${carouselItem}-${directionClass}`);\n          addClass(slides[activeItem], `${carouselItem}-${directionClass}`);\n\n          // the instance might get diposed mid-animation\n          emulateTransitionEnd(\n            slides[next],\n            () =>\n              this.slides && this.slides.length &&\n              carouselTransitionEndHandler(this),\n          );\n        },\n        0,\n        dataBsSlide,\n      );\n    } else {\n      addClass(slides[next], activeClass);\n      removeClass(slides[activeItem], activeClass);\n\n      Timer.set(\n        element,\n        () => {\n          Timer.clear(element, dataBsSlide);\n          // check for element, might have been disposed\n          // istanbul ignore else @preserve\n          if (element && options.interval && !this.isPaused) {\n            this.cycle();\n          }\n\n          dispatchEvent(element, carouselSlidEvent);\n        },\n        0,\n        dataBsSlide,\n      );\n    }\n  }\n\n  /**\n   * Toggles all event listeners for the `Carousel` instance.\n   *\n   * @param add when `TRUE` event listeners are added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const { element, options, slides, controls, indicators } = this;\n    const { touch, pause, interval, keyboard } = options;\n    const action = add ? addListener : removeListener;\n\n    if (pause && interval) {\n      action(element, mouseenterEvent, carouselPauseHandler);\n      action(element, mouseleaveEvent, carouselResumeHandler);\n    }\n\n    if (touch && slides.length > 2) {\n      action(\n        element,\n        pointerdownEvent,\n        carouselPointerDownHandler,\n        passiveHandler,\n      );\n      action(element, touchstartEvent, carouselDragHandler, { passive: false });\n      action(element, dragstartEvent, carouselDragHandler, { passive: false });\n    }\n\n    // istanbul ignore else @preserve\n    if (controls.length) {\n      controls.forEach((arrow) => {\n        action(arrow, mouseclickEvent, carouselControlsHandler);\n      });\n    }\n\n    // istanbul ignore else @preserve\n    if (indicators.length) {\n      indicators.forEach((indicator) => {\n        action(indicator, mouseclickEvent, carouselIndicatorHandler);\n      });\n    }\n\n    if (keyboard) {\n      action(getDocument(element), keydownEvent, carouselKeyHandler);\n    }\n  };\n\n  /** Remove `Carousel` component from target. */\n  dispose() {\n    const { isAnimating } = this;\n\n    const clone = {\n      ...this,\n      isAnimating,\n    };\n    this._toggleEventListeners();\n    super.dispose();\n\n    // istanbul ignore next @preserve - impossible to test in playwright\n    if (clone.isAnimating) {\n      emulateTransitionEnd(clone.slides[clone.index], () => {\n        carouselTransitionEndHandler(clone);\n      });\n    }\n  }\n}\n","/**\n * Global namespace for most components `collapsing` class.\n * As used by `Collapse` / `Tab`.\n */\nconst collapsingClass = \"collapsing\";\nexport default collapsingClass;\n","/** @type {string} */\nconst collapseString = \"collapse\";\nexport default collapseString;\n","/** @type {string} */\nconst collapseComponent = \"Collapse\";\nexport default collapseComponent;\n","/* Native JavaScript for Bootstrap 5 | Collapse\n----------------------------------------------- */\nimport {\n  addClass,\n  ariaExpanded,\n  closest,\n  createCustomEvent,\n  dispatchEvent,\n  emulateTransitionEnd,\n  getDocument,\n  getInstance,\n  hasClass,\n  isHTMLElement,\n  isString,\n  mouseclickEvent,\n  MouseEvent,\n  noop,\n  querySelector,\n  querySelectorAll,\n  reflow,\n  removeClass,\n  setAttribute,\n  setElementStyle,\n  Timer,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport collapsingClass from \"~/strings/collapsingClass\";\nimport showClass from \"~/strings/showClass\";\nimport collapseString from \"~/strings/collapseString\";\nimport collapseComponent from \"~/strings/collapseComponent\";\nimport getTargetElement from \"~/util/getTargetElement\";\nimport BaseComponent from \"./base-component\";\nimport type { CollapseEvent, CollapseOptions } from \"~/interface/collapse\";\nimport isDisabled from \"~/util/isDisabled\";\n\n// COLLAPSE GC\n// ===========\nconst collapseSelector = `.${collapseString}`;\nconst collapseToggleSelector = `[${dataBsToggle}=\"${collapseString}\"]`;\nconst collapseDefaults = { parent: null };\n\n/**\n * Static method which returns an existing `Collapse` instance associated\n * to a target `Element`.\n */\nconst getCollapseInstance = (element: Element) =>\n  getInstance<Collapse>(element, collapseComponent);\n\n/**\n * A `Collapse` initialization callback.\n */\nconst collapseInitCallback = (element: Element) => new Collapse(element);\n\n// COLLAPSE CUSTOM EVENTS\n// ======================\nconst showCollapseEvent = createCustomEvent<\n  Record<string, never>,\n  CollapseEvent\n>(`show.bs.${collapseString}`);\nconst shownCollapseEvent = createCustomEvent<\n  Record<string, never>,\n  CollapseEvent\n>(`shown.bs.${collapseString}`);\nconst hideCollapseEvent = createCustomEvent<\n  Record<string, never>,\n  CollapseEvent\n>(`hide.bs.${collapseString}`);\nconst hiddenCollapseEvent = createCustomEvent<\n  Record<string, never>,\n  CollapseEvent\n>(`hidden.bs.${collapseString}`);\n\n// COLLAPSE PRIVATE METHODS\n// ========================\n/**\n * Expand the designated `Element`.\n *\n * @param self the `Collapse` instance\n */\nconst expandCollapse = (self: Collapse) => {\n  const { element, parent, triggers } = self;\n\n  dispatchEvent(element, showCollapseEvent);\n  if (!showCollapseEvent.defaultPrevented) {\n    Timer.set(element, noop, 17);\n    if (parent) Timer.set(parent, noop, 17);\n\n    addClass(element, collapsingClass);\n    removeClass(element, collapseString);\n\n    setElementStyle(element, { height: `${element.scrollHeight}px` });\n\n    emulateTransitionEnd(element, () => {\n      Timer.clear(element);\n      if (parent) Timer.clear(parent);\n\n      triggers.forEach((btn) => setAttribute(btn, ariaExpanded, \"true\"));\n\n      removeClass(element, collapsingClass);\n      addClass(element, collapseString);\n      addClass(element, showClass);\n\n      setElementStyle(element, { height: \"\" });\n\n      dispatchEvent(element, shownCollapseEvent);\n    });\n  }\n};\n\n/**\n * Collapse the designated `Element`.\n *\n * @param self the `Collapse` instance\n */\nconst collapseContent = (self: Collapse) => {\n  const { element, parent, triggers } = self;\n\n  dispatchEvent(element, hideCollapseEvent);\n\n  if (!hideCollapseEvent.defaultPrevented) {\n    Timer.set(element, noop, 17);\n    if (parent) Timer.set(parent, noop, 17);\n\n    setElementStyle(element, { height: `${element.scrollHeight}px` });\n\n    removeClass(element, collapseString);\n    removeClass(element, showClass);\n    addClass(element, collapsingClass);\n\n    reflow(element as HTMLElement);\n    setElementStyle(element, { height: \"0px\" });\n\n    emulateTransitionEnd(element, () => {\n      Timer.clear(element);\n      // istanbul ignore else @preserve\n      if (parent) Timer.clear(parent);\n\n      triggers.forEach((btn) => setAttribute(btn, ariaExpanded, \"false\"));\n\n      removeClass(element, collapsingClass);\n      addClass(element, collapseString);\n\n      setElementStyle(element, { height: \"\" });\n\n      dispatchEvent(element, hiddenCollapseEvent);\n    });\n  }\n};\n\n// COLLAPSE EVENT HANDLER\n// ======================\n/**\n * Handles the `click` event for the `Collapse` instance.\n *\n * @param e the `Event` object\n */\nconst collapseClickHandler = (e: MouseEvent<HTMLElement>) => {\n  const { target } = e; // our target is `HTMLElement`\n  const trigger = target &&\n    closest(target, collapseToggleSelector);\n  const element = trigger && getTargetElement(trigger);\n  const self = element && getCollapseInstance(element);\n\n  // istanbul ignore if @preserve\n  if (trigger && isDisabled(trigger)) return;\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  self.toggle();\n  // event target is anchor link #398\n  if (trigger?.tagName === \"A\") e.preventDefault();\n};\n\n// COLLAPSE DEFINITION\n// ===================\n\n/** Returns a new `Colapse` instance. */\nexport default class Collapse extends BaseComponent {\n  static selector = collapseSelector;\n  static init = collapseInitCallback;\n  static getInstance = getCollapseInstance;\n  declare element: HTMLElement;\n  declare options: CollapseOptions;\n  declare parent: Element | null;\n  declare triggers: Element[];\n\n  /**\n   * @param target and `Element` that matches the selector\n   * @param config instance options\n   */\n  constructor(target: Element | string, config?: Partial<CollapseOptions>) {\n    super(target, config);\n\n    // initialization element\n    const { element, options } = this;\n    const doc = getDocument(element);\n\n    // set triggering elements\n    this.triggers = [...querySelectorAll(collapseToggleSelector, doc)].filter(\n      (btn) => getTargetElement(btn) === element,\n    );\n\n    // set parent accordion\n    this.parent = isHTMLElement(options.parent)\n      ? options.parent\n      : isString(options.parent)\n      ? getTargetElement(element) || querySelector(options.parent, doc)\n      : null;\n\n    // add event listeners\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return collapseComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return collapseDefaults;\n  }\n\n  // COLLAPSE PUBLIC METHODS\n  // =======================\n  /** Hides the collapse. */\n  hide() {\n    const { triggers, element } = this;\n    // istanbul ignore else @preserve\n    if (!Timer.get(element)) {\n      collapseContent(this);\n      // istanbul ignore else @preserve\n      if (triggers.length) {\n        triggers.forEach((btn) => addClass(btn, `${collapseString}d`));\n      }\n    }\n  }\n\n  /** Shows the collapse. */\n  show() {\n    const { element, parent, triggers } = this;\n    let activeCollapse;\n    let activeCollapseInstance;\n\n    if (parent) {\n      activeCollapse = [\n        ...querySelectorAll(`.${collapseString}.${showClass}`, parent),\n      ].find((i) => getCollapseInstance(i));\n      activeCollapseInstance = activeCollapse &&\n        getCollapseInstance(activeCollapse);\n    }\n\n    if ((!parent || !Timer.get(parent)) && !Timer.get(element)) {\n      if (activeCollapseInstance && activeCollapse !== element) {\n        collapseContent(activeCollapseInstance);\n        activeCollapseInstance.triggers.forEach((btn) => {\n          addClass(btn, `${collapseString}d`);\n        });\n      }\n\n      expandCollapse(this);\n      // istanbul ignore else @preserve\n      if (triggers.length) {\n        triggers.forEach((btn) => removeClass(btn, `${collapseString}d`));\n      }\n    }\n  }\n\n  /** Toggles the visibility of the collapse. */\n  toggle() {\n    if (!hasClass(this.element, showClass)) this.show();\n    else this.hide();\n  }\n\n  /**\n   * Toggles on/off the event listener(s) of the `Collapse` instance.\n   *\n   * @param add when `true`, the event listener is added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    const { triggers } = this;\n\n    // istanbul ignore else @preserve\n    if (triggers.length) {\n      triggers.forEach((btn) => {\n        action(btn, mouseclickEvent, collapseClickHandler);\n      });\n    }\n  };\n\n  /** Remove the `Collapse` component from the target `Element`. */\n  dispose() {\n    this._toggleEventListeners();\n\n    super.dispose();\n  }\n}\n","import { isElement, isFunction } from \"@thednp/shorty\";\n\n//#region package.json\nvar version = \"1.1.0\";\n\n//#endregion\n//#region src/index.ts\nconst callbackModes = [\n\t\"all\",\n\t\"intersecting\",\n\t\"update\"\n];\nconst errorString = \"PositionObserver Error\";\n/**\n* The PositionObserver class is a utility class that observes the position\n* of DOM elements and triggers a callback when their position changes.\n*/\nvar PositionObserver = class {\n\tentries;\n\tstatic version = version;\n\t/** `PositionObserver.tick` */\n\t_t;\n\t/** `PositionObserver.root` */\n\t_r;\n\t/** `PositionObserver.callbackMode` */\n\t_cm;\n\t/** `PositionObserver.root.clientWidth` */\n\t_w;\n\t/** `PositionObserver.root.clientHeight` */\n\t_h;\n\t/** `IntersectionObserver.options.rootMargin` */\n\t_rm;\n\t/** `IntersectionObserver.options.threshold` */\n\t_th;\n\t/** `PositionObserver.callback` */\n\t_c;\n\t/**\n\t* The constructor takes two arguments, a `callback`, which is called\n\t* whenever the position of an observed element changes and an `options` object.\n\t* The callback function takes an array of `PositionObserverEntry` objects\n\t* as its first argument and the PositionObserver instance as its second argument.\n\t*\n\t* @param callback the callback that applies to all targets of this observer\n\t* @param options the options of this observer\n\t*/\n\tconstructor(callback, options) {\n\t\tif (!isFunction(callback)) throw new Error(`${errorString}: ${callback} is not a function.`);\n\t\tthis.entries = /* @__PURE__ */ new Map();\n\t\tthis._c = callback;\n\t\tthis._t = 0;\n\t\tconst root = isElement(options?.root) ? options.root : document?.documentElement;\n\t\tthis._r = root;\n\t\tthis._rm = options?.rootMargin;\n\t\tthis._th = options?.threshold;\n\t\t/* istanbul ignore next @preserve */\n\t\tthis._cm = callbackModes.indexOf(options?.callbackMode || \"intersecting\");\n\t\tthis._w = root.clientWidth;\n\t\tthis._h = root.clientHeight;\n\t}\n\t/**\n\t* Start observing the position of the specified element.\n\t* If the element is not currently attached to the DOM,\n\t* it will NOT be added to the entries.\n\t*\n\t* @param target an `Element` target\n\t*/\n\tobserve = (target) => {\n\t\tif (!isElement(target)) throw new Error(`${errorString}: ${target} is not an instance of Element.`);\n\t\t/* istanbul ignore else @preserve - a guard must be set */\n\t\tif (!this._r.contains(target)) return;\n\t\tthis._n(target).then((ioEntry) => {\n\t\t\t/* istanbul ignore else @preserve - don't allow duplicate entries */\n\t\t\tif (ioEntry.boundingClientRect && !this.getEntry(target)) this.entries.set(target, ioEntry);\n\t\t\t/* istanbul ignore else @preserve */\n\t\t\tif (!this._t) this._t = requestAnimationFrame(this._rc);\n\t\t});\n\t};\n\t/**\n\t* Stop observing the position of the specified element.\n\t*\n\t* @param target an `Element` target\n\t*/\n\tunobserve = (target) => {\n\t\t/* istanbul ignore else @preserve */\n\t\tif (this.entries.has(target)) this.entries.delete(target);\n\t};\n\t/**\n\t* Private method responsible for all the heavy duty,\n\t* the observer's runtime.\n\t* `PositionObserver.runCallback`\n\t*/\n\t_rc = () => {\n\t\t/* istanbul ignore if @preserve - a guard must be set */\n\t\tif (!this.entries.size) {\n\t\t\tthis._t = 0;\n\t\t\treturn;\n\t\t}\n\t\tconst { clientWidth, clientHeight } = this._r;\n\t\tconst queue = new Promise((resolve) => {\n\t\t\tconst updates = [];\n\t\t\tthis.entries.forEach(({ target, boundingClientRect: oldBoundingBox, isIntersecting: oldIsIntersecting }) => {\n\t\t\t\t/* istanbul ignore if @preserve - a guard must be set when target has been removed */\n\t\t\t\tif (!this._r.contains(target)) return;\n\t\t\t\tthis._n(target).then((ioEntry) => {\n\t\t\t\t\t/* istanbul ignore if @preserve - make sure to only count visible entries */\n\t\t\t\t\tif (!ioEntry.isIntersecting) {\n\t\t\t\t\t\tif (this._cm === 1) return;\n\t\t\t\t\t\telse if (this._cm === 2) {\n\t\t\t\t\t\t\tif (oldIsIntersecting) {\n\t\t\t\t\t\t\t\tthis.entries.set(target, ioEntry);\n\t\t\t\t\t\t\t\tupdates.push(ioEntry);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst { left, top } = ioEntry.boundingClientRect;\n\t\t\t\t\t/* istanbul ignore else @preserve - only schedule entries that changed position */\n\t\t\t\t\tif (oldBoundingBox.top !== top || oldBoundingBox.left !== left || this._w !== clientWidth || this._h !== clientHeight) {\n\t\t\t\t\t\tthis.entries.set(target, ioEntry);\n\t\t\t\t\t\tupdates.push(ioEntry);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis._w = clientWidth;\n\t\t\tthis._h = clientHeight;\n\t\t\tresolve(updates);\n\t\t});\n\t\tthis._t = requestAnimationFrame(async () => {\n\t\t\tconst updates = await queue;\n\t\t\t/* istanbul ignore else @preserve */\n\t\t\tif (updates.length) this._c(updates, this);\n\t\t\tthis._rc();\n\t\t});\n\t};\n\t/**\n\t* Check intersection status and resolve it\n\t* right away.\n\t*\n\t* `PositionObserver.newEntryForTarget`\n\t*\n\t* @param target an `Element` target\n\t*/\n\t_n = (target) => {\n\t\treturn new Promise((resolve) => {\n\t\t\tconst intersectionObserver = new IntersectionObserver(([ioEntry], ob) => {\n\t\t\t\tob.disconnect();\n\t\t\t\tresolve(ioEntry);\n\t\t\t}, {\n\t\t\t\tthreshold: this._th,\n\t\t\t\trootMargin: this._rm\n\t\t\t});\n\t\t\tintersectionObserver.observe(target);\n\t\t});\n\t};\n\t/**\n\t* Find the entry for a given target.\n\t*\n\t* @param target an `HTMLElement` target\n\t*/\n\tgetEntry = (target) => this.entries.get(target);\n\t/**\n\t* Immediately stop observing all elements.\n\t*/\n\tdisconnect = () => {\n\t\tcancelAnimationFrame(this._t);\n\t\tthis.entries.clear();\n\t\tthis._t = 0;\n\t};\n};\n\n//#endregion\nexport { PositionObserver as default };\n//# sourceMappingURL=index.mjs.map","/**\n * Global namespace for `Dropdown` types / classes.\n */\nconst dropdownMenuClasses = [\"dropdown\", \"dropup\", \"dropstart\", \"dropend\"];\nexport default dropdownMenuClasses;\n","/** @type {string} */\nconst dropdownComponent = \"Dropdown\";\nexport default dropdownComponent;\n","/**\n * Global namespace for `.dropdown-menu`.\n */\nconst dropdownMenuClass = \"dropdown-menu\";\nexport default dropdownMenuClass;\n","import { closest, getAttribute, hasAttribute } from \"@thednp/shorty\";\n\n/**\n * Checks if an *event.target* or its parent has an `href=\"#\"` value.\n * We need to prevent jumping around onclick, don't we?\n *\n * @param element the target element\n * @returns the query result\n */\nconst isEmptyAnchor = (element: HTMLElement) => {\n  // `EventTarget` must be `HTMLElement`\n  const parentAnchor = closest(element, \"A\");\n  return (\n    (element.tagName === \"A\" &&\n      // anchor href starts with #\n      hasAttribute(element, \"href\") &&\n      (getAttribute(element, \"href\"))?.slice(-1) === \"#\") ||\n    // OR a child of an anchor with href starts with #\n    (parentAnchor &&\n      hasAttribute(parentAnchor, \"href\") &&\n      (getAttribute(parentAnchor, \"href\"))?.slice(-1) === \"#\")\n  );\n};\nexport default isEmptyAnchor;\n","/* Native JavaScript for Bootstrap 5 | Dropdown\n----------------------------------------------- */\nimport {\n  addClass,\n  ariaExpanded,\n  closest,\n  createCustomEvent,\n  CSS4Declaration,\n  dispatchEvent,\n  focus,\n  focusEvent,\n  getAttribute,\n  getBoundingClientRect,\n  getDocument,\n  getDocumentElement,\n  getElementsByClassName,\n  getElementStyle,\n  getInstance,\n  hasClass,\n  isHTMLElement,\n  isRTL,\n  keyArrowDown,\n  keyArrowUp,\n  KeyboardEvent,\n  keydownEvent,\n  keyEscape,\n  keyupEvent,\n  mouseclickEvent,\n  mousedownEvent,\n  MouseEvent,\n  ObjectAssign,\n  removeClass,\n  setAttribute,\n  setElementStyle,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\nimport PositionObserver from \"@thednp/position-observer\";\n\nimport showClass from \"~/strings/showClass\";\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport dropdownClasses from \"~/strings/dropdownClasses\";\nimport dropdownComponent from \"~/strings/dropdownComponent\";\nimport dropdownMenuClass from \"~/strings/dropdownMenuClass\";\nimport isEmptyAnchor from \"~/util/isEmptyAnchor\";\nimport isDisabled from \"~/util/isDisabled\";\nimport BaseComponent from \"./base-component\";\nimport type { DropdownEvent, DropdownOptions } from \"~/interface/dropdown\";\n\n// DROPDOWN PRIVATE GC\n// ===================\nconst [dropdownString, dropupString, dropstartString, dropendString] =\n  dropdownClasses;\nconst dropdownSelector = `[${dataBsToggle}=\"${dropdownString}\"]`;\n\n/**\n * Static method which returns an existing `Dropdown` instance associated\n * to a target `Element`.\n */\nconst getDropdownInstance = (element: Element) =>\n  getInstance<Dropdown>(element, dropdownComponent);\n\n/**\n * A `Dropdown` initialization callback.\n */\nconst dropdownInitCallback = (element: Element) => new Dropdown(element);\n\n// DROPDOWN PRIVATE GC\n// ===================\n// const dropdownMenuStartClass = `${dropdownMenuClass}-start`;\nconst dropdownMenuEndClass = `${dropdownMenuClass}-end`;\nconst verticalClass = [dropdownString, dropupString];\nconst horizontalClass = [dropstartString, dropendString];\nconst menuFocusTags = [\"A\", \"BUTTON\"];\n\nconst dropdownDefaults = {\n  offset: 5, // [number] 5(px)\n  display: \"dynamic\", // [dynamic|static]\n};\n\ntype DropdownEventProps = { relatedTarget: Element & EventTarget };\n\n// DROPDOWN CUSTOM EVENTS\n// ======================\nconst showDropdownEvent = createCustomEvent<DropdownEventProps, DropdownEvent>(\n  `show.bs.${dropdownString}`,\n);\nconst shownDropdownEvent = createCustomEvent<DropdownEventProps, DropdownEvent>(\n  `shown.bs.${dropdownString}`,\n);\nconst hideDropdownEvent = createCustomEvent<DropdownEventProps, DropdownEvent>(\n  `hide.bs.${dropdownString}`,\n);\nconst hiddenDropdownEvent = createCustomEvent<\n  DropdownEventProps,\n  DropdownEvent\n>(`hidden.bs.${dropdownString}`);\nconst updatedDropdownEvent = createCustomEvent<\n  DropdownEventProps,\n  DropdownEvent\n>(`updated.bs.${dropdownString}`);\n\n// DROPDOWN PRIVATE METHODS\n// ========================\n/**\n * Apply specific style or class names to a `.dropdown-menu` to automatically\n * accomodate the layout and the page scroll.\n *\n * @param self the `Dropdown` instance\n */\nconst styleDropdown = (self: Dropdown) => {\n  const { element, menu, parentElement, options } = self;\n  const { offset } = options;\n  // don't apply any style on mobile view\n  // istanbul ignore if @preserve: this test requires a navbar\n  if (getElementStyle(menu, \"position\") === \"static\") return;\n\n  const RTL = isRTL(element);\n  const menuEnd = hasClass(menu, dropdownMenuEndClass);\n\n  // reset menu offset and position\n  const resetProps = [\"margin\", \"top\", \"bottom\", \"left\", \"right\"];\n  resetProps.forEach((p) => {\n    const style: { [key: string]: string } = {};\n    style[p] = \"\";\n    setElementStyle(menu, style);\n  });\n\n  // set initial position class\n  // take into account .btn-group parent as .dropdown\n  // this requires navbar/btn-group/input-group\n  let positionClass = dropdownClasses.find((c) => hasClass(parentElement, c)) ||\n    /* istanbul ignore next @preserve: fallback position */\n    dropdownString;\n\n  const dropdownMargin: { [key: string]: number[] } = {\n    dropdown: [offset, 0, 0],\n    dropup: [0, 0, offset],\n    dropstart: RTL ? [-1, 0, 0, offset] : [-1, offset, 0],\n    dropend: RTL ? [-1, offset, 0] : [-1, 0, 0, offset],\n  };\n\n  const dropdownPosition: { [key: string]: Partial<CSS4Declaration> } = {\n    dropdown: { top: \"100%\" },\n    dropup: { top: \"auto\", bottom: \"100%\" },\n    dropstart: RTL\n      ? { left: \"100%\", right: \"auto\" }\n      : { left: \"auto\", right: \"100%\" },\n    dropend: RTL\n      ? { left: \"auto\", right: \"100%\" }\n      : { left: \"100%\", right: \"auto\" },\n    menuStart: RTL\n      ? { right: \"0\", left: \"auto\" }\n      : { right: \"auto\", left: \"0\" },\n    menuEnd: RTL ? { right: \"auto\", left: \"0\" } : { right: \"0\", left: \"auto\" },\n  };\n\n  const { offsetWidth: menuWidth, offsetHeight: menuHeight } = menu;\n\n  const { clientWidth, clientHeight } = getDocumentElement(element);\n  const {\n    left: targetLeft,\n    top: targetTop,\n    width: targetWidth,\n    height: targetHeight,\n  } = getBoundingClientRect(element);\n\n  // dropstart | dropend\n  const leftFullExceed = targetLeft - menuWidth - offset < 0;\n  // dropend\n  const rightFullExceed =\n    targetLeft + menuWidth + targetWidth + offset >= clientWidth;\n  // dropstart | dropend\n  const bottomExceed = targetTop + menuHeight + offset >= clientHeight;\n  // dropdown\n  const bottomFullExceed =\n    targetTop + menuHeight + targetHeight + offset >= clientHeight;\n  // dropup\n  const topExceed = targetTop - menuHeight - offset < 0;\n  // dropdown / dropup\n  const leftExceed = ((!RTL && menuEnd) || (RTL && !menuEnd)) &&\n    targetLeft + targetWidth - menuWidth < 0;\n  const rightExceed = ((RTL && menuEnd) || (!RTL && !menuEnd)) &&\n    targetLeft + menuWidth >= clientWidth;\n\n  // recompute position\n  // handle RTL as well\n  if (\n    horizontalClass.includes(positionClass) && leftFullExceed &&\n    rightFullExceed\n  ) {\n    positionClass = dropdownString;\n  }\n  if (\n    positionClass === dropstartString &&\n    (!RTL ? leftFullExceed : rightFullExceed)\n  ) {\n    positionClass = dropendString;\n  }\n  if (\n    positionClass === dropendString &&\n    (RTL ? leftFullExceed : rightFullExceed)\n  ) {\n    positionClass = dropstartString;\n  }\n  if (positionClass === dropupString && topExceed && !bottomFullExceed) {\n    positionClass = dropdownString;\n  }\n  if (positionClass === dropdownString && bottomFullExceed && !topExceed) {\n    positionClass = dropupString;\n  }\n\n  // override position for horizontal classes\n  if (horizontalClass.includes(positionClass) && bottomExceed) {\n    ObjectAssign(dropdownPosition[positionClass], {\n      top: \"auto\",\n      bottom: 0,\n    });\n  }\n\n  // override position for vertical classes\n  if (verticalClass.includes(positionClass) && (leftExceed || rightExceed)) {\n    // don't realign when menu is wider than window\n    // in both RTL and non-RTL readability is KING\n    let posAjust:\n      | { left: \"auto\" | number; right: \"auto\" | number }\n      | undefined = { left: \"auto\", right: \"auto\" };\n    /* istanbul ignore else @preserve */\n    if (!leftExceed && rightExceed && !RTL) {\n      posAjust = { left: \"auto\", right: 0 };\n    }\n    /* istanbul ignore else @preserve */\n    if (leftExceed && !rightExceed && RTL) {\n      posAjust = { left: 0, right: \"auto\" };\n    }\n    /* istanbul ignore else @preserve */\n    if (posAjust) {\n      ObjectAssign(dropdownPosition[positionClass], posAjust);\n    }\n  }\n\n  const margins: number[] = dropdownMargin[positionClass];\n  setElementStyle(menu, {\n    ...dropdownPosition[positionClass],\n    margin: `${margins.map((x) => (x ? `${x}px` : x)).join(\" \")}`,\n  });\n\n  // override dropdown-menu-start | dropdown-menu-end\n  if (verticalClass.includes(positionClass) && menuEnd) {\n    // istanbul ignore else @preserve\n    if (menuEnd) {\n      const endAdjust = (!RTL && leftExceed) || (RTL && rightExceed)\n        ? \"menuStart\"\n        : /* istanbul ignore next @preserve */ \"menuEnd\";\n      setElementStyle(menu, dropdownPosition[endAdjust]);\n    }\n  }\n  // trigger updated event\n  dispatchEvent(parentElement, updatedDropdownEvent);\n};\n\n/**\n * Returns an `Array` of focusable items in the given dropdown-menu.\n *\n * @param menu the target menu\n * @returns all children of the dropdown menu\n */\nconst getMenuItems = (menu: HTMLElement) => {\n  return Array.from(menu.children)\n    .map((c) => {\n      if (c && menuFocusTags.includes(c.tagName)) return c as HTMLElement;\n      const { firstElementChild } = c;\n      if (\n        firstElementChild && menuFocusTags.includes(firstElementChild.tagName)\n      ) {\n        return firstElementChild as HTMLElement;\n      }\n      return null;\n    })\n    .filter((c) => c);\n};\n\n/**\n * Toggles on/off the listeners for the events that close the dropdown\n * as well as event that request a new position for the dropdown.\n *\n * @param {Dropdown} self the `Dropdown` instance\n */\nconst toggleDropdownDismiss = (self: Dropdown) => {\n  const { element, options, menu } = self;\n  const action = self.open ? addListener : removeListener;\n  const doc = getDocument(element);\n\n  action(doc, mouseclickEvent, dropdownDismissHandler);\n  action(doc, focusEvent, dropdownDismissHandler);\n  action(doc, keydownEvent, dropdownPreventScroll);\n  action(doc, keyupEvent, dropdownKeyHandler);\n\n  // istanbul ignore else @preserve\n  if (options.display === \"dynamic\") {\n    if (self.open) self._observer.observe(menu);\n    else self._observer.disconnect();\n  }\n};\n\n/**\n * Returns the currently open `.dropdown` element.\n *\n * @param element target\n * @returns the query result\n */\nconst getCurrentOpenDropdown = (\n  element: Element,\n): Element | undefined => {\n  const currentParent = [...dropdownClasses, \"btn-group\", \"input-group\"]\n    .map((c) =>\n      getElementsByClassName(`${c} ${showClass}`, getDocument(element))\n    )\n    .find((x) => x.length);\n\n  if (currentParent && currentParent.length) {\n    return [...(currentParent[0].children as HTMLCollectionOf<Element>)]\n      .find((x) =>\n        dropdownClasses.some((c) => c === getAttribute(x, dataBsToggle))\n      );\n  }\n  return undefined;\n};\n\n// DROPDOWN EVENT HANDLERS\n// =======================\n/**\n * Handles the `click` event for the `Dropdown` instance.\n *\n * @param e event object\n */\nconst dropdownDismissHandler = (e: MouseEvent) => {\n  const { target, type } = e;\n\n  // istanbul ignore if @preserve\n  if (!isHTMLElement(target)) return;\n\n  // some weird FF bug #409\n  const element = getCurrentOpenDropdown(target);\n  const self = element && getDropdownInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  const { parentElement, menu } = self;\n\n  const isForm = parentElement &&\n    parentElement.contains(target) &&\n    (target.tagName === \"form\" || closest(target, \"form\") !== null);\n\n  if (\n    [mouseclickEvent, mousedownEvent].includes(type) &&\n    isEmptyAnchor(target)\n  ) {\n    e.preventDefault();\n  }\n\n  // istanbul ignore else @preserve\n  if (\n    !isForm && type !== focusEvent && target !== element && target !== menu\n  ) {\n    self.hide();\n  }\n};\n\n/**\n * Handles `click` event listener for `Dropdown`.\n *\n * @param e event object\n */\nfunction dropdownClickHandler(this: HTMLElement, e: MouseEvent<HTMLElement>) {\n  const self = getDropdownInstance(this);\n\n  // istanbul ignore if @preserve\n  if (isDisabled(this)) return;\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  e.stopPropagation();\n  self.toggle();\n  // istanbul ignore else @preserve\n  if (isEmptyAnchor(this)) e.preventDefault();\n}\n\n/**\n * Prevents scroll when dropdown-menu is visible.\n *\n * @param e event object\n */\nconst dropdownPreventScroll = (e: KeyboardEvent) => {\n  // istanbul ignore else @preserve\n  if ([keyArrowDown, keyArrowUp].includes(e.code)) e.preventDefault();\n};\n\n/**\n * Handles keyboard `keydown` events for `Dropdown`.\n *\n * @param e keyboard key\n */\nfunction dropdownKeyHandler(this: Element, e: KeyboardEvent) {\n  const { code } = e;\n  const element = getCurrentOpenDropdown(this) as HTMLElement;\n  /* istanbul ignore if @preserve */\n  if (!element) return;\n\n  const self = getDropdownInstance(element);\n  const { activeElement } = getDocument(element) as Document & {\n    activeElement: HTMLElement;\n  };\n\n  // istanbul ignore if @preserve\n  if (!self || !activeElement) return;\n\n  const { menu, open } = self;\n  const menuItems = getMenuItems(menu);\n\n  // arrow up & down\n  if (\n    menuItems && menuItems.length && [keyArrowDown, keyArrowUp].includes(code)\n  ) {\n    let idx = menuItems.indexOf(activeElement);\n    // istanbul ignore else @preserve\n    if (activeElement === element) {\n      idx = 0;\n    } else if (code === keyArrowUp) {\n      idx = idx > 1 ? idx - 1 : 0;\n    } else if (code === keyArrowDown) {\n      idx = idx < menuItems.length - 1 ? idx + 1 : idx;\n    }\n    // istanbul ignore else @preserve\n    if (menuItems[idx]) focus(menuItems[idx] as HTMLElement);\n  }\n\n  if (keyEscape === code && open) {\n    self.toggle();\n    focus(element);\n  }\n}\n\n// DROPDOWN DEFINITION\n// ===================\n/** Returns a new Dropdown instance. */\nexport default class Dropdown extends BaseComponent {\n  static selector = dropdownSelector;\n  static init = dropdownInitCallback;\n  static getInstance = getDropdownInstance;\n  declare element: HTMLElement;\n  declare options: DropdownOptions;\n  declare open: boolean;\n  declare parentElement: HTMLElement;\n  declare menu: HTMLElement;\n  declare _observer: PositionObserver;\n\n  /**\n   * @param target Element or string selector\n   * @param config the instance options\n   */\n  constructor(target: Element | string, config?: Partial<DropdownOptions>) {\n    super(target, config);\n\n    // initialization element\n    const { parentElement } = this.element;\n    const [menu] = getElementsByClassName<HTMLElement>(\n      dropdownMenuClass,\n      parentElement as ParentNode,\n    );\n\n    // invalidate when dropdown-menu is missing\n    // istanbul ignore if @preserve\n    if (!menu) return;\n\n    // set targets\n    this.parentElement = parentElement as HTMLElement;\n    this.menu = menu;\n    this._observer = new PositionObserver(\n      () => styleDropdown(this),\n    );\n\n    // add event listener\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return dropdownComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return dropdownDefaults;\n  }\n\n  // DROPDOWN PUBLIC METHODS\n  // =======================\n  /** Shows/hides the dropdown menu to the user. */\n  toggle() {\n    if (this.open) this.hide();\n    else this.show();\n  }\n\n  /** Shows the dropdown menu to the user. */\n  show() {\n    const { element, open, menu, parentElement } = this;\n\n    // istanbul ignore if @preserve\n    if (open) return;\n    const currentElement = getCurrentOpenDropdown(element);\n    const currentInstance = currentElement &&\n      getDropdownInstance(currentElement);\n    if (currentInstance) currentInstance.hide();\n\n    // dispatch event\n    [showDropdownEvent, shownDropdownEvent, updatedDropdownEvent].forEach(\n      (e) => {\n        e.relatedTarget = element;\n      },\n    );\n\n    dispatchEvent(parentElement, showDropdownEvent);\n    // istanbul ignore if @preserve\n    if (showDropdownEvent.defaultPrevented) return;\n\n    addClass(menu, showClass);\n    addClass(parentElement, showClass);\n    setAttribute(element, ariaExpanded, \"true\");\n\n    // change menu position\n    styleDropdown(this);\n\n    this.open = !open;\n\n    focus(element); // focus the element\n    toggleDropdownDismiss(this);\n    dispatchEvent(parentElement, shownDropdownEvent);\n  }\n\n  /** Hides the dropdown menu from the user. */\n  hide() {\n    const { element, open, menu, parentElement } = this;\n\n    // istanbul ignore if @preserve\n    if (!open) return;\n\n    [hideDropdownEvent, hiddenDropdownEvent].forEach((e) => {\n      e.relatedTarget = element as HTMLElement;\n    });\n\n    dispatchEvent(parentElement, hideDropdownEvent);\n    // istanbul ignore if @preserve\n    if (hideDropdownEvent.defaultPrevented) return;\n\n    removeClass(menu, showClass);\n    removeClass(parentElement, showClass);\n    setAttribute(element, ariaExpanded, \"false\");\n\n    this.open = !open;\n    // only re-attach handler if the instance is not disposed\n    toggleDropdownDismiss(this);\n    dispatchEvent(parentElement, hiddenDropdownEvent);\n  }\n\n  /**\n   * Toggles on/off the `click` event listener of the `Dropdown`.\n   *\n   * @param add when `true`, it will add the event listener\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    action(this.element, mouseclickEvent, dropdownClickHandler);\n  };\n\n  /** Removes the `Dropdown` component from the target element. */\n  dispose() {\n    if (this.open) this.hide();\n\n    this._toggleEventListeners();\n    super.dispose();\n  }\n}\n","/** @type {string} */\nconst modalString = \"modal\";\nexport default modalString;\n","/** @type {string} */\nconst modalComponent = \"Modal\";\nexport default modalComponent;\n","/** @type {string} */\nconst offcanvasComponent = \"Offcanvas\";\nexport default offcanvasComponent;\n","/**\n * Global namespace for components `fixed-top` class.\n */\nconst fixedTopClass = \"fixed-top\";\nexport default fixedTopClass;\n","/**\n * Global namespace for components `fixed-bottom` class.\n */\nconst fixedBottomClass = \"fixed-bottom\";\nexport default fixedBottomClass;\n","/**\n * Global namespace for components `sticky-top` class.\n */\nconst stickyTopClass = \"sticky-top\";\nexport default stickyTopClass;\n","/**\n * Global namespace for components `position-sticky` class.\n */\nconst positionStickyClass = \"position-sticky\";\nexport default positionStickyClass;\n","import {\n  getDocumentBody,\n  getDocumentElement,\n  getElementsByClassName,\n  getElementStyle,\n  getWindow,\n  hasClass,\n  setElementStyle,\n} from \"@thednp/shorty\";\n\nimport fixedTopClass from \"../strings/fixedTopClass\";\nimport fixedBottomClass from \"../strings/fixedBottomClass\";\nimport stickyTopClass from \"../strings/stickyTopClass\";\nimport positionStickyClass from \"../strings/positionStickyClass\";\n\nconst getFixedItems = (parent?: ParentNode) => [\n  ...getElementsByClassName<HTMLElement>(fixedTopClass, parent),\n  ...getElementsByClassName<HTMLElement>(fixedBottomClass, parent),\n  ...getElementsByClassName<HTMLElement>(stickyTopClass, parent),\n  ...getElementsByClassName<HTMLElement>(positionStickyClass, parent),\n  ...getElementsByClassName<HTMLElement>(\"is-fixed\", parent),\n];\n\n/**\n * Removes *padding* and *overflow* from the `<body>`\n * and all spacing from fixed items.\n *\n * @param element the target modal/offcanvas\n */\nexport const resetScrollbar = (element?: Element) => {\n  const bd = getDocumentBody(element);\n  setElementStyle(bd, {\n    paddingRight: \"\",\n    overflow: \"\",\n  });\n\n  const fixedItems = getFixedItems(bd);\n\n  // istanbul ignore else @preserve\n  if (fixedItems.length) {\n    fixedItems.forEach((fixed) => {\n      setElementStyle(fixed, {\n        paddingRight: \"\",\n        marginRight: \"\",\n      });\n    });\n  }\n};\n\n/**\n * Returns the scrollbar width if the body does overflow\n * the window.\n *\n * @param element target element\n * @returns the scrollbar width value\n */\nexport const measureScrollbar = (element: Element) => {\n  const { clientWidth } = getDocumentElement(element);\n  const { innerWidth } = getWindow(element);\n  return Math.abs(innerWidth - clientWidth);\n};\n\n/**\n * Sets the `<body>` and fixed items style when modal / offcanvas\n * is shown to the user.\n *\n * @param element the target modal/offcanvas\n * @param overflow body does overflow or not\n */\nexport const setScrollbar = (element: Element, overflow?: boolean) => {\n  const bd = getDocumentBody(element);\n  const bodyPad = parseInt(getElementStyle(bd, \"paddingRight\"), 10);\n  const isOpen = getElementStyle(bd, \"overflow\") === \"hidden\";\n  const sbWidth = isOpen && bodyPad\n    ? /* istanbul ignore next */ 0\n    : measureScrollbar(element);\n  const fixedItems = getFixedItems(bd);\n\n  // istanbul ignore if @preserve\n  if (!overflow) return;\n\n  setElementStyle(bd, {\n    overflow: \"hidden\",\n    paddingRight: `${bodyPad + sbWidth}px`,\n  });\n\n  // istanbul ignore if @preserve\n  if (!fixedItems.length) return;\n\n  fixedItems.forEach((fixed) => {\n    const itemPadValue = getElementStyle(fixed, \"paddingRight\");\n    fixed.style.paddingRight = `${parseInt(itemPadValue, 10) + sbWidth}px`;\n    // istanbul ignore else @preserve\n    if (\n      [stickyTopClass, positionStickyClass].some((c) => hasClass(fixed, c))\n    ) {\n      const itemMValue = getElementStyle(fixed, \"marginRight\");\n      fixed.style.marginRight = `${parseInt(itemMValue, 10) - sbWidth}px`;\n    }\n  });\n};\n","/** @type {string} */\nconst offcanvasString = \"offcanvas\";\nexport default offcanvasString;\n","import { createElement, getDocumentBody, isNode } from \"@thednp/shorty\";\n\n// the default container for Modal, Offcanvas, Popover and Tooltip\nconst popupContainer = createElement({\n  tagName: \"div\",\n  className: \"popup-container\",\n}) as HTMLElement;\n\nconst appendPopup = (target: Element, customContainer?: ParentNode) => {\n  const containerIsBody = isNode(customContainer) &&\n    customContainer.nodeName === \"BODY\";\n  const lookup = isNode(customContainer) && !containerIsBody\n    ? customContainer\n    : popupContainer;\n  const BODY = containerIsBody ? customContainer : getDocumentBody(target);\n\n  // istanbul ignore else @preserve\n  if (isNode(target)) {\n    if (lookup === popupContainer) {\n      BODY.append(popupContainer);\n    }\n    lookup.append(target);\n  }\n};\n\nconst removePopup = (target: Element, customContainer?: ParentNode) => {\n  const containerIsBody = isNode(customContainer) &&\n    customContainer.nodeName === \"BODY\";\n  const lookup = isNode(customContainer) && !containerIsBody\n    ? customContainer\n    : popupContainer;\n\n  // istanbul ignore else @preserve\n  if (isNode(target)) {\n    target.remove();\n\n    if (lookup === popupContainer && !popupContainer.children.length) {\n      popupContainer.remove();\n    }\n  }\n};\n\nconst hasPopup = (target: Element, customContainer?: ParentNode) => {\n  const lookup = isNode(customContainer) && customContainer.nodeName !== \"BODY\"\n    ? customContainer\n    : popupContainer;\n  return isNode(target) && lookup.contains(target);\n};\n\nexport { appendPopup, hasPopup, popupContainer, removePopup };\n","import {\n  addClass,\n  createElement,\n  getDocument,\n  getDocumentBody,\n  hasClass,\n  querySelector,\n  reflow,\n  removeClass,\n} from \"@thednp/shorty\";\n\nimport fadeClass from \"../strings/fadeClass\";\nimport showClass from \"../strings/showClass\";\nimport modalString from \"../strings/modalString\";\nimport offcanvasString from \"../strings/offcanvasString\";\nimport { resetScrollbar } from \"./scrollbar\";\nimport { appendPopup, removePopup } from \"./popupContainer\";\n\nconst backdropString = \"backdrop\";\nconst modalBackdropClass = `${modalString}-${backdropString}`;\nconst offcanvasBackdropClass = `${offcanvasString}-${backdropString}`;\nconst modalActiveSelector = `.${modalString}.${showClass}`;\nconst offcanvasActiveSelector = `.${offcanvasString}.${showClass}`;\n\n// any document would suffice\nconst overlay = createElement(\"div\") as HTMLElement;\n\n/**\n * Returns the current active modal / offcancas element.\n *\n * @param element the context element\n * @returns the requested element\n */\nconst getCurrentOpen = (element?: Element) => {\n  return querySelector(\n    `${modalActiveSelector},${offcanvasActiveSelector}`,\n    getDocument(element),\n  );\n};\n\n/**\n * Toogles from a Modal overlay to an Offcanvas, or vice-versa.\n *\n * @param isModal\n */\nconst toggleOverlayType = (isModal?: boolean) => {\n  const targetClass = isModal ? modalBackdropClass : offcanvasBackdropClass;\n  [modalBackdropClass, offcanvasBackdropClass].forEach((c) => {\n    removeClass(overlay, c);\n  });\n  addClass(overlay, targetClass);\n};\n\n/**\n * Append the overlay to DOM.\n *\n * @param element\n * @param hasFade\n * @param isModal\n */\nconst appendOverlay = (\n  element: Element,\n  hasFade: boolean,\n  isModal?: boolean,\n) => {\n  toggleOverlayType(isModal);\n  appendPopup(overlay, getDocumentBody(element));\n  if (hasFade) addClass(overlay, fadeClass);\n};\n\n/**\n * Shows the overlay to the user.\n */\nconst showOverlay = () => {\n  if (!hasClass(overlay, showClass)) {\n    addClass(overlay, showClass);\n    reflow(overlay);\n  }\n};\n\n/**\n * Hides the overlay from the user.\n */\nconst hideOverlay = () => {\n  removeClass(overlay, showClass);\n};\n\n/**\n * Removes the overlay from DOM.\n *\n * @param element\n */\nconst removeOverlay = (element?: Element): void => {\n  if (!getCurrentOpen(element)) {\n    removeClass(overlay, fadeClass);\n    removePopup(overlay, getDocumentBody(element));\n    resetScrollbar(element);\n  }\n};\n\nexport {\n  appendOverlay,\n  getCurrentOpen,\n  hideOverlay,\n  modalActiveSelector,\n  modalBackdropClass,\n  offcanvasActiveSelector,\n  offcanvasBackdropClass,\n  overlay,\n  removeOverlay,\n  showOverlay,\n  toggleOverlayType,\n};\n","import { getElementStyle, isHTMLElement } from \"@thednp/shorty\";\n\n/**\n * @param element target\n * @returns the check result\n */\nconst isVisible = (element: HTMLElement) => {\n  return isHTMLElement(element) &&\n    getElementStyle(element, \"visibility\") !== \"hidden\" &&\n    element.offsetParent !== null;\n};\nexport default isVisible;\n","/* Native JavaScript for Bootstrap 5 | Modal\n-------------------------------------------- */\nimport {\n  addClass,\n  ariaHidden,\n  ariaModal,\n  closest,\n  createCustomEvent,\n  CSS4Declaration,\n  dispatchEvent,\n  emulateTransitionEnd,\n  focus,\n  getDocument,\n  getDocumentBody,\n  getDocumentElement,\n  getElementTransitionDuration,\n  getInstance,\n  hasClass,\n  isRTL,\n  KeyboardEvent,\n  keydownEvent,\n  keyEscape,\n  mouseclickEvent,\n  MouseEvent,\n  querySelector,\n  querySelectorAll,\n  removeAttribute,\n  removeClass,\n  setAttribute,\n  setElementStyle,\n  Timer,\n  toggleFocusTrap,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport dataBsDismiss from \"~/strings/dataBsDismiss\";\nimport fadeClass from \"~/strings/fadeClass\";\nimport showClass from \"~/strings/showClass\";\nimport modalString from \"~/strings/modalString\";\nimport modalComponent from \"~/strings/modalComponent\";\nimport offcanvasComponent from \"~/strings/offcanvasComponent\";\nimport getTargetElement from \"~/util/getTargetElement\";\nimport { measureScrollbar, setScrollbar } from \"~/util/scrollbar\";\nimport {\n  appendOverlay,\n  getCurrentOpen,\n  hideOverlay,\n  modalActiveSelector,\n  overlay,\n  removeOverlay,\n  showOverlay,\n  toggleOverlayType,\n} from \"~/util/backdrop\";\nimport isVisible from \"~/util/isVisible\";\nimport { hasPopup } from \"~/util/popupContainer\";\nimport isDisabled from \"~/util/isDisabled\";\nimport BaseComponent from \"./base-component\";\nimport { ModalEvent, ModalOptions } from \"~/interface/modal\";\n\n// MODAL PRIVATE GC\n// ================\nconst modalSelector = `.${modalString}`;\nconst modalToggleSelector = `[${dataBsToggle}=\"${modalString}\"]`;\nconst modalDismissSelector = `[${dataBsDismiss}=\"${modalString}\"]`;\nconst modalStaticClass = `${modalString}-static`;\n\nconst modalDefaults = {\n  backdrop: true,\n  keyboard: true,\n};\n\ntype ModalEventProps = {\n  relatedTarget: Element & EventTarget | null;\n};\n\n/**\n * Static method which returns an existing `Modal` instance associated\n * to a target `Element`.\n */\nconst getModalInstance = (element: Element) =>\n  getInstance<Modal>(element, modalComponent);\n\n/**\n * A `Modal` initialization callback.\n */\nconst modalInitCallback = (element: Element) => new Modal(element);\n\n// MODAL CUSTOM EVENTS\n// ===================\nconst showModalEvent = createCustomEvent<ModalEventProps, ModalEvent>(\n  `show.bs.${modalString}`,\n);\nconst shownModalEvent = createCustomEvent<ModalEventProps, ModalEvent>(\n  `shown.bs.${modalString}`,\n);\nconst hideModalEvent = createCustomEvent<ModalEventProps, ModalEvent>(\n  `hide.bs.${modalString}`,\n);\nconst hiddenModalEvent = createCustomEvent<ModalEventProps, ModalEvent>(\n  `hidden.bs.${modalString}`,\n);\n\n// MODAL PRIVATE METHODS\n// =====================\n/**\n * Applies special style for the `<body>` and fixed elements\n * when a modal instance is shown to the user.\n *\n * @param self the `Modal` instance\n */\nconst setModalScrollbar = (self: Modal) => {\n  const { element } = self;\n  const scrollbarWidth = measureScrollbar(element);\n  const { clientHeight, scrollHeight } = getDocumentElement(element);\n  const { clientHeight: modalHeight, scrollHeight: modalScrollHeight } =\n    element;\n  const modalOverflow = modalHeight !== modalScrollHeight;\n\n  // istanbul ignore next @preserve: impossible to test?\n  if (!modalOverflow && scrollbarWidth) {\n    const pad = !isRTL(element)\n      ? \"paddingRight\"\n      // istanbul ignore next @preserve\n      : \"paddingLeft\";\n    const padStyle = { [pad]: `${scrollbarWidth}px` } as Partial<\n      CSS4Declaration\n    >;\n    setElementStyle(element, padStyle);\n  }\n  setScrollbar(element, modalOverflow || clientHeight !== scrollHeight);\n};\n\n/**\n * Toggles on/off the listeners of events that close the modal.\n *\n * @param self the `Modal` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleModalDismiss = (self: Modal, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element } = self;\n  action(element, mouseclickEvent, modalDismissHandler);\n  action(getDocument(element), keydownEvent, modalKeyHandler);\n\n  if (add) self._observer.observe(element);\n  else self._observer.disconnect();\n};\n\n/**\n * Executes after a modal is hidden to the user.\n *\n * @param self the `Modal` instance\n */\nconst afterModalHide = (self: Modal) => {\n  const { triggers, element, relatedTarget } = self;\n  removeOverlay(element);\n  setElementStyle(element, { paddingRight: \"\", display: \"\" });\n  toggleModalDismiss(self);\n\n  const focusElement = showModalEvent.relatedTarget || triggers.find(isVisible);\n  // istanbul ignore else @preserve\n  if (focusElement) focus(focusElement);\n\n  hiddenModalEvent.relatedTarget = relatedTarget || undefined;\n  dispatchEvent(element, hiddenModalEvent);\n  toggleFocusTrap(element);\n};\n\n/**\n * Executes after a modal is shown to the user.\n *\n * @param self the `Modal` instance\n */\nconst afterModalShow = (self: Modal) => {\n  const { element, relatedTarget } = self;\n  focus(element as HTMLElement);\n  toggleModalDismiss(self, true);\n\n  shownModalEvent.relatedTarget = relatedTarget || undefined;\n  dispatchEvent(element, shownModalEvent);\n  toggleFocusTrap(element);\n};\n\n/**\n * Executes before a modal is shown to the user.\n *\n * @param self the `Modal` instance\n */\nconst beforeModalShow = (self: Modal) => {\n  const { element, hasFade } = self;\n  setElementStyle(element, { display: \"block\" });\n  setModalScrollbar(self);\n  // istanbul ignore else @preserve\n  if (!getCurrentOpen(element)) {\n    setElementStyle(getDocumentBody(element), { overflow: \"hidden\" });\n  }\n\n  addClass(element, showClass);\n  removeAttribute(element, ariaHidden);\n  setAttribute(element, ariaModal, \"true\");\n\n  if (hasFade) emulateTransitionEnd(element, () => afterModalShow(self));\n  else afterModalShow(self);\n};\n\n/**\n * Executes before a modal is hidden to the user.\n *\n * @param self the `Modal` instance\n */\nconst beforeModalHide = (self: Modal) => {\n  const { element, options, hasFade } = self;\n\n  // callback can also be the transitionEvent object, we wanna make sure it's not\n  // call is not forced and overlay is visible\n  if (\n    options.backdrop && hasFade && hasClass(overlay, showClass) &&\n    !getCurrentOpen(element)\n  ) {\n    // AND no modal is visible\n    hideOverlay();\n    emulateTransitionEnd(overlay, () => afterModalHide(self));\n  } else {\n    afterModalHide(self);\n  }\n};\n\n// MODAL EVENT HANDLERS\n// ====================\n/**\n * Handles the `click` event listener for modal.\n *\n * @param e the `Event` object\n */\nfunction modalClickHandler(this: HTMLElement, e: MouseEvent<HTMLElement>) {\n  const element = getTargetElement(this);\n  const self = element && getModalInstance(element);\n\n  // istanbul ignore if @preserve\n  if (isDisabled(this)) return;\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  // istanbul ignore else @preserve\n  if (this.tagName === \"A\") e.preventDefault();\n  self.relatedTarget = this;\n  self.toggle();\n}\n\n/**\n * Handles the `keydown` event listener for modal\n * to hide the modal when user type the `ESC` key.\n *\n * @param e the `Event` object\n */\nconst modalKeyHandler = ({ code, target }: KeyboardEvent<Element>) => {\n  const element = querySelector(modalActiveSelector, getDocument(target));\n  const self = element && getModalInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  const { options } = self;\n  // istanbul ignore else @preserve\n  if (\n    options.keyboard &&\n    code === keyEscape && // the keyboard option is enabled and the key is 27\n    hasClass(element, showClass)\n  ) {\n    // the modal is not visible\n    self.relatedTarget = null;\n    self.hide();\n  }\n};\n\n/**\n * Handles the `click` event listeners that hide the modal.\n *\n * @param e the `Event` object\n */\nconst modalDismissHandler = (e: MouseEvent<HTMLElement>) => {\n  const { currentTarget } = e;\n  const self = currentTarget && getModalInstance(currentTarget);\n\n  // the timer is needed\n  // istanbul ignore if @preserve\n  if (!self || !currentTarget || Timer.get(currentTarget)) return;\n\n  const { options, isStatic, modalDialog } = self;\n  const { backdrop } = options;\n  const { target } = e;\n\n  const selectedText = getDocument(currentTarget)?.getSelection()?.toString()\n    .length;\n  const targetInsideDialog = modalDialog.contains(target);\n  const dismiss = target && closest(target, modalDismissSelector);\n\n  // istanbul ignore else @preserve\n  if (isStatic && !targetInsideDialog) {\n    Timer.set(\n      currentTarget,\n      () => {\n        addClass(currentTarget, modalStaticClass);\n        emulateTransitionEnd(modalDialog, () => staticTransitionEnd(self));\n      },\n      17,\n    );\n  } else if (\n    dismiss || (!selectedText && !isStatic && !targetInsideDialog && backdrop)\n  ) {\n    self.relatedTarget = dismiss || null;\n    self.hide();\n    e.preventDefault();\n  }\n};\n\n/**\n * Handles the `transitionend` event listeners for `Modal`.\n *\n * @param self the `Modal` instance\n */\nconst staticTransitionEnd = (self: Modal) => {\n  const { element, modalDialog } = self;\n  const duration = (getElementTransitionDuration(modalDialog) || 0) + 17;\n  removeClass(element, modalStaticClass);\n  // user must wait for zoom out transition\n  Timer.set(element, () => Timer.clear(element), duration);\n};\n\n// MODAL DEFINITION\n// ================\n/** Returns a new `Modal` instance. */\nexport default class Modal extends BaseComponent {\n  static selector = modalSelector;\n  static init = modalInitCallback;\n  static getInstance = getModalInstance;\n  declare element: HTMLElement;\n  declare options: ModalOptions;\n  declare modalDialog: HTMLElement;\n  declare triggers: HTMLElement[];\n  declare isStatic: boolean;\n  declare hasFade: boolean;\n  declare relatedTarget: EventTarget & HTMLElement | null;\n  declare _observer: ResizeObserver;\n\n  /**\n   * @param target usually the `.modal` element\n   * @param config instance options\n   */\n  constructor(target: Element | string, config?: Partial<ModalOptions>) {\n    super(target, config);\n\n    // the modal\n    const { element } = this;\n\n    // the modal-dialog\n    const modalDialog = querySelector<HTMLElement>(\n      `.${modalString}-dialog`,\n      element,\n    );\n\n    // istanbul ignore if @preserve\n    if (!modalDialog) return;\n\n    this.modalDialog = modalDialog;\n    // modal can have multiple triggering elements\n    this.triggers = [\n      ...querySelectorAll<HTMLElement>(\n        modalToggleSelector,\n        getDocument(element),\n      ),\n    ].filter(\n      (btn) => getTargetElement(btn) === element,\n    );\n\n    // additional internals\n    this.isStatic = this.options.backdrop === \"static\";\n    this.hasFade = hasClass(element, fadeClass);\n    this.relatedTarget = null;\n    this._observer = new ResizeObserver(() => this.update());\n\n    // attach event listeners\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return modalComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return modalDefaults;\n  }\n\n  // MODAL PUBLIC METHODS\n  // ====================\n  /** Toggles the visibility of the modal. */\n  toggle() {\n    if (hasClass(this.element, showClass)) this.hide();\n    else this.show();\n  }\n\n  /** Shows the modal to the user. */\n  show() {\n    const { element, options, hasFade, relatedTarget } = this;\n    const { backdrop } = options;\n    let overlayDelay = 0;\n\n    // istanbul ignore if @preserve\n    if (hasClass(element, showClass)) return;\n\n    showModalEvent.relatedTarget = relatedTarget || undefined;\n    dispatchEvent(element, showModalEvent);\n\n    // allow the event to be prevented\n    // istanbul ignore else @preserve\n    if (showModalEvent.defaultPrevented) return;\n\n    // we elegantly hide any opened modal/offcanvas\n    const currentOpen = getCurrentOpen(element);\n\n    // istanbul ignore else @preserve\n    if (currentOpen && currentOpen !== element) {\n      const that = getModalInstance(currentOpen) ||\n        // istanbul ignore next @preserve\n        getInstance<typeof BaseComponent & { hide: () => void }>(\n          currentOpen,\n          offcanvasComponent,\n        );\n      // istanbul ignore else @preserve\n      if (that) that.hide();\n    }\n    if (backdrop) {\n      if (!hasPopup(overlay)) {\n        appendOverlay(element, hasFade, true);\n      } else {\n        toggleOverlayType(true);\n      }\n\n      overlayDelay = getElementTransitionDuration(overlay);\n      showOverlay();\n\n      setTimeout(() => beforeModalShow(this), overlayDelay);\n    } else {\n      beforeModalShow(this);\n      // istanbul ignore else @preserve\n      if (currentOpen && hasClass(overlay, showClass)) {\n        hideOverlay();\n      }\n    }\n  }\n\n  /** Hide the modal from the user. */\n  hide() {\n    const { element, hasFade, relatedTarget } = this;\n\n    // istanbul ignore if @preserve\n    if (!hasClass(element, showClass)) return;\n\n    hideModalEvent.relatedTarget = relatedTarget || undefined;\n    dispatchEvent(element, hideModalEvent);\n\n    // istanbul ignore if @preserve\n    if (hideModalEvent.defaultPrevented) return;\n\n    removeClass(element, showClass);\n    setAttribute(element, ariaHidden, \"true\");\n    removeAttribute(element, ariaModal);\n\n    if (hasFade) emulateTransitionEnd(element, () => beforeModalHide(this));\n    else beforeModalHide(this);\n  }\n\n  /**\n   * Updates the modal layout.\n   */\n  update = () => {\n    // istanbul ignore else @preserve\n    if (hasClass(this.element, showClass)) setModalScrollbar(this);\n  };\n\n  /**\n   * Toggles on/off the `click` event listener of the `Modal` instance.\n   *\n   * @param add when `true`, event listener(s) is/are added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    const { triggers } = this;\n\n    // istanbul ignore if @preserve\n    if (!triggers.length) return;\n\n    triggers.forEach((btn) => {\n      // istanbul ignore else @preserve\n      action(btn, mouseclickEvent, modalClickHandler);\n    });\n  };\n\n  /** Removes the `Modal` component from target element. */\n  dispose() {\n    const clone = { ...this };\n    const { modalDialog, hasFade } = clone;\n    const callback = () => setTimeout(() => super.dispose(), 17);\n\n    this.hide();\n    this._toggleEventListeners();\n\n    if (hasFade) {\n      // use transitionend callback\n      emulateTransitionEnd(modalDialog, callback);\n    } else {\n      callback();\n    }\n  }\n}\n","/* Native JavaScript for Bootstrap 5 | OffCanvas\n------------------------------------------------ */\nimport {\n  addClass,\n  ariaHidden,\n  ariaModal,\n  closest,\n  createCustomEvent,\n  dispatchEvent,\n  emulateTransitionEnd,\n  focus,\n  getDocument,\n  getDocumentBody,\n  getDocumentElement,\n  getElementTransitionDuration,\n  getInstance,\n  hasClass,\n  keydownEvent,\n  keyEscape,\n  mouseclickEvent,\n  MouseEvent,\n  querySelector,\n  querySelectorAll,\n  removeAttribute,\n  removeClass,\n  setAttribute,\n  setElementStyle,\n  toggleFocusTrap,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport dataBsDismiss from \"~/strings/dataBsDismiss\";\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport showClass from \"~/strings/showClass\";\nimport offcanvasString from \"~/strings/offcanvasString\";\nimport offcanvasComponent from \"~/strings/offcanvasComponent\";\nimport modalComponent from \"~/strings/modalComponent\";\n\nimport getTargetElement from \"~/util/getTargetElement\";\nimport isVisible from \"~/util/isVisible\";\nimport { setScrollbar } from \"~/util/scrollbar\";\nimport { hasPopup } from \"~/util/popupContainer\";\nimport {\n  appendOverlay,\n  getCurrentOpen,\n  hideOverlay,\n  offcanvasActiveSelector,\n  overlay,\n  removeOverlay,\n  showOverlay,\n  toggleOverlayType,\n} from \"~/util/backdrop\";\nimport isDisabled from \"~/util/isDisabled\";\nimport BaseComponent from \"./base-component\";\nimport { OffcanvasEvent, OffcanvasOptions } from \"~/interface/offcanvas\";\n\n// OFFCANVAS PRIVATE GC\n// ====================\nconst offcanvasSelector = `.${offcanvasString}`;\nconst offcanvasToggleSelector = `[${dataBsToggle}=\"${offcanvasString}\"]`;\nconst offcanvasDismissSelector = `[${dataBsDismiss}=\"${offcanvasString}\"]`;\nconst offcanvasTogglingClass = `${offcanvasString}-toggling`;\n\nconst offcanvasDefaults = {\n  backdrop: true, // boolean\n  keyboard: true, // boolean\n  scroll: false, // boolean\n};\n\ntype OffCanvasEventProps = {\n  relatedTarget: Element & EventTarget | undefined;\n};\n\n/**\n * Static method which returns an existing `Offcanvas` instance associated\n * to a target `Element`.\n */\nconst getOffcanvasInstance = (element: Element) =>\n  getInstance<Offcanvas>(element, offcanvasComponent);\n\n/**\n * An `Offcanvas` initialization callback.\n */\nconst offcanvasInitCallback = (element: Element) => new Offcanvas(element);\n\n// OFFCANVAS CUSTOM EVENTS\n// =======================\nconst showOffcanvasEvent = createCustomEvent<\n  OffCanvasEventProps,\n  OffcanvasEvent\n>(`show.bs.${offcanvasString}`);\nconst shownOffcanvasEvent = createCustomEvent<\n  OffCanvasEventProps,\n  OffcanvasEvent\n>(`shown.bs.${offcanvasString}`);\nconst hideOffcanvasEvent = createCustomEvent<\n  OffCanvasEventProps,\n  OffcanvasEvent\n>(`hide.bs.${offcanvasString}`);\nconst hiddenOffcanvasEvent = createCustomEvent<\n  OffCanvasEventProps,\n  OffcanvasEvent\n>(`hidden.bs.${offcanvasString}`);\n\n// OFFCANVAS PRIVATE METHODS\n// =========================\n/**\n * Sets additional style for the `<body>` and other elements\n * when showing an offcanvas to the user.\n *\n * @param self the `Offcanvas` instance\n */\nconst setOffCanvasScrollbar = (self: Offcanvas) => {\n  const { element } = self;\n  const { clientHeight, scrollHeight } = getDocumentElement(element);\n  setScrollbar(element, clientHeight !== scrollHeight);\n};\n\n/**\n * Toggles on/off the listeners of the events that close the offcanvas.\n *\n * @param self the `Offcanvas` instance\n * @param add when *true* listeners are added\n */\nconst toggleOffCanvasDismiss = (self: Offcanvas, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const doc = getDocument(self.element);\n  action(doc, keydownEvent, offcanvasKeyDismissHandler);\n  action(doc, mouseclickEvent, offcanvasDismissHandler);\n};\n\n/**\n * Executes before showing the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst beforeOffcanvasShow = (self: Offcanvas) => {\n  const { element, options } = self;\n\n  // istanbul ignore else @preserve\n  if (!options.scroll) {\n    setOffCanvasScrollbar(self);\n    setElementStyle(getDocumentBody(element), { overflow: \"hidden\" });\n  }\n\n  addClass(element, offcanvasTogglingClass);\n  addClass(element, showClass);\n  setElementStyle(element, { visibility: \"visible\" });\n\n  emulateTransitionEnd(element, () => showOffcanvasComplete(self));\n};\n\n/**\n * Executes before hiding the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst beforeOffcanvasHide = (self: Offcanvas) => {\n  const { element, options } = self;\n  const currentOpen = getCurrentOpen(element);\n\n  (element as HTMLElement).blur();\n\n  if (!currentOpen && options.backdrop && hasClass(overlay, showClass)) {\n    hideOverlay();\n  }\n  emulateTransitionEnd(element, () => hideOffcanvasComplete(self));\n};\n\n// OFFCANVAS EVENT HANDLERS\n// ========================\n/**\n * Handles the `click` event listeners.\n *\n * @param e the `Event` object\n */\nfunction offcanvasTriggerHandler(\n  this: HTMLElement,\n  e: MouseEvent<HTMLElement>,\n) {\n  const element = getTargetElement(this);\n  const self = element && getOffcanvasInstance(element);\n\n  // istanbul ignore if @preserve\n  if (isDisabled(this)) return;\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  self.relatedTarget = this;\n  self.toggle();\n\n  // istanbul ignore else @preserve\n  if (this.tagName === \"A\") e.preventDefault();\n}\n\n/**\n * Handles the event listeners that close the offcanvas.\n *\n * @param e the `Event` object\n */\nconst offcanvasDismissHandler = (e: MouseEvent<HTMLElement>) => {\n  const { target } = e;\n  const element = querySelector(\n    offcanvasActiveSelector,\n    getDocument(target),\n  );\n  // istanbul ignore else @preserve\n  if (!element) return;\n\n  const offCanvasDismiss = querySelector<HTMLElement>(\n    offcanvasDismissSelector,\n    element,\n  );\n  const self = getOffcanvasInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  const { options, triggers } = self;\n  const { backdrop } = options;\n  const trigger = closest(target, offcanvasToggleSelector);\n  const selection = getDocument(element).getSelection();\n\n  // istanbul ignore if: a filter is required here @preserve\n  if (overlay.contains(target) && backdrop === \"static\") return;\n\n  // istanbul ignore else @preserve\n  if (\n    !(selection && selection.toString().length) &&\n    ((!element.contains(target) &&\n      backdrop &&\n      // istanbul ignore next @preserve\n      (!trigger || triggers.includes(target))) ||\n      (offCanvasDismiss &&\n        offCanvasDismiss.contains(target)))\n  ) {\n    self.relatedTarget = offCanvasDismiss && offCanvasDismiss.contains(target)\n      ? offCanvasDismiss\n      : undefined;\n    self.hide();\n  }\n\n  // istanbul ignore next @preserve\n  if (trigger && trigger.tagName === \"A\") e.preventDefault();\n};\n\n/**\n * Handles the `keydown` event listener for offcanvas\n * to hide it when user type the `ESC` key.\n *\n * @param e the `Event` object\n */\nconst offcanvasKeyDismissHandler = ({ code, target }: KeyboardEvent) => {\n  const element = querySelector(\n    offcanvasActiveSelector,\n    getDocument(target as Node),\n  );\n  const self = element && getOffcanvasInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  // istanbul ignore else @preserve\n  if (self.options.keyboard && code === keyEscape) {\n    self.relatedTarget = undefined;\n    self.hide();\n  }\n};\n\n/**\n * Handles the `transitionend` when showing the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst showOffcanvasComplete = (self: Offcanvas) => {\n  const { element } = self;\n  removeClass(element, offcanvasTogglingClass);\n\n  removeAttribute(element, ariaHidden);\n  setAttribute(element, ariaModal, \"true\");\n  setAttribute(element, \"role\", \"dialog\");\n\n  dispatchEvent(element, shownOffcanvasEvent);\n\n  toggleOffCanvasDismiss(self, true);\n  focus(element);\n  toggleFocusTrap(element);\n};\n\n/**\n * Handles the `transitionend` when hiding the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst hideOffcanvasComplete = (self: Offcanvas) => {\n  const { element, triggers } = self;\n\n  setAttribute(element, ariaHidden, \"true\");\n  removeAttribute(element, ariaModal);\n  removeAttribute(element, \"role\");\n  setElementStyle(element, { visibility: \"\" });\n\n  const visibleTrigger = showOffcanvasEvent.relatedTarget ||\n    triggers.find(isVisible);\n  // istanbul ignore else @preserve\n  if (visibleTrigger) focus(visibleTrigger);\n\n  removeOverlay(element);\n\n  dispatchEvent(element, hiddenOffcanvasEvent);\n  removeClass(element, offcanvasTogglingClass);\n  toggleFocusTrap(element);\n\n  // must check for open instances\n  if (!getCurrentOpen(element)) {\n    toggleOffCanvasDismiss(self);\n  }\n};\n\n// OFFCANVAS DEFINITION\n// ====================\n/** Returns a new `Offcanvas` instance. */\nexport default class Offcanvas extends BaseComponent {\n  static selector = offcanvasSelector;\n  static init = offcanvasInitCallback;\n  static getInstance = getOffcanvasInstance;\n  declare element: HTMLElement;\n  declare options: OffcanvasOptions;\n  declare triggers: HTMLElement[];\n  declare relatedTarget: EventTarget & HTMLElement | undefined;\n\n  /**\n   * @param target usually an `.offcanvas` element\n   * @param config instance options\n   */\n  constructor(\n    target: Element | string,\n    config?: Partial<OffcanvasOptions>,\n  ) {\n    super(target, config);\n\n    // instance element\n    const { element } = this;\n\n    // all the triggering buttons\n    this.triggers = [\n      ...querySelectorAll<HTMLElement>(\n        offcanvasToggleSelector,\n        getDocument(element),\n      ),\n    ].filter(\n      (btn) => getTargetElement(btn) === element,\n    );\n\n    // additional instance property\n    this.relatedTarget = undefined;\n\n    // attach event listeners\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return offcanvasComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return offcanvasDefaults;\n  }\n\n  // OFFCANVAS PUBLIC METHODS\n  // ========================\n  /** Shows or hides the offcanvas from the user. */\n  toggle() {\n    if (hasClass(this.element, showClass)) this.hide();\n    else this.show();\n  }\n\n  /** Shows the offcanvas to the user. */\n  show() {\n    const { element, options, relatedTarget } = this;\n    let overlayDelay = 0;\n\n    // istanbul ignore else @preserve\n    if (hasClass(element, showClass)) return;\n\n    showOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n    shownOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n    dispatchEvent(element, showOffcanvasEvent);\n\n    // istanbul ignore else @preserve\n    if (showOffcanvasEvent.defaultPrevented) return;\n\n    // we elegantly hide any opened modal/offcanvas\n    const currentOpen = getCurrentOpen(element);\n    if (currentOpen && currentOpen !== element) {\n      const that = getOffcanvasInstance(currentOpen) ||\n        // istanbul ignore next @preserve\n        getInstance<typeof BaseComponent & { hide: () => void }>(\n          currentOpen,\n          modalComponent,\n        );\n\n      // istanbul ignore else @preserve\n      if (that) that.hide();\n    }\n\n    if (options.backdrop) {\n      if (!hasPopup(overlay)) appendOverlay(element, true);\n      else toggleOverlayType();\n\n      overlayDelay = getElementTransitionDuration(overlay);\n      showOverlay();\n\n      setTimeout(() => beforeOffcanvasShow(this), overlayDelay);\n    } else {\n      beforeOffcanvasShow(this);\n      // istanbul ignore next @preserve - this test was done on Modal\n      if (currentOpen && hasClass(overlay, showClass)) hideOverlay();\n    }\n  }\n\n  /** Hides the offcanvas from the user. */\n  hide() {\n    const { element, relatedTarget } = this;\n\n    // istanbul ignore else @preserve\n    if (!hasClass(element, showClass)) return;\n\n    hideOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n    hiddenOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n    dispatchEvent(element, hideOffcanvasEvent);\n\n    // istanbul ignore else @preserve\n    if (hideOffcanvasEvent.defaultPrevented) return;\n\n    addClass(element, offcanvasTogglingClass);\n    removeClass(element, showClass);\n    beforeOffcanvasHide(this);\n  }\n\n  /**\n   * Toggles on/off the `click` event listeners.\n   *\n   * @param self the `Offcanvas` instance\n   * @param add when *true*, listeners are added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    this.triggers.forEach((btn) => {\n      action(btn, mouseclickEvent, offcanvasTriggerHandler);\n    });\n  };\n\n  /** Removes the `Offcanvas` from the target element. */\n  dispose() {\n    const { element } = this;\n    const isOpen = hasClass(element, showClass);\n    const callback = () => setTimeout(() => super.dispose(), 1);\n\n    this.hide();\n    this._toggleEventListeners();\n\n    if (isOpen) emulateTransitionEnd(element, callback);\n    // istanbul ignore next @preserve\n    else callback();\n  }\n}\n","/** @type {string} */\nconst popoverString = \"popover\";\nexport default popoverString;\n","/** @type {string} */\nconst popoverComponent = \"Popover\";\nexport default popoverComponent;\n","/** @type {string} */\nconst tooltipString = \"tooltip\";\nexport default tooltipString;\n","import tooltipString from \"../strings/tooltipString\";\n\n/**\n * Returns a template for Popover / Tooltip.\n *\n * @param tipType the expected markup type\n * @returns the template markup\n */\nconst getTipTemplate = (tipType: string) => {\n  const isTooltip = tipType === tooltipString;\n  const bodyClass = isTooltip ? `${tipType}-inner` : `${tipType}-body`;\n  const header = !isTooltip ? `<h3 class=\"${tipType}-header\"></h3>` : \"\";\n  const arrow = `<div class=\"${tipType}-arrow\"></div>`;\n  const body = `<div class=\"${bodyClass}\"></div>`;\n  return `<div class=\"${tipType}\" role=\"${tooltipString}\">${\n    header + arrow + body\n  }</div>`;\n};\n\nexport default getTipTemplate;\n","const tipClassPositions = {\n  top: \"top\",\n  bottom: \"bottom\",\n  left: \"start\",\n  right: \"end\",\n};\n\nexport default tipClassPositions;\n","import {\n  createCustomEvent,\n  dispatchEvent,\n  getBoundingClientRect,\n  getDocumentElement,\n  getElementStyle,\n  getNodeScroll,\n  getRectRelativeToOffsetParent,\n  isHTMLElement,\n  isRTL,\n  setElementStyle,\n  toLowerCase,\n} from \"@thednp/shorty\";\n\nimport tipClassPositions from \"./tipClassPositions\";\nimport Tooltip from \"../components/tooltip\";\nimport type { TooltipEvent } from \"../interface/tooltip\";\nimport type { PopoverEvent } from \"../interface/popover\";\n\n/**\n * Style popovers and tooltips.\n *\n * @param self the `Popover` / `Tooltip` instance\n */\nconst styleTip = (self: Tooltip) => {\n  requestAnimationFrame(() => {\n    const tipClasses = /\\b(top|bottom|start|end)+/;\n    const { element, tooltip, container, offsetParent, options, arrow } = self;\n\n    // istanbul ignore if @preserve\n    if (!tooltip) return;\n    const RTL = isRTL(element);\n    const { x: scrollLeft, y: scrollTop } = getNodeScroll(offsetParent);\n\n    // reset tooltip style (top: 0, left: 0 works best)\n    setElementStyle(tooltip, {\n      top: \"\",\n      left: \"\",\n      right: \"\",\n      bottom: \"\",\n    });\n    const { offsetWidth: tipWidth, offsetHeight: tipHeight } = tooltip;\n    const { clientWidth: htmlcw, clientHeight: htmlch, offsetWidth: htmlow } =\n      getDocumentElement(element);\n    let { placement } = options;\n    const { clientWidth: parentCWidth, offsetWidth: parentOWidth } = container;\n    const parentPosition = getElementStyle(\n      container,\n      \"position\",\n    );\n    const fixedParent = parentPosition === \"fixed\";\n    const scrollbarWidth = fixedParent\n      ? Math.abs(parentCWidth - parentOWidth)\n      : Math.abs(htmlcw - htmlow);\n    const leftBoundry = RTL && fixedParent\n      ? /* istanbul ignore next @preserve */ scrollbarWidth\n      : 0;\n    const rightBoundry = htmlcw - (!RTL ? scrollbarWidth : 0) - 1;\n\n    // reuse observer entry bounding box\n    const observerEntry = self._observer.getEntry(element);\n    const {\n      width: elemWidth,\n      height: elemHeight,\n      left: elemRectLeft,\n      right: elemRectRight,\n      top: elemRectTop,\n    } = observerEntry?.boundingClientRect ||\n      getBoundingClientRect(element, true);\n\n    const {\n      x: elemOffsetLeft,\n      y: elemOffsetTop,\n    } = getRectRelativeToOffsetParent(\n      element,\n      offsetParent,\n      { x: scrollLeft, y: scrollTop },\n    );\n\n    // reset arrow style\n    setElementStyle(arrow as HTMLElement, {\n      top: \"\",\n      left: \"\",\n      right: \"\",\n      bottom: \"\",\n    });\n    let topPosition: number | string = 0;\n    let bottomPosition: number | string = \"\";\n    let leftPosition: number | string = 0;\n    let rightPosition: number | string = \"\";\n    let arrowTop: number | string = \"\";\n    let arrowLeft: number | string = \"\";\n    let arrowRight: number | string = \"\";\n\n    const arrowWidth = arrow.offsetWidth || 0;\n    const arrowHeight = arrow.offsetHeight || 0;\n    const arrowAdjust = arrowWidth / 2;\n\n    // check placement\n    let topExceed = elemRectTop - tipHeight - arrowHeight < 0;\n    let bottomExceed =\n      elemRectTop + tipHeight + elemHeight + arrowHeight >= htmlch;\n    let leftExceed = elemRectLeft - tipWidth - arrowWidth < leftBoundry;\n    let rightExceed =\n      elemRectLeft + tipWidth + elemWidth + arrowWidth >= rightBoundry;\n\n    const horizontals = [\"left\", \"right\"];\n    const verticals = [\"top\", \"bottom\"];\n\n    topExceed = horizontals.includes(placement)\n      ? elemRectTop + elemHeight / 2 - tipHeight / 2 - arrowHeight < 0\n      : topExceed;\n    bottomExceed = horizontals.includes(placement)\n      ? elemRectTop + tipHeight / 2 + elemHeight / 2 + arrowHeight >= htmlch\n      : bottomExceed;\n    leftExceed = verticals.includes(placement)\n      ? elemRectLeft + elemWidth / 2 - tipWidth / 2 < leftBoundry\n      : leftExceed;\n    rightExceed = verticals.includes(placement)\n      ? elemRectLeft + tipWidth / 2 + elemWidth / 2 >= rightBoundry\n      : rightExceed;\n\n    // first remove side positions if both left and right limits are exceeded\n    // we usually fall back to top|bottom\n    placement = horizontals.includes(placement) && leftExceed && rightExceed\n      ? \"top\"\n      : placement;\n    // recompute placement\n    placement = placement === \"top\" && topExceed ? \"bottom\" : placement;\n    placement = placement === \"bottom\" && bottomExceed ? \"top\" : placement;\n    placement = placement === \"left\" && leftExceed ? \"right\" : placement;\n    placement = placement === \"right\" && rightExceed\n      ? \"left\"\n      // istanbul ignore next @preserve\n      : placement;\n\n    // update tooltip/popover class\n    // istanbul ignore else @preserve\n    if (!tooltip.className.includes(placement)) {\n      tooltip.className = tooltip.className.replace(\n        tipClasses,\n        tipClassPositions[placement],\n      );\n    }\n\n    // compute tooltip / popover coordinates\n    // istanbul ignore else @preserve\n    if (horizontals.includes(placement)) {\n      // secondary|side positions\n      if (placement === \"left\") {\n        // LEFT\n        leftPosition = elemOffsetLeft - tipWidth - arrowWidth;\n      } else {\n        // RIGHT\n        leftPosition = elemOffsetLeft + elemWidth + arrowWidth;\n      }\n\n      // adjust top and arrow\n      if (topExceed && bottomExceed) {\n        topPosition = 0;\n        bottomPosition = 0;\n        arrowTop = elemOffsetTop + elemHeight / 2 - arrowHeight / 2;\n      } else if (topExceed) {\n        topPosition = elemOffsetTop;\n        bottomPosition = \"\";\n        arrowTop = elemHeight / 2 - arrowWidth;\n      } else if (bottomExceed) {\n        topPosition = elemOffsetTop - tipHeight + elemHeight;\n        bottomPosition = \"\";\n        arrowTop = tipHeight - elemHeight / 2 - arrowWidth;\n      } else {\n        topPosition = elemOffsetTop - tipHeight / 2 + elemHeight / 2;\n        arrowTop = tipHeight / 2 - arrowHeight / 2;\n      }\n    } else if (verticals.includes(placement)) {\n      if (placement === \"top\") {\n        topPosition = elemOffsetTop - tipHeight - arrowHeight;\n      } else {\n        // BOTTOM\n        topPosition = elemOffsetTop + elemHeight + arrowHeight;\n      }\n\n      // adjust left | right and also the arrow\n      if (leftExceed) {\n        leftPosition = 0;\n        arrowLeft = elemOffsetLeft + elemWidth / 2 - arrowAdjust;\n      } else if (rightExceed) {\n        leftPosition = \"auto\";\n        rightPosition = 0;\n        arrowRight = elemWidth / 2 + rightBoundry - elemRectRight - arrowAdjust;\n      } else {\n        leftPosition = elemOffsetLeft - tipWidth / 2 + elemWidth / 2;\n        arrowLeft = tipWidth / 2 - arrowAdjust;\n      }\n    }\n\n    // apply style to tooltip/popover\n    setElementStyle(tooltip, {\n      top: `${topPosition}px`,\n      bottom: bottomPosition === \"\" ? \"\" : `${bottomPosition}px`,\n      left: leftPosition === \"auto\" ? leftPosition : `${leftPosition}px`,\n      right: rightPosition !== \"\" ? `${rightPosition}px` : \"\",\n    });\n\n    // update arrow placement\n    // istanbul ignore else @preserve\n    if (isHTMLElement(arrow)) {\n      if (arrowTop !== \"\") {\n        arrow.style.top = `${arrowTop}px`;\n      }\n      if (arrowLeft !== \"\") {\n        arrow.style.left = `${arrowLeft}px`;\n      } else if (arrowRight !== \"\") {\n        arrow.style.right = `${arrowRight}px`;\n      }\n    }\n    const updatedTooltipEvent = createCustomEvent<\n      Record<string, unknown>,\n      TooltipEvent | PopoverEvent\n    >(\n      `updated.bs.${toLowerCase(self.name)}`,\n    );\n    dispatchEvent(element, updatedTooltipEvent);\n  });\n};\n\nexport default styleTip;\n","import getTipTemplate from \"./getTipTemplate\";\nimport tooltipString from \"../strings/tooltipString\";\nimport { TooltipOptions } from \"../interface/tooltip\";\n\nconst tooltipDefaults: TooltipOptions = {\n  template: getTipTemplate(tooltipString),\n  title: \"\",\n  customClass: \"\",\n  trigger: \"hover focus\",\n  placement: \"top\",\n  sanitizeFn: undefined,\n  animation: true,\n  delay: 200,\n  container: document.body,\n  content: \"\",\n  dismissible: false,\n  btnClose: \"\",\n};\nexport default tooltipDefaults;\n","/**\n * Global namespace for `data-bs-title` attribute.\n */\nconst dataOriginalTitle = \"data-original-title\";\nexport default dataOriginalTitle;\n","/** @type {string} */\nconst tooltipComponent = \"Tooltip\";\nexport default tooltipComponent;\n","import {\n  isArray,\n  isFunction,\n  isHTMLElement,\n  isNode,\n  isNodeList,\n  isString,\n} from \"@thednp/shorty\";\n\n/**\n * Append an existing `Element` to Popover / Tooltip component or HTML\n * markup string to be parsed & sanitized to be used as popover / tooltip content.\n *\n * @param element target\n * @param content the `Element` to append / string\n * @param sanitizeFn a function to sanitize string content\n */\nconst setHtml = (\n  element: HTMLElement,\n  content: Node[] | Node | string,\n  sanitizeFn?: (s: string) => string,\n) => {\n  // istanbul ignore else @preserve\n  if (isString(content) && content.length) {\n    let dirty = content.trim(); // fixing #233\n    if (isFunction(sanitizeFn)) dirty = sanitizeFn(dirty);\n\n    const domParser = new DOMParser();\n    const tempDocument = domParser.parseFromString(dirty, \"text/html\");\n    element.append(...[...tempDocument.body.childNodes]);\n  } else if (isHTMLElement(content)) {\n    element.append(content);\n  } else if (\n    isNodeList(content) || (isArray(content) && content.every(isNode))\n  ) {\n    element.append(...[...content]);\n  }\n};\nexport default setHtml;\n","import {\n  addClass,\n  createElement,\n  hasClass,\n  isHTMLElement,\n  isRTL,\n  querySelector,\n  setAttribute,\n} from \"@thednp/shorty\";\n\nimport tooltipComponent from \"../strings/tooltipComponent\";\nimport tooltipString from \"../strings/tooltipString\";\nimport popoverString from \"../strings/popoverString\";\nimport fadeClass from \"../strings/fadeClass\";\nimport tipClassPositions from \"./tipClassPositions\";\nimport setHtml from \"./setHtml\";\nimport Tooltip from \"../components/tooltip\";\nimport Popover from \"../components/popover\";\n\n/**\n * Creates a new tooltip / popover.\n *\n * @param self the `Tooltip` / `Popover` instance\n */\nconst createTip = (self: Tooltip | Popover) => {\n  const isTooltip = self.name === tooltipComponent;\n\n  const { id, element, options } = self;\n  const {\n    title,\n    placement,\n    template,\n    animation,\n    customClass,\n    sanitizeFn,\n    dismissible,\n    content,\n    btnClose,\n  } = options;\n  const tipString = isTooltip ? tooltipString : popoverString;\n  const tipPositions = { ...tipClassPositions };\n  let titleParts: Node[] = [];\n  let contentParts: Node[] = [];\n\n  if (isRTL(element)) {\n    tipPositions.left = \"end\";\n    tipPositions.right = \"start\";\n  }\n\n  // set initial popover class\n  const placementClass = `bs-${tipString}-${tipPositions[placement]}`;\n\n  // load template\n  let tooltipTemplate: Node | string;\n  if (isHTMLElement(template)) {\n    tooltipTemplate = template;\n  } else {\n    const htmlMarkup = createElement(\"div\") as HTMLElement;\n    setHtml(htmlMarkup, template, sanitizeFn);\n    tooltipTemplate = htmlMarkup.firstChild as HTMLElement;\n  }\n\n  /* istanbul ignore if @preserve */\n  if (!isHTMLElement(tooltipTemplate)) return;\n\n  // set popover markup\n  self.tooltip = tooltipTemplate.cloneNode(true) as HTMLElement;\n  const { tooltip } = self;\n\n  // set id and role attributes\n  setAttribute(tooltip, \"id\", id);\n  setAttribute(tooltip, \"role\", tooltipString);\n\n  const bodyClass = isTooltip\n    ? `${tooltipString}-inner`\n    : `${popoverString}-body`;\n  const tooltipHeader = isTooltip\n    ? null\n    : querySelector<HTMLElement>(`.${popoverString}-header`, tooltip);\n  const tooltipBody = querySelector<HTMLElement>(`.${bodyClass}`, tooltip);\n\n  // set arrow and enable access for styleTip\n  self.arrow = querySelector<HTMLElement>(\n    `.${tipString}-arrow`,\n    tooltip,\n  ) as HTMLElement;\n  const { arrow } = self;\n\n  if (isHTMLElement(title)) titleParts = [title.cloneNode(true)];\n  else {\n    const tempTitle = createElement(\"div\") as HTMLElement;\n    setHtml(tempTitle, title, sanitizeFn);\n    titleParts = [...[...tempTitle.childNodes]];\n  }\n\n  if (isHTMLElement(content)) contentParts = [content.cloneNode(true)];\n  else {\n    const tempContent = createElement(\"div\") as HTMLElement;\n    setHtml(tempContent, content, sanitizeFn);\n    contentParts = [...[...tempContent.childNodes]];\n  }\n\n  // set dismissible button\n  if (dismissible) {\n    if (title) {\n      if (isHTMLElement(btnClose)) {\n        titleParts = [...titleParts, btnClose.cloneNode(true)];\n      } else {\n        const tempBtn = createElement(\"div\") as HTMLElement;\n        setHtml(tempBtn, btnClose, sanitizeFn);\n        titleParts = [...titleParts, tempBtn.firstChild as Node];\n      }\n    } else {\n      // istanbul ignore else @preserve\n      if (tooltipHeader) tooltipHeader.remove();\n      if (isHTMLElement(btnClose)) {\n        contentParts = [...contentParts, btnClose.cloneNode(true)];\n      } else {\n        const tempBtn = createElement(\"div\") as HTMLElement;\n        setHtml(tempBtn, btnClose, sanitizeFn);\n        contentParts = [...contentParts, tempBtn.firstChild as Node];\n      }\n    }\n  }\n\n  // fill the template with content from options / data attributes\n  // also sanitize title && content\n  // istanbul ignore else @preserve\n  if (!isTooltip) {\n    // istanbul ignore else @preserve\n    if (title && tooltipHeader) {\n      setHtml(tooltipHeader, titleParts, sanitizeFn);\n    }\n    // istanbul ignore else @preserve\n    if (content && tooltipBody) {\n      setHtml(tooltipBody, contentParts, sanitizeFn);\n    }\n    // set btn\n    self.btn = querySelector<HTMLButtonElement>(\".btn-close\", tooltip) ||\n      undefined;\n  } else if (title && tooltipBody) setHtml(tooltipBody, title, sanitizeFn);\n\n  // Bootstrap 5.2.x\n  addClass(tooltip, \"position-absolute\");\n  addClass(arrow, \"position-absolute\");\n\n  // set popover animation and placement\n  // istanbul ignore else @preserve\n  if (!hasClass(tooltip, tipString)) addClass(tooltip, tipString);\n  // istanbul ignore else @preserve\n  if (animation && !hasClass(tooltip, fadeClass)) {\n    addClass(tooltip, fadeClass);\n  }\n  // istanbul ignore else @preserve\n  if (customClass && !hasClass(tooltip, customClass)) {\n    addClass(tooltip, customClass);\n  }\n  // istanbul ignore else @preserve\n  if (!hasClass(tooltip, placementClass)) addClass(tooltip, placementClass);\n};\n\nexport default createTip;\n","import {\n  getDocument,\n  getElementStyle,\n  getParentNode,\n  isShadowRoot,\n  isTableElement,\n} from \"@thednp/shorty\";\n\n/**\n * Returns an `HTMLElement` to be used as default value for *options.container*\n * for `Tooltip` / `Popover` components.\n *\n * @see https://github.com/floating-ui/floating-ui\n *\n * @param element the target\n * @returns the query result\n */\nconst getElementContainer = (element: Element) => {\n  const majorBlockTags = [\"HTML\", \"BODY\"];\n  const containers: HTMLElement[] = [];\n  let { parentNode } = element;\n\n  while (parentNode && !majorBlockTags.includes(parentNode.nodeName)) {\n    parentNode = getParentNode(parentNode) as HTMLElement;\n    // istanbul ignore else @preserve\n    if (!(isShadowRoot(parentNode) || isTableElement(parentNode))) {\n      containers.push(parentNode as HTMLElement);\n    }\n  }\n\n  return (\n    containers.find((c, i) => {\n      if (\n        ((getElementStyle(c, \"position\") !== \"relative\" ||\n          getElementStyle(c, \"position\") === \"relative\" &&\n            c.offsetHeight !== c.scrollHeight) &&\n          containers.slice(i + 1).every((r) =>\n            getElementStyle(r, \"position\") === \"static\"\n          ))\n      ) {\n        return c;\n      }\n      return null;\n    }) ||\n    /* istanbul ignore next: optional guard */\n    getDocument(element).body\n  );\n};\n\nexport default getElementContainer;\n","/* Native JavaScript for Bootstrap 5 | Tooltip\n---------------------------------------------- */\nimport {\n  addClass,\n  ariaDescribedBy,\n  closest,\n  createCustomEvent,\n  dispatchEvent,\n  emulateTransitionEnd,\n  focus,\n  focusEvent,\n  focusinEvent,\n  focusoutEvent,\n  getAttribute,\n  getDocument,\n  getElementStyle,\n  getInstance,\n  getUID,\n  getWindow,\n  hasAttribute,\n  hasClass,\n  isApple,\n  mouseclickEvent,\n  mousedownEvent,\n  mouseenterEvent,\n  mousehoverEvent,\n  mouseleaveEvent,\n  ObjectAssign,\n  passiveHandler,\n  removeAttribute,\n  removeClass,\n  setAttribute,\n  Timer,\n  toLowerCase,\n  TouchEvent,\n  touchstartEvent,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\nimport PositionObserver from \"@thednp/position-observer\";\n\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport dataOriginalTitle from \"~/strings/dataOriginalTitle\";\nimport showClass from \"~/strings/showClass\";\nimport tooltipString from \"~/strings/tooltipString\";\nimport tooltipComponent from \"~/strings/tooltipComponent\";\nimport popoverString from \"~/strings/popoverString\";\nimport popoverComponent from \"~/strings/popoverComponent\";\nimport modalString from \"~/strings/modalString\";\nimport offcanvasString from \"~/strings/offcanvasString\";\n\nimport styleTip from \"~/util/styleTip\";\nimport createTip from \"~/util/createTip\";\nimport { appendPopup, hasPopup, removePopup } from \"~/util/popupContainer\";\nimport getElementContainer from \"~/util/getElementContainer\";\nimport tooltipDefaults from \"~/util/tooltipDefaults\";\nimport BaseComponent from \"./base-component\";\nimport type { TooltipEvent, TooltipOptions } from \"~/interface/tooltip\";\nimport type { PopoverEvent, PopoverOptions } from \"~/interface/popover\";\n\n// TOOLTIP PRIVATE GC\n// ==================\nconst tooltipSelector =\n  `[${dataBsToggle}=\"${tooltipString}\"],[data-tip=\"${tooltipString}\"]`;\nconst titleAttr = \"title\";\n\n/**\n * Static method which returns an existing `Tooltip` instance associated\n * to a target `Element`.\n */\nlet getTooltipInstance = (element: Element) =>\n  getInstance<Tooltip>(element, tooltipComponent);\n\n/**\n * A `Tooltip` initialization callback.\n */\nconst tooltipInitCallback = (element: Element) => new Tooltip(element);\n\n// TOOLTIP PRIVATE METHODS\n// =======================\n/**\n * Removes the tooltip from the DOM.\n *\n * @param self the `Tooltip` instance\n */\nconst removeTooltip = (self: Tooltip) => {\n  const { element, tooltip, container } = self;\n  removeAttribute(element, ariaDescribedBy);\n  removePopup(\n    tooltip,\n    container,\n  );\n};\n\n/**\n * Check if container contains the tooltip.\n *\n * @param self Tooltip\n */\nconst hasTip = (self: Tooltip): boolean | undefined => {\n  const { tooltip, container } = self;\n\n  return tooltip &&\n    hasPopup(tooltip, container);\n};\n\n/**\n * Executes after the instance has been disposed.\n *\n * @param self the `Tooltip` instance\n * @param callback the parent dispose callback\n */\nconst disposeTooltipComplete = (self: Tooltip, callback?: () => void) => {\n  const { element } = self;\n  self._toggleEventListeners();\n\n  // istanbul ignore else @preserve\n  if (\n    hasAttribute(element, dataOriginalTitle) && self.name === tooltipComponent\n  ) {\n    toggleTooltipTitle(self);\n  }\n  // istanbul ignore else @preserve\n  if (callback) callback();\n};\n\n/**\n * Toggles on/off the special `Tooltip` event listeners.\n *\n * @param self the `Tooltip` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleTooltipAction = (self: Tooltip, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element } = self;\n\n  action(\n    getDocument(element),\n    touchstartEvent,\n    self.handleTouch,\n    passiveHandler,\n  );\n};\n\n/**\n * Executes after the tooltip was shown to the user.\n *\n * @param self the `Tooltip` instance\n */\nconst tooltipShownAction = (self: Tooltip) => {\n  const { element } = self;\n  const shownTooltipEvent = createCustomEvent<\n    Record<string, never>,\n    TooltipEvent | PopoverEvent\n  >(\n    `shown.bs.${toLowerCase(self.name)}`,\n  );\n\n  toggleTooltipAction(self, true);\n  dispatchEvent(element, shownTooltipEvent);\n  Timer.clear(element, \"in\");\n};\n\n/**\n * Executes after the tooltip was hidden to the user.\n *\n * @param self the `Tooltip` instance\n */\nconst tooltipHiddenAction = (self: Tooltip) => {\n  const { element } = self;\n  const hiddenTooltipEvent = createCustomEvent<\n    Record<string, never>,\n    TooltipEvent | PopoverEvent\n  >(\n    `hidden.bs.${toLowerCase(self.name)}`,\n  );\n\n  toggleTooltipAction(self);\n  removeTooltip(self);\n  dispatchEvent(element, hiddenTooltipEvent);\n\n  Timer.clear(element, \"out\");\n};\n\n/**\n * Toggles on/off the `Tooltip` event listeners that hide/update the tooltip.\n *\n * @param self the `Tooltip` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleTooltipOpenHandlers = (self: Tooltip, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element, tooltip } = self;\n  const parentModal = closest(element, `.${modalString}`);\n  const parentOffcanvas = closest(element, `.${offcanvasString}`);\n\n  if (add) {\n    [element, tooltip]\n      .forEach((target) => self._observer.observe(target));\n  } else self._observer.disconnect();\n\n  // dismiss tooltips inside modal / offcanvas\n  if (parentModal) {\n    action(parentModal, `hide.bs.${modalString}`, self.handleHide);\n  }\n  if (parentOffcanvas) {\n    action(parentOffcanvas, `hide.bs.${offcanvasString}`, self.handleHide);\n  }\n};\n\n/**\n * Toggles the `title` and `data-original-title` attributes.\n *\n * @param self the `Tooltip` instance\n * @param content when `true`, event listeners are added\n */\nconst toggleTooltipTitle = (self: Tooltip, content?: string) => {\n  // [0 - add, 1 - remove] | [0 - remove, 1 - add]\n  const titleAtt = [dataOriginalTitle, titleAttr];\n  const { element } = self;\n\n  setAttribute(\n    element,\n    titleAtt[content ? 0 : 1],\n    content ||\n      getAttribute(element, titleAtt[0]) ||\n      // istanbul ignore next @preserve\n      \"\",\n  );\n  removeAttribute(element, titleAtt[content ? 1 : 0]);\n};\n\n// TOOLTIP DEFINITION\n// ==================\n/** Creates a new `Tooltip` instance. */\nexport default class Tooltip extends BaseComponent {\n  static selector = tooltipSelector;\n  static init = tooltipInitCallback;\n  static getInstance = getTooltipInstance;\n  static styleTip = styleTip;\n  declare element: Element & HTMLOrSVGElement;\n  declare options: TooltipOptions;\n  declare btn?: HTMLElement;\n  declare tooltip: HTMLElement;\n  declare container: HTMLElement;\n  declare offsetParent: Element | Window;\n  declare arrow: HTMLElement;\n  declare enabled: boolean;\n  declare id: string;\n  declare _observer: PositionObserver;\n\n  /**\n   * @param target the target element\n   * @param config the instance options\n   */\n  constructor(target: Element | string, config?: Partial<TooltipOptions>) {\n    super(target, config);\n\n    const { element } = this;\n    const isTooltip = this.name === tooltipComponent;\n    const tipString = isTooltip ? tooltipString : popoverString;\n    const tipComponent = isTooltip ? tooltipComponent : popoverComponent;\n\n    // istanbul ignore next @preserve: this is to set Popover too\n    getTooltipInstance = <T extends Tooltip>(elem: Element) =>\n      getInstance<T>(elem, tipComponent);\n\n    // additional properties\n    this.enabled = true;\n    /** Set unique ID for `aria-describedby`. */\n    this.id = `${tipString}-${getUID(element, tipString)}`;\n\n    // instance options\n    const { options } = this;\n\n    // invalidate\n    // istanbul ignore else @preserve\n    if (((!options.title && isTooltip) || (!isTooltip && !options.content))) {\n      return;\n    }\n\n    // reset default options\n    ObjectAssign(tooltipDefaults, { titleAttr: \"\" });\n\n    // set title attributes and add event listeners\n    // istanbul ignore else @preserve\n    if (\n      hasAttribute(element, titleAttr) && isTooltip &&\n      typeof options.title === \"string\"\n    ) {\n      toggleTooltipTitle(this, options.title);\n    }\n\n    // set containers\n    const container = getElementContainer(element);\n    const offsetParent = [\"sticky\", \"fixed\", \"relative\"].some(\n        (position) =>\n          getElementStyle(container, \"position\") ===\n            position,\n      )\n      ? container\n      : getWindow(element);\n\n    this.container = container;\n    this.offsetParent = offsetParent;\n\n    // create tooltip here\n    createTip(this);\n\n    /* istanbul ignore if @preserve */\n    if (!this.tooltip) return;\n\n    // create observer\n    this._observer = new PositionObserver(() => this.update());\n\n    // attach events\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return tooltipComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return tooltipDefaults;\n  }\n\n  // TOOLTIP PUBLIC METHODS\n  // ======================\n  /** Handles the focus event on iOS. */\n  // istanbul ignore next @preserve - impossible to test without Apple device\n  handleFocus = () => focus(this.element as HTMLElement);\n  /** Shows the tooltip. */\n  handleShow = () => this.show();\n  show() {\n    const { options, tooltip, element, container, id } = this;\n    const { animation } = options;\n    const outTimer = Timer.get(element, \"out\");\n\n    Timer.clear(element, \"out\");\n\n    if (tooltip && !outTimer && !hasTip(this)) {\n      Timer.set(\n        element,\n        () => {\n          const showTooltipEvent = createCustomEvent<\n            Record<string, never>,\n            TooltipEvent | PopoverEvent\n          >(\n            `show.bs.${toLowerCase(this.name)}`,\n          );\n          dispatchEvent(element, showTooltipEvent);\n\n          // istanbul ignore else @preserve\n          if (!showTooltipEvent.defaultPrevented) {\n            // append to container\n            appendPopup(tooltip, container);\n\n            setAttribute(element, ariaDescribedBy, `#${id}`);\n\n            this.update();\n            toggleTooltipOpenHandlers(this, true);\n\n            // istanbul ignore else @preserve\n            if (!hasClass(tooltip, showClass)) addClass(tooltip, showClass);\n            // istanbul ignore else @preserve\n            if (animation) {\n              emulateTransitionEnd(tooltip, () => tooltipShownAction(this));\n            } else tooltipShownAction(this);\n          }\n        },\n        17,\n        \"in\",\n      );\n    }\n  }\n\n  /** Hides the tooltip. */\n  handleHide = () => this.hide();\n  hide() {\n    const { options, tooltip, element } = this;\n    const { animation, delay } = options;\n\n    Timer.clear(element, \"in\");\n\n    // istanbul ignore else @preserve\n    if (tooltip && hasTip(this)) {\n      Timer.set(\n        element,\n        () => {\n          const hideTooltipEvent = createCustomEvent<\n            Record<string, never>,\n            TooltipEvent | PopoverEvent\n          >(\n            `hide.bs.${toLowerCase(this.name)}`,\n          );\n          dispatchEvent(element, hideTooltipEvent);\n\n          // istanbul ignore else @preserve\n          if (!hideTooltipEvent.defaultPrevented) {\n            this.update();\n            removeClass(tooltip, showClass);\n            toggleTooltipOpenHandlers(this);\n\n            // istanbul ignore else @preserve\n            if (animation) {\n              emulateTransitionEnd(tooltip, () => tooltipHiddenAction(this));\n            } else tooltipHiddenAction(this);\n          }\n        },\n        delay + 17,\n        \"out\",\n      );\n    }\n  }\n\n  /** Updates the tooltip position. */\n  update = () => {\n    styleTip(this);\n  };\n\n  /** Toggles the tooltip visibility. */\n  toggle = () => {\n    const { tooltip } = this;\n\n    if (tooltip && !hasTip(this)) this.show();\n    else this.hide();\n  };\n\n  /** Enables the tooltip. */\n  enable() {\n    const { enabled } = this;\n    // istanbul ignore else @preserve\n    if (!enabled) {\n      this._toggleEventListeners(true);\n      this.enabled = !enabled;\n    }\n  }\n\n  /** Disables the tooltip. */\n  disable() {\n    const { tooltip, enabled } = this;\n    // istanbul ignore else @preserve\n    if (enabled) {\n      if (tooltip && hasTip(this)) this.hide();\n      this._toggleEventListeners();\n      this.enabled = !enabled;\n    }\n  }\n\n  /** Toggles the `disabled` property. */\n  toggleEnabled() {\n    if (!this.enabled) this.enable();\n    else this.disable();\n  }\n\n  /**\n   * Handles the `touchstart` event listener for `Tooltip`\n   *\n   * @this {Tooltip}\n   * @param {TouchEvent} e the `Event` object\n   */\n  handleTouch = ({ target }: TouchEvent) => {\n    const { tooltip, element } = this;\n\n    // istanbul ignore if @preserve\n    if (\n      (tooltip && tooltip.contains(target)) ||\n      target === element ||\n      (target && element.contains(target))\n    ) {\n      // smile for ESLint\n    } else {\n      this.hide();\n    }\n  };\n\n  /**\n   * Toggles on/off the `Tooltip` event listeners.\n   *\n   * @param add when `true`, event listeners are added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    // btn is only for dismissible popover\n    const { element, options, btn } = this;\n    const { trigger } = options;\n    const isPopover = this.name !== tooltipComponent;\n    const dismissible = isPopover && (options as PopoverOptions).dismissible\n      ? true\n      : false;\n\n    // istanbul ignore else @preserve\n    if (!trigger.includes(\"manual\")) {\n      this.enabled = !!add;\n\n      const triggerOptions = trigger.split(\" \");\n\n      triggerOptions.forEach((tr) => {\n        // istanbul ignore else @preserve\n        if (tr === mousehoverEvent) {\n          action(element, mousedownEvent, this.handleShow);\n          action(element, mouseenterEvent, this.handleShow);\n\n          // istanbul ignore else @preserve\n          if (!dismissible) {\n            action(element, mouseleaveEvent, this.handleHide);\n            action(\n              getDocument(element),\n              touchstartEvent,\n              this.handleTouch,\n              passiveHandler,\n            );\n          }\n        } else if (tr === mouseclickEvent) {\n          action(element, tr, !dismissible ? this.toggle : this.handleShow);\n        } else if (tr === focusEvent) {\n          action(element, focusinEvent, this.handleShow);\n          // istanbul ignore else @preserve\n          if (!dismissible) action(element, focusoutEvent, this.handleHide);\n          // istanbul ignore else @preserve\n          if (isApple()) {\n            action(element, mouseclickEvent, this.handleFocus);\n          }\n        }\n        // istanbul ignore else @preserve\n        if (dismissible && btn) {\n          action(btn, mouseclickEvent, this.handleHide);\n        }\n      });\n    }\n  };\n\n  /** Removes the `Tooltip` from the target element. */\n  dispose() {\n    const { tooltip, options } = this;\n    const clone = { ...this, name: this.name };\n    const callback = () =>\n      setTimeout(\n        () => disposeTooltipComplete(clone, () => super.dispose()),\n        17,\n      );\n\n    if (options.animation && hasTip(clone)) {\n      this.options.delay = 0; // reset delay\n      this.hide();\n      emulateTransitionEnd(tooltip, callback);\n    } else {\n      callback();\n    }\n  }\n}\n","/* Native JavaScript for Bootstrap 5 | Popover\n---------------------------------------------- */\nimport { focus, getInstance, ObjectAssign } from \"@thednp/shorty\";\n\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport popoverString from \"~/strings/popoverString\";\nimport popoverComponent from \"~/strings/popoverComponent\";\n\nimport getTipTemplate from \"~/util/getTipTemplate\";\nimport styleTip from \"~/util/styleTip\";\nimport tooltipDefaults from \"~/util/tooltipDefaults\";\nimport Tooltip from \"./tooltip\";\n\nimport type { PopoverOptions /* , PopoverEvent */ } from \"~/interface/popover\";\n\n// POPOVER PRIVATE GC\n// ==================\nconst popoverSelector =\n  `[${dataBsToggle}=\"${popoverString}\"],[data-tip=\"${popoverString}\"]`;\n\nconst popoverDefaults: PopoverOptions = ObjectAssign({}, tooltipDefaults, {\n  template: getTipTemplate(popoverString),\n  content: \"\",\n  dismissible: false,\n  btnClose:\n    '<button class=\"btn-close position-absolute top-0 end-0 m-1\" aria-label=\"Close\"></button>',\n});\n\n/**\n * Static method which returns an existing `Popover` instance associated\n * to a target `Element`.\n */\nconst getPopoverInstance = (element: Element) =>\n  getInstance<Popover>(element, popoverComponent);\n\n/**\n * A `Popover` initialization callback.\n */\nconst popoverInitCallback = (element: Element) => new Popover(element);\n\n// POPOVER DEFINITION\n// ==================\n/** Returns a new `Popover` instance. */\nexport default class Popover extends Tooltip {\n  static selector = popoverSelector;\n  static init = popoverInitCallback;\n  static getInstance = getPopoverInstance;\n  static styleTip = styleTip;\n  declare options: PopoverOptions;\n\n  /**\n   * @param target the target element\n   * @param config the instance options\n   */\n  constructor(target: Element | string, config?: Partial<PopoverOptions>) {\n    super(target, config);\n  }\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return popoverComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return popoverDefaults;\n  }\n\n  /* extend original `show()` */\n  show = () => {\n    super.show();\n    // btn only exists within dismissible popover\n    const { options, btn } = this;\n    // istanbul ignore else @preserve\n    if (options.dismissible && btn) setTimeout(() => focus(btn), 17);\n  };\n}\n","/** @type {string} */\nconst scrollspyString = \"scrollspy\";\nexport default scrollspyString;\n","/** @type {string} */\nconst scrollspyComponent = \"ScrollSpy\";\nexport default scrollspyComponent;\n","/* Native JavaScript for Bootstrap 5 | ScrollSpy\n------------------------------------------------ */\nimport {\n  addClass,\n  closest,\n  createCustomEvent,\n  dispatchEvent,\n  getAttribute,\n  getBoundingClientRect,\n  getDocument,\n  getDocumentElement,\n  getElementById,\n  getElementsByTagName,\n  getInstance,\n  hasClass,\n  mouseclickEvent,\n  MouseEvent,\n  querySelector,\n  removeClass,\n} from \"@thednp/shorty\";\n\nimport PositionObserver from \"@thednp/position-observer\";\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport activeClass from \"~/strings/activeClass\";\nimport scrollspyString from \"~/strings/scrollspyString\";\nimport scrollspyComponent from \"~/strings/scrollspyComponent\";\nimport isDisabled from \"~/util/isDisabled\";\nimport BaseComponent from \"./base-component\";\nimport { ScrollSpyEvent, ScrollSpyOptions } from \"~/interface/scrollspy\";\n\n// SCROLLSPY PRIVATE GC\n// ====================\nconst scrollspySelector = '[data-bs-spy=\"scroll\"]';\nconst scrollSpyAnchorSelector = \"[href]\";\n\nconst scrollspyDefaults: Partial<ScrollSpyOptions> = {\n  offset: 10,\n  target: undefined,\n};\n\ntype ScrollSpyEventProps = {\n  relatedTarget: HTMLElement;\n};\n\n/**\n * Static method which returns an existing `ScrollSpy` instance associated\n * to a target `Element`.\n */\nconst getScrollSpyInstance = (element: Element) =>\n  getInstance<ScrollSpy>(element, scrollspyComponent);\n\n/**\n * A `ScrollSpy` initialization callback.\n */\nconst scrollspyInitCallback = (element: Element) => new ScrollSpy(element);\n\n// SCROLLSPY CUSTOM EVENT\n// ======================\nconst activateScrollSpy = createCustomEvent<\n  ScrollSpyEventProps,\n  ScrollSpyEvent\n>(`activate.bs.${scrollspyString}`);\n\n// SCROLLSPY PRIVATE METHODS\n// =========================\n/**\n * Update the state of all items.\n *\n * @param self the `ScrollSpy` instance\n */\nconst updateSpyTargets = (self: ScrollSpy) => {\n  const {\n    target,\n    _itemsLength,\n    _observables,\n  } = self;\n\n  const links = getElementsByTagName<HTMLAnchorElement>(\"A\", target);\n  const doc = getDocument(target);\n\n  // only update items once or with each mutation\n  // istanbul ignore else @preserve\n  if (!links.length || _itemsLength === _observables.size) return;\n  // reset arrays & update\n  _observables.clear();\n\n  Array.from(links).forEach((link) => {\n    const hash = getAttribute(link, \"href\")?.slice(1);\n    const targetItem = hash?.length ? doc.getElementById(hash) : null;\n\n    if (targetItem && !isDisabled(link)) {\n      self._observables.set(targetItem, link);\n    }\n  });\n  self._itemsLength = self._observables.size;\n};\n\n/**\n * Clear all items of the target.\n *\n * @param target a single item\n */\nconst clear = (target: Element) => {\n  Array.from(getElementsByTagName<HTMLAnchorElement>(\"A\", target)).forEach(\n    (item) => {\n      if (hasClass(item, activeClass)) removeClass(item, activeClass);\n    },\n  );\n};\n\n/**\n * Activates a new item.\n *\n * @param self the `ScrollSpy` instance\n * @param item a single item\n */\nconst activate = (self: ScrollSpy, item: HTMLElement) => {\n  const { target, element } = self;\n\n  // istanbul ignore else @preserve\n  clear(target);\n\n  self._activeItem = item;\n  addClass(item, activeClass);\n\n  // activate all parents\n  let parentItem = item;\n  while (parentItem !== target) {\n    parentItem = parentItem.parentElement as HTMLElement;\n    if (\n      [\"nav\", \"dropdown-menu\", \"list-group\"].some((c) =>\n        hasClass(parentItem, c)\n      )\n    ) {\n      const parentLink = parentItem.previousElementSibling as\n        | HTMLElement\n        | null;\n\n      // istanbul ignore else @preserve\n      if (parentLink && !hasClass(parentLink, activeClass)) {\n        addClass(parentLink, activeClass);\n      }\n    }\n  }\n\n  // dispatch\n  activateScrollSpy.relatedTarget = item;\n  dispatchEvent(element, activateScrollSpy);\n};\n\nconst getOffset = (self: ScrollSpy, target: HTMLElement) => {\n  const { scrollTarget, element, options } = self;\n\n  return (scrollTarget !== element\n    ? getBoundingClientRect(target).top + scrollTarget.scrollTop\n    : target.offsetTop) - (options.offset as number || 10);\n};\n\n// SCROLLSPY DEFINITION\n// ====================\n/** Returns a new `ScrollSpy` instance. */\nexport default class ScrollSpy extends BaseComponent {\n  static selector = scrollspySelector;\n  static init = scrollspyInitCallback;\n  static getInstance = getScrollSpyInstance;\n  declare element: HTMLElement;\n  declare options: ScrollSpyOptions;\n  declare target: HTMLElement;\n  declare scrollTarget: HTMLElement;\n  declare _itemsLength: number;\n  declare _activeItem: HTMLElement | null;\n  declare _observables: Map<HTMLElement, HTMLElement>;\n  declare _observer: PositionObserver; //| IntersectionObserver;\n\n  /**\n   * @param target the target element\n   * @param config the instance options\n   */\n  constructor(\n    target: Element | string,\n    config?: Partial<ScrollSpyOptions>,\n  ) {\n    super(target, config);\n\n    // initialization element & options\n    const { element, options } = this;\n\n    // get target\n    const spyTarget = querySelector(\n      options.target,\n      getDocument(element),\n    );\n\n    // invalidate\n    if (!spyTarget) return;\n    this.target = spyTarget;\n\n    // set initial state\n    this.scrollTarget = element.clientHeight < element.scrollHeight\n      ? element\n      : getDocumentElement(element);\n    this._observables = new Map();\n\n    // run an initial burst, we need to know the targets\n    this.refresh();\n    // updateSpyTargets(this);\n\n    // create observer\n    this._observer = new PositionObserver(() => {\n      requestAnimationFrame(() => this.refresh());\n    }, {\n      root: this.scrollTarget,\n    });\n\n    // add event handlers\n    this._toggleEventListeners(true);\n  }\n\n  /* eslint-disable */\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return scrollspyComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return scrollspyDefaults;\n  }\n  /* eslint-enable */\n\n  // SCROLLSPY PUBLIC METHODS\n  // ========================\n  /** Updates all items. */\n  refresh = () => {\n    const { target, scrollTarget } = this;\n    // check if target is visible and invalidate\n    // istanbul ignore if @preserve\n    if (!target || target.offsetHeight === 0) return;\n\n    updateSpyTargets(this);\n    const { _itemsLength, _observables, _activeItem } = this;\n\n    // istanbul ignore if @preserve\n    if (!_itemsLength) return;\n    const entries = _observables.entries().toArray();\n\n    const { scrollTop, scrollHeight, clientHeight } = scrollTarget;\n\n    if (scrollTop >= scrollHeight - clientHeight) {\n      const newActiveItem = entries[_itemsLength - 1]?.[1];\n\n      // istanbul ignore else @preserve\n      if (_activeItem !== newActiveItem) activate(this, newActiveItem);\n      return;\n    }\n\n    const firstOffset = entries[0]?.[0]\n      ? getOffset(this, entries[0][0])\n      : /* istanbul ignore next */ null;\n    if (\n      firstOffset !== null && scrollTop < firstOffset &&\n      firstOffset > 0\n    ) {\n      this._activeItem = null;\n      clear(target);\n      return;\n    }\n\n    for (let i = 0; i < _itemsLength; i += 1) {\n      const [targetItem, item] = entries[i];\n      const offsetTop = getOffset(this, targetItem);\n      const nextTarget = entries[i + 1]?.[0];\n      const nextOffsetTop = nextTarget\n        ? getOffset(this, nextTarget)\n        : /* istanbul ignore next */ null;\n\n      // istanbul ignore else @preserve\n      if (\n        _activeItem !== item &&\n        scrollTop >= offsetTop &&\n        (nextOffsetTop === null || scrollTop < nextOffsetTop)\n      ) {\n        activate(this, item);\n        break;\n      }\n    }\n  };\n\n  /**\n   * This method provides an event handle\n   * for scrollspy\n   * @param e the event listener object\n   */\n  _scrollTo = (e: MouseEvent<HTMLAnchorElement>) => {\n    const item = closest(e.target, scrollSpyAnchorSelector);\n    const hash = item && getAttribute(item, \"href\")?.slice(1);\n    const targetItem = hash && getElementById(hash, this.target);\n\n    // istanbul ignore else @preserve\n    if (targetItem) {\n      this.scrollTarget.scrollTo({\n        top: targetItem.offsetTop,\n        behavior: \"smooth\",\n      });\n      e.preventDefault();\n    }\n  };\n\n  /**\n   * Toggles on/off the component observer.\n   *\n   * @param self the ScrollSpy instance\n   * @param add when `true`, listener is added\n   */\n  _toggleEventListeners = (\n    add?: boolean,\n  ) => {\n    const { target, _observables, _observer, _scrollTo } = this;\n    const action = add ? addListener : removeListener;\n    action(target, mouseclickEvent, _scrollTo);\n\n    if (add) {\n      _observables?.forEach((_, targetItem) => _observer.observe(targetItem));\n    } else _observer.disconnect();\n  };\n\n  /** Removes `ScrollSpy` from the target element. */\n  dispose() {\n    this._toggleEventListeners();\n    super.dispose();\n  }\n}\n","/** @type {string} */\nconst tabString = \"tab\";\nexport default tabString;\n","/** @type {string} */\nconst tabComponent = \"Tab\";\nexport default tabComponent;\n","/* Native JavaScript for Bootstrap 5 | Tab\n------------------------------------------ */\nimport {\n  addClass,\n  ariaSelected,\n  closest,\n  createCustomEvent,\n  dispatchEvent,\n  emulateTransitionEnd,\n  getElementsByClassName,\n  getInstance,\n  hasClass,\n  isHTMLElement,\n  mouseclickEvent,\n  MouseEvent,\n  querySelector,\n  reflow,\n  removeClass,\n  setAttribute,\n  Timer,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport collapsingClass from \"~/strings/collapsingClass\";\nimport activeClass from \"~/strings/activeClass\";\nimport fadeClass from \"~/strings/fadeClass\";\nimport showClass from \"~/strings/showClass\";\nimport dropdownClasses from \"~/strings/dropdownClasses\";\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport tabString from \"~/strings/tabString\";\nimport tabComponent from \"~/strings/tabComponent\";\nimport getTargetElement from \"~/util/getTargetElement\";\nimport BaseComponent from \"./base-component\";\nimport type { /* TabOptions, */ TabEvent } from \"~/interface/tab\";\n\n// TAB PRIVATE GC\n// ================\nconst tabSelector = `[${dataBsToggle}=\"${tabString}\"]`;\n\n/**\n * Static method which returns an existing `Tab` instance associated\n * to a target `Element`.\n */\nconst getTabInstance = (element: Element) =>\n  getInstance<Tab>(element, tabComponent);\n\n/** A `Tab` initialization callback. */\nconst tabInitCallback = (element: Element) => new Tab(element);\n\ntype TabEventProps = {\n  relatedTarget: Element & EventTarget | undefined;\n};\n\n// TAB CUSTOM EVENTS\n// =================\nconst showTabEvent = createCustomEvent<TabEventProps, TabEvent>(\n  `show.bs.${tabString}`,\n);\nconst shownTabEvent = createCustomEvent<TabEventProps, TabEvent>(\n  `shown.bs.${tabString}`,\n);\nconst hideTabEvent = createCustomEvent<TabEventProps, TabEvent>(\n  `hide.bs.${tabString}`,\n);\nconst hiddenTabEvent = createCustomEvent<TabEventProps, TabEvent>(\n  `hidden.bs.${tabString}`,\n);\n\ninterface TabPrivate {\n  tab: HTMLElement | null;\n  content: HTMLElement | null;\n  currentHeight: number;\n  nextHeight: number;\n}\n\n/**\n * Stores the current active tab and its content\n * for a given `.nav` element.\n */\nconst tabPrivate: Map<HTMLElement, TabPrivate> = new Map();\n\n// TAB PRIVATE METHODS\n// ===================\n/**\n * Executes after tab transition has finished.\n *\n * @param self the `Tab` instance\n */\nconst triggerTabEnd = (self: Tab) => {\n  const { tabContent, nav } = self;\n\n  // istanbul ignore else @preserve\n  if (tabContent && hasClass(tabContent, collapsingClass)) {\n    tabContent.style.height = \"\";\n    removeClass(tabContent, collapsingClass);\n  }\n\n  // istanbul ignore else @preserve\n  if (nav) Timer.clear(nav);\n};\n\n/**\n * Executes before showing the tab content.\n *\n * @param self the `Tab` instance\n */\nconst triggerTabShow = (self: Tab) => {\n  const { element, tabContent, content: nextContent, nav } = self;\n  const { tab } = (isHTMLElement(nav) && tabPrivate.get(nav)) ||\n    // istanbul ignore next @preserve\n    { tab: null };\n\n  // istanbul ignore else @preserve\n  if (tabContent && nextContent && hasClass(nextContent, fadeClass)) {\n    const { currentHeight, nextHeight } = tabPrivate.get(element) ||\n      // istanbul ignore next @preserve\n      { currentHeight: 0, nextHeight: 0 };\n    // istanbul ignore else @preserve: vitest won't validate this branch\n    if (currentHeight !== nextHeight) {\n      // enables height animation\n      setTimeout(() => {\n        tabContent.style.height = `${nextHeight}px`;\n        reflow(tabContent);\n        emulateTransitionEnd(tabContent, () => triggerTabEnd(self));\n      }, 50);\n    } else {\n      triggerTabEnd(self);\n    }\n  } else if (nav) Timer.clear(nav);\n\n  shownTabEvent.relatedTarget = tab as HTMLElement | undefined;\n\n  dispatchEvent(element, shownTabEvent);\n};\n\n/**\n * Executes before hiding the tab.\n *\n * @param self the `Tab` instance\n */\nconst triggerTabHide = (self: Tab) => {\n  const { element, content: nextContent, tabContent, nav } = self;\n  const { tab, content } = (nav && tabPrivate.get(nav)) ||\n    // istanbul ignore next @preserve\n    { tab: null, content: null };\n  let currentHeight = 0;\n\n  // istanbul ignore else @preserve\n  if (tabContent && nextContent && hasClass(nextContent, fadeClass)) {\n    [content, nextContent].forEach((c) => {\n      // istanbul ignore else @preserve\n      if (c) addClass(c, \"overflow-hidden\");\n    });\n    currentHeight = content\n      ? content.scrollHeight\n      : /* istanbul ignore next @preserve */ 0;\n  }\n\n  // update relatedTarget and dispatch event\n  showTabEvent.relatedTarget = tab as HTMLElement | undefined;\n  hiddenTabEvent.relatedTarget = element as HTMLElement;\n  dispatchEvent(element, showTabEvent);\n\n  // istanbul ignore if @preserve\n  if (showTabEvent.defaultPrevented) return;\n  // istanbul ignore else @preserve\n  if (nextContent) addClass(nextContent, activeClass);\n  // istanbul ignore else @preserve\n  if (content) removeClass(content, activeClass);\n\n  // istanbul ignore else @preserve\n  if (tabContent && nextContent && hasClass(nextContent, fadeClass)) {\n    const nextHeight = nextContent.scrollHeight;\n    tabPrivate.set(element, {\n      currentHeight,\n      nextHeight,\n      tab: null,\n      content: null,\n    });\n\n    addClass(tabContent, collapsingClass);\n    tabContent.style.height = `${currentHeight}px`;\n    reflow(tabContent);\n    [content, nextContent].forEach((c) => {\n      // istanbul ignore else @preserve\n      if (c) removeClass(c, \"overflow-hidden\");\n    });\n  }\n\n  if (nextContent && nextContent && hasClass(nextContent, fadeClass)) {\n    setTimeout(() => {\n      addClass(nextContent, showClass);\n      emulateTransitionEnd(nextContent, () => {\n        triggerTabShow(self);\n      });\n    }, 1);\n  } else {\n    // istanbul ignore else @preserve\n    if (nextContent) addClass(nextContent, showClass);\n    triggerTabShow(self);\n  }\n\n  // istanbul ignore else @preserve\n  if (tab) dispatchEvent(tab, hiddenTabEvent);\n};\n\n/**\n * Returns the current active tab and its target content.\n *\n * @param self the `Tab` instance\n * @returns the query result\n */\nconst getActiveTab = (\n  self: Tab,\n): { tab: HTMLElement | null; content: HTMLElement | null } => {\n  const { nav } = self;\n  // istanbul ignore next @preserve\n  if (!isHTMLElement(nav)) {\n    return { tab: null, content: null };\n  }\n\n  const activeTabs = getElementsByClassName<HTMLElement>(\n    activeClass,\n    nav,\n  );\n  let tab: HTMLElement | null = null;\n  // istanbul ignore else @preserve\n  if (\n    activeTabs.length === 1 &&\n    !dropdownClasses.some((c) =>\n      hasClass(activeTabs[0].parentElement as HTMLElement, c)\n    )\n  ) {\n    [tab] = activeTabs;\n  } else if (activeTabs.length > 1) {\n    tab = activeTabs[activeTabs.length - 1];\n  }\n  const content = isHTMLElement(tab) ? getTargetElement(tab) : null;\n  return { tab, content };\n};\n\n/**\n * Returns a parent dropdown.\n *\n * @param element the `Tab` element\n * @returns the parent dropdown\n */\nconst getParentDropdown = (element?: HTMLElement) => {\n  // istanbul ignore next @preserve\n  if (!isHTMLElement(element)) return null;\n  const dropdown = closest(element, `.${dropdownClasses.join(\",.\")}`);\n  return dropdown\n    ? querySelector<HTMLElement>(`.${dropdownClasses[0]}-toggle`, dropdown)\n    : null;\n};\n\n// TAB EVENT HANDLER\n// =================\n/**\n * Handles the `click` event listener.\n *\n * @param e the `Event` object\n */\nconst tabClickHandler = (e: MouseEvent<Element>) => {\n  const element = closest(e.target, tabSelector);\n  const self = element && getTabInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n  e.preventDefault();\n  self.show();\n};\n\n// TAB DEFINITION\n// ==============\n/** Creates a new `Tab` instance. */\nexport default class Tab extends BaseComponent {\n  static selector = tabSelector;\n  static init = tabInitCallback;\n  static getInstance = getTabInstance;\n  declare element: HTMLElement;\n  declare nav: HTMLElement | null;\n  declare content: HTMLElement | null;\n  declare tabContent: HTMLElement | null;\n  declare nextContent: HTMLElement | null;\n  declare dropdown: HTMLElement | null;\n\n  /** @param target the target element */\n  constructor(target: Element | string) {\n    super(target);\n\n    // initialization element\n    const { element } = this;\n    const content = getTargetElement(element);\n\n    // no point initializing a tab without a corresponding content\n    // istanbul ignore else @preserve\n    if (!content) return;\n\n    const nav = closest<HTMLElement>(element, \".nav\");\n    const container = closest<HTMLElement>(\n      content as HTMLElement,\n      \".tab-content\",\n    );\n\n    this.nav = nav;\n    this.content = content;\n    this.tabContent = container;\n\n    // event targets\n    this.dropdown = getParentDropdown(element);\n\n    // show first Tab instance of none is shown\n    // suggested on #432\n    const { tab } = getActiveTab(this);\n    if (nav && !tab) {\n      const firstTab = querySelector(tabSelector, nav);\n      const firstTabContent = firstTab && getTargetElement(firstTab);\n\n      // istanbul ignore else @preserve\n      if (firstTabContent) {\n        addClass(firstTab, activeClass);\n        addClass(firstTabContent, showClass);\n        addClass(firstTabContent, activeClass);\n        setAttribute(element, ariaSelected, \"true\");\n      }\n    }\n\n    // add event listener\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return tabComponent;\n  }\n\n  // TAB PUBLIC METHODS\n  // ==================\n  /** Shows the tab to the user. */\n  show() {\n    const { element, content: nextContent, nav, dropdown } = this;\n\n    // istanbul ignore else @preserve\n    if ((nav && Timer.get(nav)) || hasClass(element, activeClass)) return;\n    const { tab, content } = getActiveTab(this);\n\n    // istanbul ignore else @preserve\n    if (nav && tab) {\n      tabPrivate.set(nav, { tab, content, currentHeight: 0, nextHeight: 0 });\n    }\n\n    // update relatedTarget and dispatch\n    hideTabEvent.relatedTarget = element as HTMLElement;\n\n    // istanbul ignore if @preserve\n    if (!isHTMLElement(tab)) return;\n\n    dispatchEvent(tab, hideTabEvent);\n\n    // istanbul ignore else @preserve\n    if (hideTabEvent.defaultPrevented) return;\n\n    addClass(element, activeClass);\n    setAttribute(element, ariaSelected, \"true\");\n\n    const activeDropdown = isHTMLElement(tab) && getParentDropdown(tab);\n    if (activeDropdown && hasClass(activeDropdown, activeClass)) {\n      removeClass(activeDropdown, activeClass);\n    }\n\n    // istanbul ignore else @preserve\n    if (nav) {\n      const toggleTab = () => {\n        // istanbul ignore else @preserve\n        if (tab) {\n          removeClass(tab, activeClass);\n          setAttribute(tab, ariaSelected, \"false\");\n        }\n        if (dropdown && !hasClass(dropdown, activeClass)) {\n          addClass(dropdown, activeClass);\n        }\n      };\n\n      if (\n        content &&\n        (hasClass(content, fadeClass) ||\n          (nextContent && hasClass(nextContent, fadeClass)))\n      ) {\n        Timer.set(nav, toggleTab, 1);\n      } else toggleTab();\n    }\n\n    // istanbul ignore else @preserve\n    if (content) {\n      removeClass(content, showClass);\n      if (hasClass(content, fadeClass)) {\n        emulateTransitionEnd(content, () => triggerTabHide(this));\n      } else {\n        triggerTabHide(this);\n      }\n    }\n  }\n\n  /**\n   * Toggles on/off the `click` event listener.\n   *\n   * @param add when `true`, event listener is added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    action(this.element, mouseclickEvent, tabClickHandler);\n  };\n\n  /** Removes the `Tab` component from the target element. */\n  dispose() {\n    this._toggleEventListeners();\n    super.dispose();\n  }\n}\n","/** @type {string} */\nconst toastString = \"toast\";\nexport default toastString;\n","/** @type {string} */\nconst toastComponent = \"Toast\";\nexport default toastComponent;\n","/* Native JavaScript for Bootstrap 5 | Toast\n-------------------------------------------- */\nimport {\n  addClass,\n  createCustomEvent,\n  dispatchEvent,\n  emulateTransitionEnd,\n  focusinEvent,\n  focusoutEvent,\n  getDocument,\n  getInstance,\n  hasClass,\n  mouseclickEvent,\n  mouseenterEvent,\n  MouseEvent,\n  mouseleaveEvent,\n  querySelector,\n  querySelectorAll,\n  reflow,\n  removeClass,\n  Timer,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport fadeClass from \"~/strings/fadeClass\";\nimport showClass from \"~/strings/showClass\";\nimport dataBsDismiss from \"~/strings/dataBsDismiss\";\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport toastString from \"~/strings/toastString\";\nimport toastComponent from \"~/strings/toastComponent\";\nimport getTargetElement from \"~/util/getTargetElement\";\nimport isDisabled from \"~/util/isDisabled\";\nimport BaseComponent from \"./base-component\";\nimport { ToastEvent, ToastOptions } from \"~/interface/toast\";\n\n// TOAST PRIVATE GC\n// ================\nconst toastSelector = `.${toastString}`;\nconst toastDismissSelector = `[${dataBsDismiss}=\"${toastString}\"]`;\nconst toastToggleSelector = `[${dataBsToggle}=\"${toastString}\"]`;\nconst showingClass = \"showing\";\n/** @deprecated */\nconst hideClass = \"hide\";\n\nconst toastDefaults = {\n  animation: true,\n  autohide: true,\n  delay: 5000,\n};\n\n/**\n * Static method which returns an existing `Toast` instance associated\n * to a target `Element`.\n */\nconst getToastInstance = (element: Element) =>\n  getInstance<Toast>(element, toastComponent);\n\n/**\n * A `Toast` initialization callback.\n */\nconst toastInitCallback = (element: Element) => new Toast(element);\n\n// TOAST CUSTOM EVENTS\n// ===================\nconst showToastEvent = createCustomEvent<Record<string, never>, ToastEvent>(\n  `show.bs.${toastString}`,\n);\nconst shownToastEvent = createCustomEvent<Record<string, never>, ToastEvent>(\n  `shown.bs.${toastString}`,\n);\nconst hideToastEvent = createCustomEvent<Record<string, never>, ToastEvent>(\n  `hide.bs.${toastString}`,\n);\nconst hiddenToastEvent = createCustomEvent<Record<string, never>, ToastEvent>(\n  `hidden.bs.${toastString}`,\n);\n\n// TOAST PRIVATE METHODS\n// =====================\n/**\n * Executes after the toast is shown to the user.\n *\n * @param self the `Toast` instance\n */\nconst showToastComplete = (self: Toast) => {\n  const { element, options } = self;\n  removeClass(element, showingClass);\n  Timer.clear(element, showingClass);\n\n  dispatchEvent(element, shownToastEvent);\n  // istanbul ignore else @preserve\n  if (options.autohide) {\n    Timer.set(element, () => self.hide(), options.delay, toastString);\n  }\n};\n\n/**\n * Executes after the toast is hidden to the user.\n *\n * @param self the `Toast` instance\n */\nconst hideToastComplete = (self: Toast) => {\n  const { element } = self;\n  removeClass(element, showingClass);\n  removeClass(element, showClass);\n  addClass(element, hideClass); // B/C\n  Timer.clear(element, toastString);\n  dispatchEvent(element, hiddenToastEvent);\n};\n\n/**\n * Executes before hiding the toast.\n *\n * @param self the `Toast` instance\n */\nconst hideToast = (self: Toast) => {\n  const { element, options } = self;\n  addClass(element, showingClass);\n\n  if (options.animation) {\n    reflow(element as HTMLElement);\n    emulateTransitionEnd(element, () => hideToastComplete(self));\n  } else {\n    hideToastComplete(self);\n  }\n};\n\n/**\n * Executes before showing the toast.\n *\n * @param self the `Toast` instance\n */\nconst showToast = (self: Toast) => {\n  const { element, options } = self;\n  Timer.set(\n    element,\n    () => {\n      removeClass(element, hideClass); // B/C\n      reflow(element as HTMLElement);\n      addClass(element, showClass);\n      addClass(element, showingClass);\n\n      if (options.animation) {\n        emulateTransitionEnd(element, () => showToastComplete(self));\n      } else {\n        showToastComplete(self);\n      }\n    },\n    17,\n    showingClass,\n  );\n};\n\n// TOAST EVENT HANDLERS\n// ====================\n/**\n * Handles the `click` event listener for toast.\n *\n * @param e the `Event` object\n */\nfunction toastClickHandler(this: HTMLElement, e: Event) {\n  const element = getTargetElement(this);\n  const self = element && getToastInstance(element);\n\n  // istanbul ignore if @preserve\n  if (isDisabled(this)) return;\n  // istanbul ignore if @preserve\n  if (!self) return;\n  // istanbul ignore else @preserve\n  if (this.tagName === \"A\") e.preventDefault();\n  self.relatedTarget = this;\n  self.show();\n}\n\n/**\n * Executes when user interacts with the toast without closing it,\n * usually by hovering or focusing it.\n *\n * @param e the `Toast` instance\n */\nconst interactiveToastHandler = (e: MouseEvent<HTMLElement>) => {\n  const element = e.target;\n  const self = getToastInstance(element);\n  const { type, relatedTarget } = e;\n\n  // istanbul ignore if @preserve: a solid filter is required\n  if (\n    !self || element === relatedTarget ||\n    element.contains(relatedTarget as Node)\n  ) return;\n\n  if ([mouseenterEvent, focusinEvent].includes(type)) {\n    Timer.clear(element, toastString);\n  } else {\n    Timer.set(element, () => self.hide(), self.options.delay, toastString);\n  }\n};\n\n// TOAST DEFINITION\n// ================\n/** Creates a new `Toast` instance. */\nexport default class Toast extends BaseComponent {\n  static selector = toastSelector;\n  static init = toastInitCallback;\n  static getInstance = getToastInstance;\n  declare element: HTMLElement;\n  declare options: ToastOptions;\n  declare dismiss: HTMLElement | null;\n  declare triggers: HTMLElement[];\n  declare relatedTarget: HTMLElement | null;\n\n  /**\n   * @param target the target `.toast` element\n   * @param config the instance options\n   */\n  constructor(target: Element | string, config?: Partial<ToastOptions>) {\n    super(target, config);\n    const { element, options } = this;\n\n    // set fadeClass, the options.animation will override the markup\n    if (options.animation && !hasClass(element, fadeClass)) {\n      addClass(element, fadeClass);\n    } else if (!options.animation && hasClass(element, fadeClass)) {\n      removeClass(element, fadeClass);\n    }\n\n    // dismiss button\n    this.dismiss = querySelector<HTMLElement>(toastDismissSelector, element);\n\n    // toast can have multiple triggering elements\n    this.triggers = [\n      ...querySelectorAll<HTMLElement>(\n        toastToggleSelector,\n        getDocument(element),\n      ),\n    ].filter(\n      (btn) => getTargetElement(btn) === element,\n    );\n\n    // add event listener\n    this._toggleEventListeners(true);\n  }\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return toastComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return toastDefaults;\n  }\n  /**\n   * Returns *true* when toast is visible.\n   */\n  get isShown() {\n    return hasClass(this.element, showClass);\n  }\n\n  // TOAST PUBLIC METHODS\n  // ====================\n  /** Shows the toast. */\n  show = () => {\n    const { element, isShown } = this;\n\n    // istanbul ignore if @preserve\n    if (!element || isShown) return;\n\n    dispatchEvent(element, showToastEvent);\n    if (!showToastEvent.defaultPrevented) showToast(this);\n  };\n\n  /** Hides the toast. */\n  hide = () => {\n    const { element, isShown } = this;\n\n    // istanbul ignore if @preserve\n    if (!element || !isShown) return;\n\n    dispatchEvent(element, hideToastEvent);\n    if (!hideToastEvent.defaultPrevented) hideToast(this);\n  };\n\n  /**\n   * Toggles on/off the `click` event listener.\n   *\n   * @param add when `true`, it will add the listener\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    const { element, triggers, dismiss, options, hide } = this;\n\n    // istanbul ignore else @preserve\n    if (dismiss) {\n      action(dismiss, mouseclickEvent, hide);\n    }\n\n    // istanbul ignore else @preserve\n    if (options.autohide) {\n      [focusinEvent, focusoutEvent, mouseenterEvent, mouseleaveEvent].forEach(\n        (e) => action(element, e, interactiveToastHandler),\n      );\n    }\n    // istanbul ignore else @preserve\n    if (triggers.length) {\n      triggers.forEach((btn) => {\n        action(btn, mouseclickEvent, toastClickHandler);\n      });\n    }\n  };\n\n  /** Removes the `Toast` component from the target element. */\n  dispose() {\n    const { element, isShown } = this;\n    this._toggleEventListeners();\n    Timer.clear(element, toastString);\n\n    if (isShown) removeClass(element, showClass);\n\n    super.dispose();\n  }\n}\n","import { Data, getElementsByTagName, matches } from \"@thednp/shorty\";\n\nimport { addListener } from \"@thednp/event-listener\";\n\nimport Alert from \"../components/alert\";\nimport Button from \"../components/button\";\nimport Carousel from \"../components/carousel\";\nimport Collapse from \"../components/collapse\";\nimport Dropdown from \"../components/dropdown\";\nimport Modal from \"../components/modal\";\nimport Offcanvas from \"../components/offcanvas\";\nimport Popover from \"../components/popover\";\nimport ScrollSpy from \"../components/scrollspy\";\nimport Tab from \"../components/tab\";\nimport Toast from \"../components/toast\";\nimport Tooltip from \"../components/tooltip\";\n\nconst componentsList = new Map<\n  string,\n  | typeof Alert\n  | typeof Button\n  | typeof Carousel\n  | typeof Collapse\n  | typeof Dropdown\n  | typeof Modal\n  | typeof Offcanvas\n  | typeof Popover\n  | typeof ScrollSpy\n  | typeof Tab\n  | typeof Toast\n  | typeof Tooltip\n>();\n\ntype Component =\n  | Alert\n  | Button\n  | Carousel\n  | Collapse\n  | Dropdown\n  | Modal\n  | Offcanvas\n  | Popover\n  | ScrollSpy\n  | Tab\n  | Toast\n  | Tooltip;\n\n[\n  Alert,\n  Button,\n  Carousel,\n  Collapse,\n  Dropdown,\n  Modal,\n  Offcanvas,\n  Popover,\n  ScrollSpy,\n  Tab,\n  Toast,\n  Tooltip,\n].forEach((c) => componentsList.set(c.prototype.name, c));\n\n/**\n * Initialize all matched `Element`s for one component.\n *\n * @param callback\n * @param collection\n */\nconst initComponentDataAPI = (\n  callback: (el: Element) => Component,\n  collection: HTMLCollectionOf<Element> | Element[],\n) => {\n  [...collection].forEach((x) => callback(x));\n};\n\n/**\n * Remove one component from a target container element or all in the page.\n *\n * @param component the component name\n * @param context parent `Node`\n */\nconst removeComponentDataAPI = <T>(component: string, context: ParentNode) => {\n  const compData = Data.getAllFor(component) as Map<Element, T>;\n\n  if (compData) {\n    [...compData].forEach(([element, instance]) => {\n      if (context.contains(element)) {\n        (instance as T & { dispose: () => void }).dispose();\n      }\n    });\n  }\n};\n\n/**\n * Initialize all BSN components for a target container.\n *\n * @param context parent `Node`\n */\nexport const initCallback = (context?: ParentNode) => {\n  const lookUp = context && context.nodeName ? context : document;\n  const elemCollection = [...getElementsByTagName<Element>(\"*\", lookUp)];\n\n  componentsList.forEach((cs) => {\n    const { init, selector } = cs;\n    initComponentDataAPI(\n      init,\n      elemCollection.filter((item) => matches(item, selector)),\n    );\n  });\n};\n\n/**\n * Remove all BSN components for a target container.\n *\n * @param context parent `Node`\n */\nexport const removeDataAPI = (context?: ParentNode) => {\n  const lookUp = context && context.nodeName ? context : document;\n\n  componentsList.forEach((comp) => {\n    removeComponentDataAPI(comp.prototype.name, lookUp);\n  });\n};\n\n// Bulk initialize all components\nif (document.body) initCallback();\nelse {\n  addListener(document, \"DOMContentLoaded\", () => initCallback(), {\n    once: true,\n  });\n}\n"],"names":["Le","Oe","X","Pe","Fe","Be","ct","at","it","ft","gt","vt","Et","yt","wt","At","Ot","zt","It","Qt","je","Zt","on","sn","rn","cn","gn","Jt","Xt","M","R","xn","t","e","zn","ee","Q","n","o","j","K","oe","Qn","Kn","Gn","Zn","_n","v","u","i","E","L","to","P","N","q","G","d","T","se","Z","f","s","ie","ue","so","r","a","l","ao","F","S","uo","p","c","g","A","fo","mo","vo","bo","Eo","O","le","m","ho","yo","de","z","_","I","fe","pe","Ao","b","y","So","w","No","me","k","ve","be","Ee","we","Co","V","H","h","Ae","Se","Do","xo","Vo","Ho","Ne","Wo","Te","Qo","jo","fadeClass","showClass","dataBsDismiss","alertString","alertComponent","isDisabled","target","hasClass","getAttribute","Version","version","BaseComponent","config","element","isElement","isString","querySelector","prevInstance","Data","ObjectKeys","normalizeOptions","prop","alertSelector","alertDismissSelector","getAlertInstance","getInstance","alertInitCallback","Alert","closeAlertEvent","createCustomEvent","closedAlertEvent","alertTransitionEnd","self","dispatchEvent","dismiss","removeClass","emulateTransitionEnd","add","action","addListener","removeListener","close","mouseclickEvent","activeClass","dataBsToggle","buttonString","buttonComponent","buttonSelector","getButtonInstance","buttonInitCallback","Button","setAttribute","ariaPressed","isActive","addClass","dataBsTarget","carouselString","carouselComponent","dataBsParent","dataBsContainer","getTargetElement","targetAttr","doc","getDocument","att","attValue","closest","x","carouselSelector","carouselItem","dataBsSlideTo","dataBsSlide","pausedClass","touchEvent","isMobile","touchstartEvent","pointerdownEvent","carouselDefaults","getCarouselInstance","carouselInitCallback","Carousel","startX","currentX","endX","carouselSlideEvent","carouselSlidEvent","carouselTransitionEndHandler","index","direction","slides","options","activeItem","getActiveIndex","orientation","directionClass","Timer","carouselPauseHandler","carouselResumeHandler","carouselIndicatorHandler","newIndex","carouselControlsHandler","carouselKeyHandler","code","querySelectorAll","isElementInScrollRange","RTL","isRTL","keyArrowRight","keyArrowLeft","carouselDragHandler","carouselPointerDownHandler","controls","indicator","el","toggleCarouselTouchHandlers","carouselPointerMoveHandler","carouselPointerUpHandler","activateCarouselIndicator","indicators","pointermoveEvent","passiveHandler","pointerupEvent","getElementsByClassName","activeIndex","transitionItem","matches","ar","isPaused","idx","next","eventProperties","ObjectAssign","getElementTransitionDuration","reflow","touch","pause","interval","keyboard","mouseenterEvent","mouseleaveEvent","dragstartEvent","arrow","keydownEvent","isAnimating","clone","collapsingClass","collapseString","collapseComponent","collapseSelector","collapseToggleSelector","collapseDefaults","getCollapseInstance","collapseInitCallback","Collapse","showCollapseEvent","shownCollapseEvent","hideCollapseEvent","hiddenCollapseEvent","expandCollapse","parent","triggers","noop","setElementStyle","btn","ariaExpanded","collapseContent","collapseClickHandler","trigger","isHTMLElement","activeCollapse","activeCollapseInstance","callbackModes","errorString","PositionObserver","callback","isFunction","root","ioEntry","clientWidth","clientHeight","queue","resolve","updates","oldBoundingBox","oldIsIntersecting","left","top","ob","dropdownMenuClasses","dropdownComponent","dropdownMenuClass","isEmptyAnchor","parentAnchor","hasAttribute","dropdownString","dropupString","dropstartString","dropendString","dropdownClasses","dropdownSelector","getDropdownInstance","dropdownInitCallback","Dropdown","dropdownMenuEndClass","verticalClass","horizontalClass","menuFocusTags","dropdownDefaults","showDropdownEvent","shownDropdownEvent","hideDropdownEvent","hiddenDropdownEvent","updatedDropdownEvent","styleDropdown","menu","parentElement","offset","getElementStyle","menuEnd","style","positionClass","dropdownMargin","dropdownPosition","menuWidth","menuHeight","getDocumentElement","targetLeft","targetTop","targetWidth","targetHeight","getBoundingClientRect","leftFullExceed","rightFullExceed","bottomExceed","bottomFullExceed","topExceed","leftExceed","rightExceed","posAjust","margins","getMenuItems","firstElementChild","toggleDropdownDismiss","dropdownDismissHandler","focusEvent","dropdownPreventScroll","keyupEvent","dropdownKeyHandler","getCurrentOpenDropdown","currentParent","type","isForm","mousedownEvent","dropdownClickHandler","keyArrowDown","keyArrowUp","activeElement","open","menuItems","focus","keyEscape","currentElement","currentInstance","modalString","modalComponent","offcanvasComponent","fixedTopClass","fixedBottomClass","stickyTopClass","positionStickyClass","getFixedItems","resetScrollbar","bd","getDocumentBody","fixedItems","fixed","measureScrollbar","innerWidth","getWindow","setScrollbar","overflow","bodyPad","sbWidth","itemPadValue","itemMValue","offcanvasString","popupContainer","createElement","appendPopup","customContainer","containerIsBody","isNode","lookup","BODY","removePopup","hasPopup","backdropString","modalBackdropClass","offcanvasBackdropClass","modalActiveSelector","offcanvasActiveSelector","overlay","getCurrentOpen","toggleOverlayType","isModal","targetClass","appendOverlay","hasFade","showOverlay","hideOverlay","removeOverlay","isVisible","modalSelector","modalToggleSelector","modalDismissSelector","modalStaticClass","modalDefaults","getModalInstance","modalInitCallback","Modal","showModalEvent","shownModalEvent","hideModalEvent","hiddenModalEvent","setModalScrollbar","scrollbarWidth","scrollHeight","modalHeight","modalScrollHeight","modalOverflow","padStyle","toggleModalDismiss","modalDismissHandler","modalKeyHandler","afterModalHide","relatedTarget","focusElement","toggleFocusTrap","afterModalShow","beforeModalShow","removeAttribute","ariaHidden","ariaModal","beforeModalHide","modalClickHandler","currentTarget","isStatic","modalDialog","backdrop","selectedText","targetInsideDialog","staticTransitionEnd","duration","overlayDelay","currentOpen","that","offcanvasSelector","offcanvasToggleSelector","offcanvasDismissSelector","offcanvasTogglingClass","offcanvasDefaults","getOffcanvasInstance","offcanvasInitCallback","Offcanvas","showOffcanvasEvent","shownOffcanvasEvent","hideOffcanvasEvent","hiddenOffcanvasEvent","setOffCanvasScrollbar","toggleOffCanvasDismiss","offcanvasKeyDismissHandler","offcanvasDismissHandler","beforeOffcanvasShow","showOffcanvasComplete","beforeOffcanvasHide","hideOffcanvasComplete","offcanvasTriggerHandler","offCanvasDismiss","selection","visibleTrigger","isOpen","popoverString","popoverComponent","tooltipString","getTipTemplate","tipType","isTooltip","bodyClass","header","body","tipClassPositions","styleTip","tipClasses","tooltip","container","offsetParent","scrollLeft","scrollTop","getNodeScroll","tipWidth","tipHeight","htmlcw","htmlch","htmlow","placement","parentCWidth","parentOWidth","fixedParent","leftBoundry","rightBoundry","observerEntry","elemWidth","elemHeight","elemRectLeft","elemRectRight","elemRectTop","elemOffsetLeft","elemOffsetTop","getRectRelativeToOffsetParent","topPosition","bottomPosition","leftPosition","rightPosition","arrowTop","arrowLeft","arrowRight","arrowWidth","arrowHeight","arrowAdjust","horizontals","verticals","updatedTooltipEvent","toLowerCase","tooltipDefaults","dataOriginalTitle","tooltipComponent","setHtml","content","sanitizeFn","dirty","tempDocument","isNodeList","isArray","createTip","id","title","template","animation","customClass","dismissible","btnClose","tipString","tipPositions","titleParts","contentParts","placementClass","tooltipTemplate","htmlMarkup","tooltipHeader","tooltipBody","tempTitle","tempContent","tempBtn","getElementContainer","majorBlockTags","containers","parentNode","getParentNode","isShadowRoot","isTableElement","tooltipSelector","titleAttr","getTooltipInstance","tooltipInitCallback","Tooltip","removeTooltip","ariaDescribedBy","hasTip","disposeTooltipComplete","toggleTooltipTitle","toggleTooltipAction","tooltipShownAction","shownTooltipEvent","tooltipHiddenAction","hiddenTooltipEvent","toggleTooltipOpenHandlers","parentModal","parentOffcanvas","titleAtt","tipComponent","elem","getUID","position","outTimer","showTooltipEvent","delay","hideTooltipEvent","enabled","tr","mousehoverEvent","focusinEvent","focusoutEvent","isApple","popoverSelector","popoverDefaults","getPopoverInstance","popoverInitCallback","Popover","scrollspyString","scrollspyComponent","scrollspySelector","scrollSpyAnchorSelector","scrollspyDefaults","getScrollSpyInstance","scrollspyInitCallback","ScrollSpy","activateScrollSpy","updateSpyTargets","_itemsLength","_observables","links","getElementsByTagName","link","hash","targetItem","clear","item","activate","parentItem","parentLink","getOffset","scrollTarget","spyTarget","_activeItem","entries","newActiveItem","firstOffset","offsetTop","nextTarget","nextOffsetTop","getElementById","_observer","_scrollTo","tabString","tabComponent","tabSelector","getTabInstance","tabInitCallback","Tab","showTabEvent","shownTabEvent","hideTabEvent","hiddenTabEvent","tabPrivate","triggerTabEnd","tabContent","nav","triggerTabShow","nextContent","tab","currentHeight","nextHeight","triggerTabHide","getActiveTab","activeTabs","getParentDropdown","dropdown","tabClickHandler","firstTab","firstTabContent","ariaSelected","activeDropdown","toggleTab","toastString","toastComponent","toastSelector","toastDismissSelector","toastToggleSelector","showingClass","hideClass","toastDefaults","getToastInstance","toastInitCallback","Toast","showToastEvent","shownToastEvent","hideToastEvent","hiddenToastEvent","showToastComplete","hideToastComplete","hideToast","showToast","toastClickHandler","interactiveToastHandler","isShown","hide","componentsList","initComponentDataAPI","collection","removeComponentDataAPI","component","context","compData","instance","initCallback","lookUp","elemCollection","cs","init","selector","removeDataAPI","comp"],"mappings":"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","x_google_ignoreList":[0,1,27]}